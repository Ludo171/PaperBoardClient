{"version":3,"sources":["assets/welcome.jpg","assets/wood.jpg","assets/Wood-4.jpg","assets/cappuccino2.jpg","assets/fillColor.png","assets/width.png","assets/lineStyle.png","assets/triangle.png","components/Background.js","config/config.js","config/constants.js","utils/logger.js","services/socket.js","pages/WelcomePage.js","pages/LoungePage.js","components/Picker.js","utils/colors.js","utils/readAsDataUrl.js","utils/lineSize.js","pages/CreateBoardPage.js","components/CanvasObject-Circle.js","components/CanvasObject-Image.js","components/CanvasObject-BackgroundImage.js","components/CanvasObject-BackgroundColor.js","components/CanvasObject-Line.js","components/CanvasManager.js","utils/lineStyle.js","components/EditShapePanel.js","components/ShapePanel.js","components/ListOfUsers.js","components/HeaderMenu.js","components/Chat.js","components/Message.js","components/ChatComponent.js","components/DeletePopUp.js","pages/PaperBoardPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Background","this","backgroundImg","Image","addEventListener","refreshBackground","src","props","imgSrc","window","removeEventListener","pageContainer","document","getElementById","canvas","ctx","getContext","style","width","clientWidth","height","clientHeight","srcX","srcY","srcW","srcH","canvasW","canvasH","canvasProp","img","imgW","imgH","drawImage","defaultStyle","position","overflow","undefined","keys","Object","i","length","hasOwnProperty","customStyle","addMinimumStyleAttributes","id","top","left","zIndex","alt","children","Component","config","hostname","http_port","rest_url","socket_port","socket_url","includes","process","REACT_APP_ENVIRONMENT","constants","SOCKET_MSG","IDENTIFY","GET_BOARD","GET_ALL_BOARDS","CREATE_BOARD","JOIN_BOARD","LEAVE_BOARD","CREATE_OBJECT","EDIT_OBJECT","LOCK_OBJECT","UNLOCK_OBJECT","CHAT_MESSAGE","DELETE_OBJECT","IDENTIFY_ANSWER","ANSWER_GET_BOARD","ANSWER_GET_ALL_BOARDS","ANSWER_CREATE_BOARD","DRAWER_JOIN_BOARD","DRAWER_LEFT_BOARD","DRAWER_DISCONNECTED","OBJECT_CREATED","OBJECT_EDITED","OBJECT_DELETED","OBJECT_LOCKED","OBJECT_UNLOCKED","Logger","moduleName","subModuleName","commonTypes","endCharacters","environment","args","errors","message","Error","push","charAt","console","log","error","shift","socketClientInstance","SocketClient","instance","componentName","backend_url","socketClient","connected","reconnectionParams","reconnect","reconnectionDelay","maxAttempts","currentAttemps","init","bind","stop","onConnect","onDisconnect","onMessage","sendMessage","handlers","identifiedHandlers","answerGetAllBoardsHandlers","answerGetBoardHandlers","answerCreatePaperBoardHandlers","drawerJoinedBoardHandlers","drawerLeftBoardHandlers","chatMessageHandlers","askDeletionHandlers","objLockedHandlers","objUnlockedHandlers","objCreatedHandlers","objEditedHandlers","objDeletedHandlers","objAskDeleteHandlers","drawerConnectedHandlers","drawerDisconnectedHandlers","logger","socket","WebSocket","onopen","onmessage","onclose","tryToReconnect","close","e","forEach","drawerDisconnectedHandler","code","setTimeout","socketMessage","data","JSON","parse","type","from","identifiedHandler","answerGetAllBoardsHandler","payload","answerGetBoardHandler","answerCreatePaperBoardHandler","drawerJoinedBoardHandler","userlist","drawerLeftBoardHandler","leaver","chatMessageHandler","writer","msg","ASK_DELETION","askDeletionHandler","objLockedHandler","objUnlockedHandler","objCreatedHandler","objEditedHandler","objDeletedHandler","DRAWER_CONNECTED","drawerConnectedHandler","objAskDeleteHandler","json","stringify","to","readyState","OPEN","send","alert","eventName","handler","subscriber","filter","fn","WelcomePage","onLogin","event","preventDefault","pseudo","state","handleServerLoginAnswer","pseudoAvailable","history","pathname","handleChange","setState","target","value","subscribeToEvent","unsubscribeToEvent","display","flexDirection","justifyContent","alignItems","backgroundImage","className","borderRadius","textAlign","onSubmit","placeholder","onChange","marginTop","onClick","withRouter","columns","title","field","LoungePage","getAllPaperBoards","handleAnswerGetAllBoards","_mounted","paperboards","loopGetAllPaperBoards","timeouts","onCreatePaperBoard","goToPaperBoard","handleAnswerGetBoard","chosenPaperboard","paperboard","board","handleJoinBoardServerResponse","drawers","location","t","pop","clearTimeout","map","creationDate","moment","format","fontWeight","fontSize","marginBottom","color","toUpperCase","substring","flex","IconButton","marginLeft","Refresh","actions","icon","tooltip","rowData","ColorPicker","hexColorCode","handleClick","listField","aria-haspopup","aria-controls","marginRight","role","list","key","item","getColorList","colors","transparent","antiquewhite","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","CreateBoardPage","componentDidMount","handleAnswerCreateBoard","defaultBoardTitle","handleTitleChanges","handleColor","response","isBackgroundImage","imageDataUrl","isBackgroundColor","backgroundColor","created","handleSwitch","name","checked","handleImage","files","size","maxSize","then","imageData","FormGroup","row","FormControlLabel","control","Switch","label","Button","variant","myInput","click","bottom","selectionZones","editionStates","generateCanvasObjectCircle","refX","refY","refW","refH","owner","creationOptions","X","Y","radius","lineWidth","lineColor","lineStyle","fillColor","isLocked","lockedBy","previousState","editionState","oldDragX","oldDragY","refreshArea","x1","y1","x2","y2","save","beginPath","strokeStyle","arc","Math","PI","setLineDash","stroke","fillStyle","fill","rect","restore","applyModifications","newValue","isNaN","Number","onMouseDown","x","y","myPseudo","zone","_computeCorrespondingZone","onMouseHover","getElementsByTagName","cursor","onMouseDrag","oldDist","sqrt","newDist","onMouseUp","modifications","shouldUnlock","toString","squareDistance","OUT","MOVE_SHAPE","RESIZE_FROM_TOP_LEFT","RESIZE_FROM_TOP_RIGHT","RESIZE_FROM_BOTTOM_LEFT","RESIZE_FROM_BOTTOM_RIGHT","generateCanvasObjectImage","srcURI","ObjectImage","cornerDistances","verticalAlign","horizontalAlign","W","H","generateCanvasObjectBackgroundImage","imageProp","generateCanvasObjectBackgroundColor","fillRect","generateCanvasObjectLine","positionEndPointX","positionEndPoint","positionEndPointY","moveTo","lineTo","min","abs","margin","max","CanvasManager","generateObjectPile","drawings","a","background","newObjPile","descr","drawingId","createObject","parseFloat","newImg","objPile","newCircle","newLine","onObjectLocked","objectId","found","setSelectedDrawing","refreshCanvasArea","onObjectUnlocked","onObjectEdited","onObjectDeleted","obj","resolutionWidth","resolutionHeight","handleMouseDown","handleMouseUp","handleMouseMove","handleMouseLeave","maxWidth","parentContainer","maxHeight","parentContainerProp","clearRect","which","getBoundingClientRect","clientX","replace","clientY","collisionIndex","object","report","ref","el","handleWidth","handleHeight","onResize","_onResize","lineSize","lineStyles","dashed","normal","EditShapePanel","onClickEditObject","editionType","prevState","isLineColorPickerToggled","isLineWidthPickerToggled","isLineStylePickerToggled","isFillColorPickerToggled","resp","selectedDrawing","handleLineWidth","handleLineStyle","handleColorFillColor","handleDeleteObject","nextProps","List","component","aria-label","subheader","ListSubheader","ListItem","button","disabled","ListItemIcon","ColorLens","ListItemText","primary","Icon","require","Divider","Delete","ShapePanel","onClickCreateObject","objectType","shape","positionX","positionY","onClickCreateObjectImage","description","Edit","Maximize","CropLandscape","PanoramaFishEye","toLowerCase","Photo","ListOfUsers","users","user","HeaderMenu","onSave","onImport","onQuit","CloudUpload","SaveAlt","ExitToApp","Chat","onCloseChat","messages","innerHeight","borderWidth","borderColor","paddingRight","paddingLeft","borderTopLeftRadius","borderTopRightRadius","Close","Message","isAuthor","ChatComponent","textFieldValue","receiveMessage","catchReturn","handleTextFieldChange","onChat","isChatDisplayed","TextField","onKeyPress","boxShadow","shadowOpacity","DeletePopUp","agreeDeletion","handleObjectDelete","alignContent","paddingTop","paddingBottom","border","startIcon","PaperBoardPage","selected","handleDrawerLeftBoard","handleDrawerJoinedBoard","isDeletePopUpDisplayed","deleteMsg","handleObjectDeleted","toggleShapePanel","right","App","handleDrawerDisconnected","Toast","fail","hide","performance","navigation","exact","path","Boolean","match","render","basename","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iHAAAA,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,sKCA3CD,EAAOC,QAAU,krB,kBCAjBD,EAAOC,QAAU,ktB,kBCAjBD,EAAOC,QAAU,8kB,kBCAjBD,EAAOC,QAAU,0wB,2JC6FFC,G,mMAzFU,IAAD,OAChBC,KAAKC,cAAgB,IAAIC,MACzBF,KAAKC,cAAcE,iBAAiB,QAAQ,kBAAM,EAAKC,uBACvDJ,KAAKC,cAAcI,IAAML,KAAKM,MAAMC,OACpCC,OAAOL,iBAAiB,UAAU,kBAAM,EAAKC,yB,6CAEzB,IAAD,OACnBJ,KAAKC,cAAcQ,oBAAoB,QAAQ,kBAAM,EAAKL,uBAC1DI,OAAOC,oBAAoB,UAAU,kBAAM,EAAKL,yB,0CAGhD,IAAMM,EAAgBC,SAASC,eAAe,kBACxCC,EAASF,SAASC,eAAe,qBACjCE,EAAMD,EAAOE,WAAW,MAC9BF,EAAOG,MAAMC,MAAb,UAAwBP,EAAcQ,YAAtC,MACAL,EAAOI,MAAQP,EAAcQ,YAC7BL,EAAOG,MAAMG,OAAb,UAAyBT,EAAcU,aAAvC,MACAP,EAAOM,OAAST,EAAcU,aAC9B,IASIC,EACAC,EACAC,EACAC,EAZEC,EAAUZ,EAAOI,MACjBS,EAAUb,EAAOM,OACjBQ,EAAaD,EAAUD,EAEvBG,EAAM5B,KAAKC,cACX4B,EAAOD,EAAIX,MACXa,EAAOF,EAAIT,OAObQ,EANYG,EAAOD,GASnBR,GAAQQ,GADRN,GADAC,EAAOM,GACOH,IACS,EACvBL,EAAO,IAIPD,EAAO,EACPC,GAAQQ,GAFRN,GADAD,EAAOM,GACOF,IAES,GAE3Bb,EAAIiB,UAAUH,EAAKP,EAAMC,EAAMC,EAAMC,EAAM,EAAG,EAAGC,EAASC,K,gDAEpCV,GACtB,IAAMgB,EAAe,CACjBC,SAAU,WACVC,SAAU,SACVjB,MAAO,OACPE,OAAQ,QAGZ,QAAcgB,IAAVnB,EACAA,EAAQgB,OAGR,IADA,IAAMI,EAAOC,OAAOD,KAAKJ,GAChBM,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IACxBtB,EAAMwB,eAAeJ,EAAKE,MAC3BtB,EAAMoB,EAAKE,IAAMN,EAAaI,EAAKE,O,+BAKzC,IACCG,EAAezC,KAAKM,MAApBmC,YAEP,OADAzC,KAAK0C,0BAA0BD,GAE3B,yBAAKE,GAAG,iBAAiB3B,MAAOyB,GAC5B,4BACIE,GAAG,oBACH3B,MAAO,CACHiB,SAAU,WACVW,IAAK,MACLC,KAAM,MACN1B,OAAQ,OACRF,MAAO,OACP6B,QAAS,GAEbC,IAAI,eACP/C,KAAKM,MAAM0C,c,GAhFHC,cCHnBC,EAAS,CACXC,SAAU,sBAEVC,UAAW,KACXC,SAAU,gCAEVC,YAAa,KACbC,WAAY,2CAIZ,CAAC,MAAO,UAAW,eAAeC,SAASC,8gBAAYC,wBACvDR,EAAOC,SAAWM,YAClBP,EAAOE,UAAYK,OACnBP,EAAOG,SAAP,UAAqBI,OAArB,cAAkEA,YAAlE,YAAwGA,QACxGP,EAAOI,YAAcG,OACrBP,EAAOK,WAAP,UAAuBE,KAAvB,cAAsEA,YAAtE,YAA4GA,OAA5G,YAAqJA,4BAC9I,CAAC,OAAQ,cAAcD,SAASC,8gBAAYC,yBACnDR,EAAOC,SAAWM,6BAClBP,EAAOE,UAAYK,OACnBP,EAAOG,SAAP,UAAqBI,OAArB,cAAmEA,8BACnEP,EAAOI,YAAcG,OACrBP,EAAOK,WAAP,UAAuBE,KAAvB,cAAuEA,6BAAvE,YAA8GA,4BAEnGP,QCUAS,EAlCG,CACdC,WAAY,CAERC,SAAU,aACVC,UAAW,YACXC,eAAgB,iBAChBC,aAAa,eACbC,WAAY,aACZC,YAAa,cACbC,cAAe,gBACfC,YAAa,cACbC,YAAa,cACbC,cAAe,gBAGfC,aAAc,eACdC,cAAe,gBAGfC,gBAAiB,wBACjBC,iBAAkB,mBAClBC,sBAAuB,wBACvBC,oBAAqB,sBACrBC,kBAAmB,0BACnBC,kBAAmB,oBACnBC,oBAAqB,sBACrBC,eAAgB,iBAChBC,cAAe,gBACfC,eAAgB,iBAChBC,cAAe,gBACfC,gBAAiB,oBCOVC,E,WApCX,WAAYC,GAAmC,IAAvBC,EAAsB,uDAAN,KAAM,oBAC1CvF,KAAKsF,WAA+B,OAAlBC,EAAyBD,EAAaA,EAAa,IAAMC,EAC3EvF,KAAKwF,YAAc,CAAC,SAAU,UAC9BxF,KAAKyF,cAAgB,CAAC,IAAK,IAAK,IAAK,KACrCzF,KAAK0F,YAAcjC,a,kDAGT,IAAD,uBAANkC,EAAM,yBAANA,EAAM,gBAIT,GAAoB,IAAhBA,EAAKpD,QAAiBvC,KAAKwF,YAAYhC,gBAAgBmC,EAAK,IAEzD,CAGH,IAFA,IAAMC,EAAS,GACXC,EAAO,WAAO7F,KAAKsF,WAAZ,OACFhD,EAAI,EAAGA,EAAIqD,EAAKpD,OAAQD,IAC7BuD,GAAW,IAAMF,EAAKrD,GAClBqD,EAAKrD,aAAcwD,OACnBF,EAAOG,KAAKJ,EAAKrD,IAQzB,IAJKtC,KAAKyF,cAAcjC,SAASqC,EAAQG,OAAOH,EAAQtD,OAAS,MAC7DsD,GAAW,KAEfI,QAAQC,IAAIL,GACLD,EAAOrD,OAAS,GACnB0D,QAAQE,MAAMP,EAAOQ,cAhBzBH,QAAQC,IAAIP,EAAK,Q,KCqZdU,EADc,I,WA5ZzB,aAEI,OAFW,oBAELC,EAAaC,SACRD,EAAaC,UAExBD,EAAaC,SAAWvG,KAGxBA,KAAKwG,cAAgB,gBACrBxG,KAAKyG,YAAL,UAAsBvD,EAAOK,YAC7BvD,KAAK0G,aAAe,KACpB1G,KAAK2G,WAAY,EACjB3G,KAAK4G,mBAAqB,CACtBC,WAAW,EACXC,kBAAmB,IACnBC,YAAa,GACbC,eAAgB,GAIpBhH,KAAKiH,KAAOjH,KAAKiH,KAAKC,KAAKlH,MAC3BA,KAAKmH,KAAOnH,KAAKmH,KAAKD,KAAKlH,MAC3BA,KAAKoH,UAAYpH,KAAKoH,UAAUF,KAAKlH,MACrCA,KAAKqH,aAAerH,KAAKqH,aAAaH,KAAKlH,MAC3CA,KAAKsH,UAAYtH,KAAKsH,UAAUJ,KAAKlH,MACrCA,KAAKuH,YAAcvH,KAAKuH,YAAYL,KAAKlH,MAEzCA,KAAKwH,SAAW,CACZC,mBAAoB,GACpBC,2BAA4B,GAC5BC,uBAAwB,GACxBC,+BAAgC,GAChCC,0BAA2B,GAC3BC,wBAAyB,GACzBC,oBAAqB,GACrBC,oBAAqB,GACrBC,kBAAmB,GACnBC,oBAAqB,GACrBC,mBAAoB,GACpBC,kBAAmB,GACnBC,mBAAoB,GACpBC,qBAAsB,GACtBC,wBAAyB,GACzBC,2BAA4B,IAEhCxI,KAAKyI,OAAS,IAAIpD,EAAOrF,KAAKwG,eAEvBxG,M,mDAIPA,KAAKyI,OAAOvC,IAAZ,6CAAsDlG,KAAKyG,YAA3D,SACAzG,KAAK4G,mBAAmBI,gBAAkB,EAC1C,IAAM0B,EAAS,IAAIC,UAAU3I,KAAKyG,aAClCzG,KAAK0G,aAAegC,EACpB1I,KAAK0G,aAAakC,OAAS5I,KAAKoH,UAChCpH,KAAK0G,aAAamC,UAAY7I,KAAKsH,UACnCtH,KAAK0G,aAAaoC,QAAU9I,KAAKqH,e,6BAGjCrH,KAAK+I,gBAAiB,EACtB/I,KAAK0G,aAAasC,QAClBhJ,KAAK0G,aAAe,O,kCAIpB1G,KAAKyI,OAAOvC,IAAZ,oCAA6ClG,KAAKyG,YAAlD,MACAzG,KAAK2G,WAAY,EACjB3G,KAAK4G,mBAAmBI,eAAiB,I,mCAEhCiC,GAMT,OALIjJ,KAAK4G,mBAAmBI,eAAiB,GACzChH,KAAKwH,SAASgB,2BAA2BU,SAAQ,SAACC,GAC9CA,OAGAF,EAAEG,MACN,KAAK,IACD,MACJ,cAOQpJ,KAAK4G,mBAJLC,EAHR,EAGQA,UACAE,EAJR,EAIQA,YACAC,EALR,EAKQA,eACAF,EANR,EAMQA,kBAEAD,GAAaG,EAAiBD,GAC9BsC,WAAWrJ,KAAKiH,KAAMH,GAIlC9G,KAAKyI,OAAOvC,IAAZ,oCAA6ClG,KAAKyG,YAAlD,Q,gCAEM6C,GACN,IAAIC,EAAO,KACX,IACIA,EAAOC,KAAKC,MAAMH,EAAcC,MAChCvJ,KAAKyI,OAAOvC,IAAZ,mBACgBqD,EAAKG,KADrB,sBACgDvH,IAAdoH,EAAKI,KAAqB,SAAWJ,EAAKI,KAD5E,MAGF,MAAOxD,GACLnG,KAAKyI,OAAOvC,IAAI,2DAA4DC,GAC5EnG,KAAKyI,OAAOvC,IAAIoD,GAChBC,EAAO,GAEX,OAAQA,EAAKG,MACT,KAAK/F,EAAUC,WAAWa,gBACtBzE,KAAKyI,OAAOvC,IAAZ,uCACoClG,KAAKwH,SAASC,mBAAmBlF,OADrE,OAGAvC,KAAKwH,SAASC,mBAAmByB,SAAQ,SAACU,GACtCA,EAAkBL,MAEtB,MACJ,KAAK5F,EAAUC,WAAWe,sBACtB3E,KAAKyI,OAAOvC,IAAZ,yCACsClG,KAAKwH,SAASE,2BAA2BnF,OAD/E,OAGAvC,KAAKwH,SAASE,2BAA2BwB,SAAQ,SAACW,GAC9CA,EAA0BN,EAAKO,YAEnC,MACJ,KAAKnG,EAAUC,WAAWc,iBACtB1E,KAAKyI,OAAOvC,IAAZ,qCACkClG,KAAKwH,SAASG,uBAAuBpF,OADvE,OAGAvC,KAAKwH,SAASG,uBAAuBuB,SAAQ,SAACa,GAC1CA,EAAsBR,EAAKO,YAE/B,MACJ,KAAKnG,EAAUC,WAAWgB,oBACtB5E,KAAKyI,OAAOvC,IAAZ,wCACqClG,KAAKwH,SAASI,+BAA+BrF,OADlF,OAGAvC,KAAKwH,SAASI,+BAA+BsB,SACzC,SAACc,GACGA,EAA8BT,EAAKO,YAG3C,MACJ,KAAKnG,EAAUC,WAAWiB,kBACtB7E,KAAKyI,OAAOvC,IAAZ,gDAC6ClG,KAAKwH,SAASK,0BAA0BtF,OADrF,OAGAvC,KAAKwH,SAASK,0BAA0BqB,SAAQ,SAACe,GAC7CA,EAAyBV,EAAKO,QAAQI,aAE1C,MACJ,KAAKvG,EAAUC,WAAWkB,kBACtB9E,KAAKyI,OAAOvC,IAAZ,8CAC2ClG,KAAKwH,SAASM,wBAAwBvF,OADjF,OAGAvC,KAAKwH,SAASM,wBAAwBoB,SAAQ,SAACiB,GAC3CA,EAAuBZ,EAAKO,QAAQM,OAAQb,EAAKO,QAAQI,aAE7D,MACJ,KAAKvG,EAAUC,WAAWW,aACtBvE,KAAKyI,OAAOvC,IAAZ,yCACsClG,KAAKwH,SAASO,oBAAoBxF,OADxE,OAGAvC,KAAKwH,SAASO,oBAAoBmB,SAAQ,SAACmB,GACvCA,EAAmBd,EAAKO,QAAQQ,OAAQf,EAAKO,QAAQS,QAEzD,MACJ,KAAK5G,EAAUC,WAAW4G,aACtBxK,KAAKyI,OAAOvC,IAAZ,yCACsClG,KAAKwH,SAASQ,oBAAoBzF,OADxE,OAGAvC,KAAKwH,SAASQ,oBAAoBkB,SAAQ,SAACuB,GAAD,OACtCA,OAEJ,MACJ,KAAK9G,EAAUC,WAAWuB,cACtBnF,KAAKyI,OAAOvC,IAAZ,0CACuClG,KAAKwH,SAASS,kBAAkB1F,OADvE,OAGAvC,KAAKwH,SAASS,kBAAkBiB,SAAQ,SAACwB,GAAD,OACpCA,EAAiBnB,EAAKO,YAE1B,MACJ,KAAKnG,EAAUC,WAAWwB,gBACtBpF,KAAKyI,OAAOvC,IAAZ,4CACyClG,KAAKwH,SAASU,oBAAoB3F,OAD3E,OAGAvC,KAAKwH,SAASU,oBAAoBgB,SAAQ,SAACyB,GAAD,OACtCA,EAAmBpB,EAAKO,YAE5B,MACJ,KAAKnG,EAAUC,WAAWoB,eACtBhF,KAAKyI,OAAOvC,IAAZ,2CACwClG,KAAKwH,SAASW,mBAAmB5F,OADzE,OAGAvC,KAAKwH,SAASW,mBAAmBe,SAAQ,SAAC0B,GAAD,OACrCA,EAAkBrB,EAAKO,YAE3B,MACJ,KAAKnG,EAAUC,WAAWqB,cACtBjF,KAAKyI,OAAOvC,IAAZ,iCAC8BlG,KAAKwH,SAASY,kBAAkB7F,OAD9D,OAGAvC,KAAKwH,SAASY,kBAAkBc,SAAQ,SAAC2B,GAAD,OACpCA,EAAiBtB,EAAKO,YAE1B,MACJ,KAAKnG,EAAUC,WAAWsB,eACtBlF,KAAKyI,OAAOvC,IAAZ,kCAC+BlG,KAAKwH,SAASa,mBAAmB9F,OADhE,OAGAvC,KAAKwH,SAASa,mBAAmBa,SAAQ,SAAC4B,GAAD,OACrCA,EAAkBvB,EAAKO,YAE3B,MACJ,KAAKnG,EAAUC,WAAWmH,iBACtB/K,KAAKyI,OAAOvC,IAAZ,6CAC0ClG,KAAKwH,SAASe,wBAAwBhG,OADhF,OAGAvC,KAAKwH,SAASe,wBAAwBW,SAAQ,SAAC8B,GAC3CA,EAAuBzB,EAAKO,QAAQI,aAExC,MACJ,KAAKvG,EAAUC,WAAWmB,oBACtB/E,KAAKyI,OAAOvC,IAAZ,gDAC6ClG,KAAKwH,SAASgB,2BAA2BjG,OADtF,OAGAvC,KAAKwH,SAASgB,2BAA2BU,SAAQ,SAACC,GAAD,OAC7CA,EAA0BI,EAAKI,SAEnC,MACJ,KAAKhG,EAAUC,WAAWY,cACtBxE,KAAKyI,OAAOvC,IAAZ,0CACuClG,KAAKwH,SAASc,qBAAqB/F,OAD1E,OAGAvC,KAAKwH,SAASc,qBAAqBY,SAAQ,SAAC+B,GAAD,OACvCA,EAAoB1B,MAExB,MACJ,QACIvJ,KAAKyI,OAAOvC,IAAZ,2CACwCqD,EAAKG,KAD7C,mBAC4DH,EAAKI,KADjE,S,kCAKAuB,GACR,IAAIrF,EAAU,KACd,GAAKqF,EAAKxB,KAEH,CACH,IACI7D,EAAU2D,KAAK2B,UAAUD,GACzBlL,KAAKyI,OAAOvC,IAAZ,kBACegF,EAAKxB,KADpB,oBAC2CvH,IAAZ+I,EAAKE,GAAmB,SAAWF,EAAKE,GADvE,MAGF,MAAOjF,GACLnG,KAAKyI,OAAOvC,IACR,gEACAC,GAEJN,EAAU,GAEdI,QAAQC,IAAIlG,KAAK0G,cACb1G,KAAK0G,cAAgB1G,KAAK0G,aAAa2E,aAAe1C,UAAU2C,KAChEtL,KAAK0G,aAAa6E,KAAK1F,GAEvB2F,MAAM,8DAlBVxL,KAAKyI,OAAOvC,IAAI,0CAA2CgF,K,uCAuBlDO,EAAWC,EAASC,GACjC,OAAQF,GACJ,KAAK9H,EAAUC,WAAWa,gBACtBzE,KAAKwH,SAASC,mBAAmB1B,KAAK2F,GACtC,MACJ,KAAK/H,EAAUC,WAAWe,sBACtB3E,KAAKwH,SAASE,2BAA2B3B,KAAK2F,GAC9C,MACJ,KAAK/H,EAAUC,WAAWc,iBACtB1E,KAAKwH,SAASG,uBAAuB5B,KAAK2F,GAC1C,MACJ,KAAK/H,EAAUC,WAAWgB,oBACtB5E,KAAKwH,SAASI,+BAA+B7B,KAAK2F,GAClD,MACJ,KAAK/H,EAAUC,WAAWiB,kBACtB7E,KAAKwH,SAASK,0BAA0B9B,KAAK2F,GAC7C,MACJ,KAAK/H,EAAUC,WAAWkB,kBACtB9E,KAAKwH,SAASM,wBAAwB/B,KAAK2F,GAC3C,MACJ,KAAK/H,EAAUC,WAAWW,aACtBvE,KAAKwH,SAASO,oBAAoBhC,KAAK2F,GACvC,MACJ,KAAK/H,EAAUC,WAAW4G,aACtBxK,KAAKwH,SAASQ,oBAAoBjC,KAAK2F,GACvC,MACJ,KAAK/H,EAAUC,WAAWuB,cACtBnF,KAAKwH,SAASS,kBAAkBlC,KAAK2F,GACrC,MACJ,KAAK/H,EAAUC,WAAWwB,gBACtBpF,KAAKwH,SAASU,oBAAoBnC,KAAK2F,GACvC,MACJ,KAAK/H,EAAUC,WAAWoB,eACtBhF,KAAKwH,SAASW,mBAAmBpC,KAAK2F,GACtC,MACJ,KAAK/H,EAAUC,WAAWqB,cACtBjF,KAAKwH,SAASY,kBAAkBrC,KAAK2F,GACrC,MACJ,KAAK/H,EAAUC,WAAWsB,eACtBlF,KAAKwH,SAASa,mBAAmBtC,KAAK2F,GACtC,MACJ,KAAK/H,EAAUC,WAAWmH,iBACtB/K,KAAKwH,SAASe,wBAAwBxC,KAAK2F,GAC3C,MACJ,KAAK/H,EAAUC,WAAWmB,oBACtB/E,KAAKwH,SAASgB,2BAA2BzC,KAAK2F,GAC9C,MACJ,KAAK/H,EAAUC,WAAWY,cACtBxE,KAAKwH,SAASc,qBAAqBvC,KAAK2F,GACxC,MACJ,QACI1L,KAAKyI,OAAOvC,IAAZ,qBACkByF,EADlB,yDAC6EF,EAD7E,OAIRzL,KAAKyI,OAAOvC,IAAZ,qBAA8ByF,EAA9B,2BAA2DF,EAA3D,Q,yCAEeA,EAAWC,EAASC,GACnC,OAAQF,GACJ,KAAK9H,EAAUC,WAAWa,gBACtBzE,KAAKwH,SAASC,mBAAqBzH,KAAKwH,SAASC,mBAAmBmE,QAChE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWc,iBACtB1E,KAAKwH,SAASG,uBAAyB3H,KAAKwH,SAASG,uBAAuBiE,QACxE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWe,sBACtB3E,KAAKwH,SAASE,2BAA6B1H,KAAKwH,SAASE,2BAA2BkE,QAChF,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWgB,oBACtB5E,KAAKwH,SAASI,+BAAiC5H,KAAKwH,SAASI,+BAA+BgE,QACxF,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWiB,kBACtB7E,KAAKwH,SAASK,0BAA4B7H,KAAKwH,SAASK,0BAA0B+D,QAC9E,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWkB,kBACtB9E,KAAKwH,SAASM,wBAA0B9H,KAAKwH,SAASM,wBAAwB8D,QAC1E,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWW,aACtBvE,KAAKwH,SAASO,oBAAsB/H,KAAKwH,SAASO,oBAAoB6D,QAClE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAW4G,aACtBxK,KAAKwH,SAASQ,oBAAsBhI,KAAKwH,SAASQ,oBAAoB4D,QAClE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWuB,cACtBnF,KAAKwH,SAASS,kBAAoBjI,KAAKwH,SAASS,kBAAkB2D,QAC9D,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWwB,gBACtBpF,KAAKwH,SAASU,oBAAsBlI,KAAKwH,SAASU,oBAAoB0D,QAClE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWoB,eACtBhF,KAAKwH,SAASW,mBAAqBnI,KAAKwH,SAASW,mBAAmByD,QAChE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWqB,cACtBjF,KAAKwH,SAASY,kBAAoBpI,KAAKwH,SAASY,kBAAkBwD,QAC9D,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWsB,eACtBlF,KAAKwH,SAASa,mBAAqBrI,KAAKwH,SAASa,mBAAmBuD,QAChE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWmH,iBACtB/K,KAAKwH,SAASwD,uBAAyBhL,KAAKwH,SAASwD,uBAAuBY,QACxE,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,KAAK/H,EAAUC,WAAWmB,oBACtB/E,KAAKwH,SAASgB,2BAA6BxI,KAAKwH,SAASgB,2BAA2BoD,QAChF,SAACC,GAAD,OAAQA,IAAOH,KAEnB,MACJ,QACI1L,KAAKyI,OAAOvC,IAAZ,qBACkByF,EADlB,6DACiFF,EADjF,OAIRzL,KAAKyI,OAAOvC,IAAZ,qBAA8ByF,EAA9B,+BAA+DF,EAA/D,U,eCpZFK,E,YACF,WAAYxL,GAAQ,IAAD,8BACf,4CAAMA,KAsBVyL,QAAU,SAACC,GACPA,EAAMC,iBACN5F,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWC,SAC3B8F,KAAM,SACNyB,GAAI,SACJtB,QAAS,CAACoC,OAAQ,EAAKC,MAAMD,WA7BlB,EAiCnBE,wBAA0B,SAAC7C,GACnBA,EAAKO,QAAQuC,iBAAmB,EAAKF,MAAMD,OAC3C,EAAK5L,MAAMgM,QAAQvG,KAAK,CACpBwG,SAAU,UACVJ,MAAO,CAACD,OAAQ,EAAKC,MAAMD,UAG/BV,MACI,0BACI,EAAKW,MAAMD,OACX,mDA3CG,EAgDnBM,aAAe,SAACR,GACZ,EAAKS,SAAS,CAACP,OAAQF,EAAMU,OAAOC,SA/CpC,EAAKR,MAAQ,CAACD,OAAQ,IACtB,EAAK1F,cAAgB,cACrBH,EAAqBY,OAJN,E,iFAQfZ,EAAqBuG,iBACjBjJ,EAAUC,WAAWa,gBACrBzE,KAAKoM,wBACLpM,KAAKwG,iB,6CAKTH,EAAqBwG,mBACjBlJ,EAAUC,WAAWa,gBACrBzE,KAAKoM,wBACLpM,KAAKwG,iB,+BAkCT,OACI,kBAAC,EAAD,CACI/D,YAAa,CACTqK,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEhB1M,OAAQ2M,GACR,yBAAKC,UAAU,OAAOnM,MAAO,CAACC,MAAO,cAAemM,aAAc,SAC9D,yBACID,UAAU,eACVnM,MAAO,CAAC8L,QAAS,OAAQC,cAAe,SAAUE,WAAY,WAC9D,uBAAGE,UAAU,aAAanM,MAAO,CAACqM,UAAW,WAA7C,2BAGA,uBAAGF,UAAU,gBAAgBnM,MAAO,CAACqM,UAAW,WAAhD,mCAGA,yBAAKF,UAAU,OAAOnM,MAAO,CAACC,MAAO,cAAemM,aAAc,SAC9D,yBACID,UAAU,eACVxK,GAAG,aACH3B,MAAO,CACH8L,QAAS,OACTC,cAAe,SACfE,WAAY,WAEhB,uBAAGE,UAAU,cAAb,iBACA,yBAAKA,UAAU,OACX,0BAAMG,SAAUtN,KAAK+L,SACjB,yBAAKoB,UAAU,SACX,uBAAGA,UAAU,0BACT,2BACIzD,KAAK,OACLyD,UAAU,6BACVI,YAAY,SACZZ,MAAO3M,KAAKmM,MAAMQ,MAClBa,SAAUxN,KAAKwM,kBAI/B,yBAAKW,UAAU,QAAQnM,MAAO,CAACyM,UAAW,KACtC,uBAAGN,UAAU,WACT,4BACIA,UAAU,6BACVO,QAAS1N,KAAK+L,SAFlB,oB,GAlGlB9I,aAuHX0K,cAAW7B,G,+DCnHpB8B,EAAU,CACZ,CACIC,MAAO,QACPC,MAAO,SAEX,CACID,MAAO,qBACPC,MAAO,yBAEX,CACID,MAAO,gBACPC,MAAO,iBAITC,E,YACF,WAAYzN,GAAQ,IAAD,8BACf,4CAAMA,KAkEV0N,kBAAoB,WAChB3H,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWG,eAC3B4F,KAAM,EAAKwC,MAAMD,OACjBd,GAAI,SACJtB,QAAS,MAxEE,EA2EnBmE,yBAA2B,SAAC1E,GACpB,EAAK2E,UACL,EAAKzB,SAAS,CAAC0B,YAAa5E,EAAK4E,eA7EtB,EAiFnBC,sBAAwB,WACpB,EAAKC,SAAStI,KACVsD,YAAW,WACP,EAAK2E,oBACL,EAAKI,0BACN,OAtFQ,EA0FnBE,mBAAqB,WACjB,EAAKhO,MAAMgM,QAAQvG,KAAK,CAACwG,SAAU,aAAcJ,MAAO,CAACD,OAAQ,EAAKC,MAAMD,WA3F7D,EA8FnBqC,eAAiB,SAACV,GACdxH,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWE,UAC3B6F,KAAM,EAAKwC,MAAMD,OACjBd,GAAI,SACJtB,QAAS,CAAC+D,YAnGC,EAuGnBW,qBAAuB,SAACjF,GACpB,EAAKkD,SAAS,CAACgC,iBAAkBlF,EAAKmF,aAAa,WAC/CrI,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWK,WAC3B0F,KAAM,EAAKwC,MAAMD,OACjBd,GAAI,SACJtB,QAAS,CAAC6E,MAAOpF,EAAKmF,WAAWb,aA7G1B,EAkHnBe,8BAAgC,SAACC,GAAa,IAAD,EACN,EAAK1C,MAAjCD,EADkC,EAClCA,OAAQuC,EAD0B,EAC1BA,iBACXA,GACA,EAAKnO,MAAMgM,QAAQvG,KAAK,CACpBwG,SAAS,eAAD,OAAiBkC,EAAiBZ,OAC1C1B,MAAO,CAACuC,WAAYD,EAAkBvC,SAAQ2C,cArHtD,EAAKrI,cAAgB,aAErB,EAAK6H,SAAW,GAEhB,EAAKlC,MAAQ,CACTD,OAAQ,YACRiC,YAAa,GACbM,iBAAkB,MAEtB,EAAKP,UAAW,EAXD,E,iFAgBf,GADAlO,KAAKkO,UAAW,EACZlO,KAAKM,MAAMwO,UAAY9O,KAAKM,MAAMwO,SAAS3C,MAAO,CAAC,IAGnCD,EAEZlM,KAAKM,MAHLwO,SACI3C,MAAQD,OAGhBlM,KAAKyM,SAAS,CAACP,WAEnB7F,EAAqBuG,iBACjBjJ,EAAUC,WAAWe,sBACrB3E,KAAKiO,yBACLjO,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWc,iBACrB1E,KAAKwO,qBACLxO,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWiB,kBACrB7E,KAAK4O,8BACL5O,KAAKwG,eAETxG,KAAKgO,oBACLhO,KAAKoO,0B,6CAoBL,IAhBA/H,EAAqBwG,mBACjBlJ,EAAUC,WAAWiB,kBACrB7E,KAAK4O,8BACL5O,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWc,iBACrB1E,KAAKwO,qBACLxO,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWiB,kBACrB7E,KAAK4O,8BACL5O,KAAKwG,eAGFxG,KAAKqO,SAAS9L,OAAS,GAAG,CAC7B,IAAMwM,EAAI/O,KAAKqO,SAASW,MACxBC,aAAaF,GAEjB/O,KAAKkO,UAAW,I,+BA4DV,IAAD,SACyBlO,KAAKmM,MAA5BD,EADF,EACEA,OAAQiC,EADV,EACUA,YAQf,OAPAA,EAAYe,KAAI,SAACR,GAKb,OAJAA,EAAWS,aAAeC,EAAOV,EAAWS,cAAcE,OACtD,iCAEJX,EAAWG,QAAUH,EAAWG,QAAQtM,OACjCmM,KAGP,kBAAC,EAAD,CACIjM,YAAa,CACTqK,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEhB1M,OAAQ2M,GACR,wBACIlM,MAAO,CACHsO,WAAY,OACZC,SAAU,MACVC,aAAc,EACdC,MAAO,QACPpC,UAAW,WANnB,UAQQnB,EAAOlG,OAAO,GAAG0J,eARzB,OAQyCxD,EAAOyD,UACxC,GATR,uCAYA,yBAAKxC,UAAU,OAAOnM,MAAO,CAACoM,aAAc,SACxC,yBAAKD,UAAU,gBACX,uBAAGA,UAAU,aAAanM,MAAO,CAACqM,UAAW,WAA7C,gBAGA,kBAAC,IAAD,CACIQ,MACI,yBACI7M,MAAO,CACH8L,QAAS,OACT8C,KAAM,EACN5C,eAAgB,gBAChBC,WAAY,WALpB,SAQI,kBAAC4C,EAAA,EAAD,CACInC,QAAS1N,KAAKgO,kBACdhN,MAAO,CAAC8O,WAAY,KACpB,kBAACC,EAAA,EAAD,QAIZnC,QAASA,EACTrE,KAAM4E,EACN6B,QAAS,CACL,CACInC,MAAO,OACPoC,KAAM,SACNC,QAAS,OACTxC,QAAS,SAAC1B,EAAOmE,GAAR,OAAoB,EAAK5B,eAAe4B,EAAQtC,cAM7E,yBAAKV,UAAU,QAAQnM,MAAO,CAACyM,UAAW,KACtC,uBAAGN,UAAU,WACT,4BACIA,UAAU,6BACVO,QAAS1N,KAAKsO,oBAFlB,kC,GAhMCrL,aAiNV0K,cAAWI,G,6CCzKXqC,G,wLAxCD,IAAD,EAC8DpQ,KAAKM,MAAjEmP,EADF,EACEA,MAAOY,EADT,EACSA,aAAcC,EADvB,EACuBA,YAAaC,EADpC,EACoCA,UAAWzC,EAD/C,EAC+CA,MAAOpE,EADtD,EACsDA,KAC3D,OACI,yBAAKyD,UAAU,YACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,oBACX,4BACIA,UAAU,SACVqD,gBAAc,OACdC,gBAAc,kBACJ,UAAT/G,GACG,uBACI1I,MAAO,CACHyO,MAAOY,EACPK,YAAa,OAHrB,UAQJ,8BAAOjB,GAAgB3B,KAG/B,yBAAKX,UAAU,gBAAgBxK,GAAG,iBAAiBgO,KAAK,QACpD,yBAAKxD,UAAU,oBA/ClB,SAACmD,EAAaC,EAAW7G,GAC1C,IAAMkH,EAAO,GADsC,WAGxCC,GACPD,EAAK7K,KACD,yBACIoH,UAAU,gBACV0D,IAAKN,EAAUM,GACfnD,QAAS,kBAAM4C,EAAY,CAACQ,KAAMD,EAAKlE,MAAO4D,EAAUM,OACxD,yBAAK7P,MAAO,CAAC8L,QAAS,OAAQG,WAAY,SAAUD,eAAgB,WACtD,UAATtD,EACG,uBAAG1I,MAAO,CAACyO,MAAOc,EAAUM,GAAMtB,SAAU,QAA5C,UAEA,yBAAKvO,MAAO,CAACuO,SAAU,QAASgB,EAAUM,KAGlD,wBAAI1D,UAAU,wBAb1B,IAAK,IAAM0D,KAAON,EAAY,EAAnBM,GAiBX,OAAOD,EA4BkBG,CAAaT,EAAaC,EAAW7G,W,GAzBxCzG,cC3BpB+N,EAAS,CACXC,YAAa,cACbC,aAAc,UACdC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,KAAM,UACNC,UAAW,UACXC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,SAAU,UACVC,QAAS,UACT,aAAc,UACdC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,SAAU,UACVC,cAAe,UACfC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,OAAQ,UACRC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,WC3IjB,SAASC,EAAUC,GACf,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcN,GACrBI,EAAOG,OAAS,kBAAML,EAAQE,EAAOI,SACrCJ,EAAOK,QAAU,SAAClU,GAAD,OAAW4T,EAAO5T,OCH3C,I,aCcMmU,E,YACF,WAAYha,GAAQ,IAAD,8BACf,4CAAMA,KAcVia,kBAAoB,WAAO,IAERpO,EACX,EAAK7L,MADLwO,SAAW3C,MAEf,EAAKM,SAAS,CAACP,OAAQC,EAAQA,EAAMD,OAAS,KAC9C7F,EAAqBuG,iBACjBjJ,EAAUC,WAAWgB,oBACrB,EAAK4V,wBACL,EAAKhU,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWc,iBACrB,EAAK8J,qBACL,EAAKhI,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWiB,kBACrB,EAAK+J,8BACL,EAAKpI,gBAjCM,EAuDnBiU,kBAAoB,sBAvDD,EAyDnBC,mBAAqB,SAAC1O,GAClB,EAAKS,SAAS,CAACoB,MAAO7B,EAAMU,OAAOC,SA1DpB,EA6DnBgO,YAAc,SAACC,GAAc,IACZnL,EAA8BmL,EAApC9J,KAAoBT,EAAgBuK,EAAvBjO,MACpB,EAAKF,SAAS,CAACgD,QAAOY,kBA/DP,EAkEnB/B,mBAAqB,WAAO,IACjBT,EAAS,EAAK1B,MAAd0B,MACP,GAAc,KAAVA,EAAc,CACd,IAAM/D,EAAU,CAAC+D,SACb,EAAK1B,MAAM0O,mBAAiD,KAA5B,EAAK1O,MAAM2O,aAC3ChR,EAAQoD,gBAAkB,EAAKf,MAAM2O,aAC9B,EAAK3O,MAAM4O,mBAAiD,KAA5B,EAAK5O,MAAMkE,eAClDvG,EAAQkR,gBAAkB,EAAK7O,MAAMkE,cAEzChK,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWI,aAC3B2F,KAAM,EAAKwC,MAAMD,OACjBd,GAAI,SACJtB,cA/EO,EAoFnB0Q,wBAA0B,SAACjR,GAAU,IAC1BsE,EAAS,EAAK1B,MAAd0B,OACc,IAAjBtE,EAAK0R,QACL5U,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWE,UAC3B6F,KAAM,EAAKwC,MAAMD,OACjBd,GAAI,SACJtB,QAAS,CAAC+D,WAGdrC,MACI,yBAA2BqC,EAAQ,kDA/F5B,EAoGnBW,qBAAuB,SAACjF,GACpB,EAAKkD,SAAS,CAACiC,WAAYnF,EAAKmF,aAAa,WACzCrI,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWK,WAC3B0F,KAAM,EAAKwC,MAAMD,OACjBd,GAAI,SACJtB,QAAS,CAAC6E,MAAOpF,EAAKmF,WAAWb,aA1G1B,EA+GnBe,8BAAgC,SAACC,GAAa,IAAD,EACZ,EAAK1C,MAA3BD,EADkC,EAClCA,OAAQwC,EAD0B,EAC1BA,WACf,EAAKpO,MAAMgM,QAAQvG,KAAK,CACpBwG,SAAS,eAAD,OAAiBmC,EAAWb,OACpC1B,MAAO,CAACuC,aAAYxC,SAAQ2C,cAnHjB,EAuHnBqM,aAAe,SAACC,GAAD,OAAU,SAACnP,GACT,YAATmP,EACA,EAAK1O,SAAS,CACVsO,kBAAmB/O,EAAMU,OAAO0O,QAChCP,mBAAmB,IAGvB,EAAKpO,SAAS,CACVsO,mBAAmB,EACnBF,kBAAmB7O,EAAMU,OAAO0O,UAGxC,EAAK3O,SAAS,CAACgD,MAAO,GAAIY,aAAc,OAnIzB,EAsInBgL,YAAc,SAACC,GACX,IAEM1B,EAAOjZ,SAASC,eAAe,yBAAyB0a,MAAM,QACvDnZ,IAATyX,IAFiB,CAAC,YAAa,aAAc,aAIxBpW,SAASoW,EAAKlQ,MAG5BkQ,EAAK2B,KARA,KASZ/P,MAAM,+BAAD,OAAgCgQ,GAAhC,QAGT7B,EAAUC,GAAM6B,MAAK,SAACC,GAClB,EAAKjP,SAAS,CAACqO,aAAcY,OAP7BlQ,MAAM,kBAAD,OAAmBoO,EAAKlQ,KAAxB,qDA3IT,EAAKlD,cAAgB,kBACrB,EAAK2F,MAAQ,CACT0B,MAAO,GACP4B,MAAO,GACPY,aAAc,GACd0K,mBAAmB,EACnBF,mBAAmB,EACnBnM,WAAY,KACZxC,OAAQ,GACR4O,aAAc,IAXH,E,oFAsCfzU,EAAqBwG,mBACjBlJ,EAAUC,WAAWgB,oBACrB5E,KAAKwa,wBACLxa,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWc,iBACrB1E,KAAKwO,qBACLxO,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWiB,kBACrB7E,KAAK4O,8BACL5O,KAAKwG,iB,+BAqGH,IAAD,SAC+DxG,KAAKmM,MAAlEsD,EADF,EACEA,MAAOY,EADT,EACSA,aAAc0K,EADvB,EACuBA,kBAAmBF,EAD1C,EAC0CA,kBAC/C,OACI,kBAAC,EAAD,CACIpY,YAAa,CACTqK,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEhB1M,OAAQ2M,GACR,yBAAKC,UAAU,OAAOnM,MAAO,CAACoM,aAAc,SACxC,yBAAKD,UAAU,gBACX,uBAAGA,UAAU,aAAanM,MAAO,CAACqM,UAAW,WAA7C,qCAGA,yBAAKF,UAAU,SACX,uBAAGA,UAAU,0BACT,2BACIzD,KAAK,OACLyD,UAAU,4BACVI,YAAY,mBACZZ,MAAO3M,KAAKmM,MAAM0B,MAClBL,SAAUxN,KAAK0a,qBACnB,0BAAMvN,UAAU,yBACZ,uBAAGA,UAAU,mBAIzB,yBAAKA,UAAU,SACX,kBAACwO,EAAA,EAAD,CAAWC,KAAG,GACV,kBAACC,EAAA,EAAD,CACIC,QACI,kBAACC,EAAA,EAAD,CACIX,QAASL,EACTvN,SAAUxN,KAAKkb,aAAa,WAC5BvO,MAAM,aAGdqP,MAAM,qBAEV,kBAACH,EAAA,EAAD,CACIC,QACI,kBAACC,EAAA,EAAD,CACIX,QAASP,EACTrN,SAAUxN,KAAKkb,aAAa,WAC5BvO,MAAM,WACN8C,MAAM,YAGduM,MAAM,uBAIlB,yBAAK7O,UAAU,aACV4N,EACG,kBAAC,EAAD,CACItL,MAAOA,EACPY,aAAcA,EACdC,YAAatQ,KAAK2a,YAClBpK,UAAWS,EACXlD,MAAO,mBACPpE,KAAM,UAEV,KACHmR,EAEG,kBAACoB,EAAA,EAAD,CACIC,QAAQ,YACRxO,QAAS,WACL,IAAMyO,EAAUxb,SAASC,eACrB,yBAEAub,GACAA,EAAQC,UAPpB,gBAYA,KACJ,2BACI1S,KAAK,OACL/G,GAAG,wBACH3B,MAAO,CAACiB,SAAU,QAASoa,OAAQ,WACnC7O,SAAU,kBAAM,EAAK6N,oBAIrC,yBAAKlO,UAAU,QAAQnM,MAAO,CAACyM,UAAW,KACtC,uBAAGN,UAAU,WACT,4BACIA,UAAU,6BACVO,QAAS1N,KAAKsO,oBAFlB,mB,GAnPMrL,aAoQf0K,cAAW2M,G,4CClRpBgC,EACG,eADHA,EAEU,cAFVA,EAGY,gBAEZC,EACI,cADJA,EAEQ,kBAFRA,EAGM,SAmOGC,EAhOoB,SAC/B1b,EACA2b,EACAC,EACAC,EACAC,EACAja,EACAka,GAED,IADCC,EACF,uDADoB,GAElB,OAAO,IAAIjD,SAAS,SAACC,GAkNjBA,EAjNe,CACXpQ,KAAM,SACN/G,KACAwY,KAAK,UAAD,OAAYxY,GAChBka,QAEA/b,IAAKA,EACL2b,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EAENG,EAAGD,EAAgBC,IAAMN,EAAOE,GAAQ,EACxCK,EAAGF,EAAgBE,IAAMN,EAAOE,GAAQ,EACxCK,OAAQH,EAAgBG,QAAU,GAClCC,UAAWJ,EAAgBI,WAAa,GACxCC,UAAWL,EAAgBK,WAAa,MACxCC,UAAWN,EAAgBM,WAAa,SACxCC,UAAWP,EAAgBO,WAAa,cAExCC,SAAUR,EAAgBQ,WAAY,EACtCC,SAAUT,EAAgBS,UAAY,GACtCC,cAAe,CACXT,EAAGD,EAAgBC,IAAMN,EAAOE,GAAQ,EACxCK,EAAGF,EAAgBE,IAAMN,EAAOE,GAAQ,EACxCK,OAAQH,EAAgBG,QAAU,GAClCC,UAAWJ,EAAgBI,WAAa,GACxCC,UAAWL,EAAgBK,WAAa,MACxCC,UAAWN,EAAgBM,WAAa,SACxCC,UAAWP,EAAgBO,WAAa,eAE5CI,aAAclB,EACdmB,SAAU,KACVC,SAAU,KAEVC,YAAa,SAASC,EAAIC,EAAIC,EAAIC,GAiB9B,GAhBAhe,KAAKc,IAAImd,OAETje,KAAKc,IAAIod,YACTle,KAAKc,IAAIoc,UAAYld,KAAKkd,UAC1Bld,KAAKc,IAAIqd,YAAcne,KAAKmd,UAC5Bnd,KAAKc,IAAIsd,IAAIpe,KAAK+c,EAAG/c,KAAKgd,EAAGhd,KAAKid,OAAQ,EAAG,EAAIoB,KAAKC,IAAI,GACnC,WAAnBte,KAAKod,WACLpd,KAAKc,IAAIyd,YAAY,CAAC,EAAG,IAE7Bve,KAAKc,IAAI0d,SAEc,gBAAnBxe,KAAKqd,YACLrd,KAAKc,IAAI2d,UAAYze,KAAKqd,UAC1Brd,KAAKc,IAAI4d,QAGT1e,KAAKsd,SAAU,CAIftd,KAAKc,IAAIod,YACTle,KAAKc,IAAIqd,YAAc1O,EAAMzP,KAAKud,UAClCvd,KAAKc,IAAIoc,UAAY,EACrBld,KAAKc,IAAIyd,YAAY,CAAC,EAAG,IACzBve,KAAKc,IAAI6d,KACL3e,KAAK+c,EAAI/c,KAAKid,OARH,GASXjd,KAAKgd,EAAIhd,KAAKid,OATH,GAUX,GAAKjd,KAAKid,OAVC,IAWX,GAAKjd,KAAKid,OAXC,KAafjd,KAAKc,IAAI0d,SAGTxe,KAAKc,IAAIqd,YAAc1O,EAAMzP,KAAKud,UAClCvd,KAAKc,IAAIyd,YAAY,IACrBve,KAAKc,IAAIod,YACTle,KAAKc,IAAIsd,IACLpe,KAAK+c,EAAI/c,KAAKid,OApBH,GAqBXjd,KAAKgd,EAAIhd,KAAKid,OArBH,GAsBX,GACA,EACA,EAAIoB,KAAKC,IAEbte,KAAKc,IAAI0d,SACTxe,KAAKc,IAAI2d,UAAYhP,EAAMzP,KAAKud,UAChCvd,KAAKc,IAAI4d,OAGT1e,KAAKc,IAAIod,YACTle,KAAKc,IAAIsd,IACLpe,KAAK+c,EAAI/c,KAAKid,OAjCH,GAkCXjd,KAAKgd,EAAIhd,KAAKid,OAlCH,GAmCX,GACA,EACA,EAAIoB,KAAKC,IAEbte,KAAKc,IAAI0d,SACTxe,KAAKc,IAAI2d,UAAYhP,EAAMzP,KAAKud,UAChCvd,KAAKc,IAAI4d,OAGb1e,KAAKc,IAAI8d,WAGbC,mBAAoB,SAAS/U,GAEzB,IADA,IAAM1H,EAAOC,OAAOD,KAAKpC,KAAKwd,eACrBlb,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7B,GAAIwH,EAAQtH,eAAeJ,EAAKE,IAAK,CACjC,IAAMwc,EAAWC,MAAM/e,KAAKwd,cAAcpb,EAAKE,KACzCwH,EAAQ1H,EAAKE,IACb0c,OAAOlV,EAAQ1H,EAAKE,KAC1BtC,KAAKoC,EAAKE,IAAMwc,EAChB9e,KAAKwd,cAAcpb,EAAKE,IAAMwc,IAK1CG,YAAa,SAASC,EAAGC,EAAGC,GACxB,IAAMC,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAC/C,OAAKnf,KAAKsd,UAAY+B,IAAS/C,IAEpBtc,KAAKud,WAAa6B,GAAYC,IAAS/C,GAC9Ctc,KAAKyd,aAAelB,EACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GACAnf,KAAKud,WAAa6B,GAAYC,IAAS/C,IAC9Ctc,KAAKyd,aAAelB,EACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,KAKfI,aAAc,SAASL,EAAGC,EAAGC,GACzB,IAAMC,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAC/C,OAAKnf,KAAKsd,UAAY+B,IAAS/C,EAIpBtc,KAAKud,WAAa6B,GAAYC,IAAS/C,GACtB3b,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,yCACxB,GACAzf,KAAKud,WAAa6B,GAAYC,IAAS/C,IACtB3b,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,yCACxB,IAViB9e,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,4CACxB,IAafC,YAAa,SAASR,EAAGC,EAAGC,GACxB,GAAIpf,KAAKud,WAAa6B,GAAYpf,KAAKyd,eAAiBlB,EAAwB,CAC5E,IAAMoD,EAAUtB,KAAKuB,MAChB5f,KAAK0d,SAAW1d,KAAK+c,IAAM/c,KAAK0d,SAAW1d,KAAK+c,IAC5C/c,KAAK2d,SAAW3d,KAAKgd,IAAMhd,KAAK2d,SAAW3d,KAAKgd,IAEnD6C,EAAUxB,KAAKuB,MAChBV,EAAIlf,KAAK+c,IAAMmC,EAAIlf,KAAK+c,IAAMoC,EAAInf,KAAKgd,IAAMmC,EAAInf,KAAKgd,IAK3D,OAHAhd,KAAKid,QAAU4C,EAAUF,EACzB3f,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,EACJ,OAAInf,KAAKud,WAAa6B,GAAYpf,KAAKyd,eAAiBlB,IAC3Dvc,KAAK+c,GAAKmC,EAAIlf,KAAK0d,SACnB1d,KAAKgd,GAAKmC,EAAInf,KAAK2d,SACnB3d,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,IAKfW,UAAW,SAASZ,EAAGC,EAAGC,GACtBpf,KAAKyd,aAAelB,EACpBvc,KAAK0d,SAAW,KAChB1d,KAAK2d,SAAW,KAGhB,IAFA,IAAMvD,EAAS,CAAC2F,cAAe,GAAIC,cAAc,GAC3C5d,EAAOC,OAAOD,KAAKpC,KAAKwd,eACrBlb,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IACzBtC,KAAKwd,cAAcpb,EAAKE,MAAQtC,KAAKoC,EAAKE,MAC1C8X,EAAO2F,cAAc3d,EAAKE,IAAMtC,KAAKoC,EAAKE,IAAI2d,WAC9CjgB,KAAKwd,cAAcpb,EAAKE,IAAMtC,KAAKoC,EAAKE,KAIhD,IAAM+c,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAI/C,OAHInf,KAAKud,WAAa6B,GAAYC,IAAS/C,IACvClC,EAAO4F,cAAe,GAEnB5F,GAGXkF,0BAA2B,SAASJ,EAAGC,GACnC,IAAMe,GAAkBhB,EAAIlf,KAAK+c,IAAMmC,EAAIlf,KAAK+c,IAAMoC,EAAInf,KAAKgd,IAAMmC,EAAInf,KAAKgd,GAE9E,GAAIkD,EADuBlgB,KAAKid,OAASjd,KAAKid,OAE1C,OAAOX,EAMX,OAAI4D,GADClgB,KAAKid,OAASjd,KAAKkd,UAFT,KAEgCld,KAAKid,OAASjd,KAAKkd,UAFnD,IAIJZ,EAGJA,SCpOjBA,EAAiB,CACnB6D,IAAK,eACLC,WAAY,cACZC,qBAAsB,yBACtBC,sBAAuB,0BACvBC,wBAAyB,4BACzBC,yBAA0B,8BAExBjE,GACI,cADJA,GAEsB,sCAFtBA,GAGuB,uCAHvBA,GAIyB,yCAJzBA,GAK0B,0CAL1BA,GAMM,SA6TGkE,GA1TmB,SAC9B3f,EACA2b,EACAC,EACAC,EACAC,EACA8D,EACA/d,EACAka,GAED,IADCC,EACF,uDADoB,GAElB,OAAO,IAAIjD,SAAQ,SAACC,GAChB,IAAM6G,EAAc,CAChBjX,KAAM,QACN/G,KACAwY,KAAK,SAAD,OAAWxY,GACfka,QAEA/b,IAAKA,EACL2b,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EAENvc,IAAK,KACLgB,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EAENub,EAAGD,EAAgBC,IAAMN,EAAOE,GAAQ,EACxCK,EAAGF,EAAgBE,IAAMN,EAAOE,GAAQ,EACxC3b,MAAO6b,EAAgB7b,OAAS,IAChCE,OAAQ2b,EAAgB3b,QAAU,IAElCmc,SAAUR,EAAgBQ,WAAY,EACtCC,SAAUT,EAAgBS,UAAY,GACtCC,cAAe,CACXT,EAAGD,EAAgBC,IAAMN,EAAOE,GAAQ,EACxCK,EAAGF,EAAgBE,IAAMN,EAAOE,GAAQ,EACxC3b,MAAO6b,EAAgB7b,OAAS,GAChCE,OAAQ2b,EAAgB3b,QAAU,IAEtCsc,aAAc,KACdC,SAAU,KACVC,SAAU,KAEVC,YAAa,SAASC,EAAIC,EAAIC,EAAIC,GAe9B,GAdAhe,KAAKc,IAAImd,OAETje,KAAKc,IAAIiB,UACL/B,KAAKK,IACL,EACA,EACAL,KAAKuB,KACLvB,KAAKwB,KACLxB,KAAK+c,EACL/c,KAAKgd,EACLhd,KAAKiB,MACLjB,KAAKmB,QAGLnB,KAAKsd,SAAU,CAIftd,KAAKc,IAAIod,YACTle,KAAKc,IAAIqd,YAAc1O,EAAMzP,KAAKud,UAClCvd,KAAKc,IAAIoc,UAAY,EACrBld,KAAKc,IAAIyd,YAAY,CAAC,EAAG,IACzBve,KAAKc,IAAI6d,KACL3e,KAAK+c,EARM,GASX/c,KAAKgd,EATM,GAUXhd,KAAKiB,MAAQ,GACbjB,KAAKmB,OAAS,IAElBnB,KAAKc,IAAI0d,SAGTxe,KAAKc,IAAIqd,YAAc1O,EAAMzP,KAAKud,UAClCvd,KAAKc,IAAIyd,YAAY,IACrBve,KAAKc,IAAIod,YACTle,KAAKc,IAAIsd,IAAIpe,KAAK+c,EAnBH,GAmBe/c,KAAKgd,EAnBpB,GAmBgC,GAAI,EAAG,EAAIqB,KAAKC,IAC/Dte,KAAKc,IAAI0d,SACTxe,KAAKc,IAAI2d,UAAYhP,EAAMzP,KAAKud,UAChCvd,KAAKc,IAAI4d,OAGT1e,KAAKc,IAAIod,YACTle,KAAKc,IAAIsd,IACLpe,KAAK+c,EAAI/c,KAAKiB,MA3BH,GA4BXjB,KAAKgd,EAAIhd,KAAKmB,OA5BH,GA6BX,GACA,EACA,EAAIkd,KAAKC,IAEbte,KAAKc,IAAI0d,SACTxe,KAAKc,IAAI2d,UAAYhP,EAAMzP,KAAKud,UAChCvd,KAAKc,IAAI4d,OAGb1e,KAAKc,IAAI8d,WAGbC,mBAAoB,SAAS/U,GAEzB,IADA,IAAM1H,EAAOC,OAAOD,KAAKpC,KAAKwd,eACrBlb,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7B,GAAIwH,EAAQtH,eAAeJ,EAAKE,IAAK,CACjC,IAAMwc,EAAWC,MAAM/e,KAAKwd,cAAcpb,EAAKE,KACzCwH,EAAQ1H,EAAKE,IACb0c,OAAOlV,EAAQ1H,EAAKE,KAC1BtC,KAAKoC,EAAKE,IAAMwc,EAChB9e,KAAKwd,cAAcpb,EAAKE,IAAMwc,IAK1CG,YAAa,SAASC,EAAGC,EAAGC,GACxB,IAAMC,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAC/C,OAAKnf,KAAKsd,UAAY+B,IAAS/C,EAAe6D,MAEnCngB,KAAKud,WAAa6B,GAAYC,IAAS/C,EAAe8D,YAC7DpgB,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBC,IAAS/C,EAAe+D,sBAExBrgB,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBC,IAAS/C,EAAegE,uBAExBtgB,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBC,IAAS/C,EAAeiE,yBAExBvgB,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBC,IAAS/C,EAAekE,2BAExBxgB,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,KAKfI,aAAc,SAASL,EAAGC,EAAGC,GACzB,IAAMC,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAC/C,OAAKnf,KAAKsd,UAAY+B,IAAS/C,EAAe6D,IAInCngB,KAAKud,WAAa6B,GAAYC,IAAS/C,EAAe8D,YACrCzf,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,yCACxB,KAEPzf,KAAKud,WAAa6B,IAClB,CACI9C,EAAe+D,qBACf/D,EAAegE,sBACfhE,EAAeiE,wBACfjE,EAAekE,0BACjBhd,SAAS6b,MAEa1e,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,yCACxB,IAlBiB9e,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,4CACxB,IAqBfC,YAAa,SAASR,EAAGC,EAAGC,GACxB,OACIpf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,IAEtBvc,KAAK+c,EAAImC,EACTlf,KAAKiB,MAAQjB,KAAKiB,OAASie,EAAIlf,KAAK0d,UACpC1d,KAAKmB,OAAUnB,KAAKiB,MAAQjB,KAAKwB,KAAQxB,KAAKuB,KAC9CvB,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,IAEtBvc,KAAKiB,MAAQjB,KAAKiB,OAASie,EAAIlf,KAAK0d,UACpC1d,KAAKmB,OAAUnB,KAAKiB,MAAQjB,KAAKwB,KAAQxB,KAAKuB,KAC9CvB,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,IAEtBvc,KAAK+c,EAAImC,EACTlf,KAAKiB,MAAQjB,KAAKiB,OAASie,EAAIlf,KAAK0d,UACpC1d,KAAKmB,OAAUnB,KAAKiB,MAAQjB,KAAKwB,KAAQxB,KAAKuB,KAC9CvB,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,IAEtBvc,KAAKiB,MAAQjB,KAAKiB,OAASie,EAAIlf,KAAK0d,UACpC1d,KAAKmB,OAAUnB,KAAKiB,MAAQjB,KAAKwB,KAAQxB,KAAKuB,KAC9CvB,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,KAEtBvc,KAAK+c,GAAKmC,EAAIlf,KAAK0d,SACnB1d,KAAKgd,GAAKmC,EAAInf,KAAK2d,SACnB3d,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,IAKfW,UAAW,SAASZ,EAAGC,EAAGC,GACtBpf,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAW,KAChB1d,KAAK2d,SAAW,KAGhB,IAFA,IAAMvD,EAAS,CAAC2F,cAAe,GAAIC,cAAc,GAC3C5d,EAAOC,OAAOD,KAAKpC,KAAKwd,eACrBlb,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IACzBtC,KAAKwd,cAAcpb,EAAKE,MAAQtC,KAAKoC,EAAKE,MAC1C8X,EAAO2F,cAAc3d,EAAKE,IAAMtC,KAAKoC,EAAKE,IAAI2d,WAC9CjgB,KAAKwd,cAAcpb,EAAKE,IAAMtC,KAAKoC,EAAKE,KAIhD,IAAM+c,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAI/C,OAHInf,KAAKud,WAAa6B,GAAYC,IAAS/C,EAAe6D,MACtD/F,EAAO4F,cAAe,GAEnB5F,GAGXkF,0BAA2B,SAASJ,EAAGC,GACnC,IAEMyB,EAAkB,GACxBA,EAAgBtE,EAAe+D,uBAC1BnB,EAAIlf,KAAK+c,EAJC,KAIcmC,EAAIlf,KAAK+c,EAJvB,KAKVoC,EAAInf,KAAKgd,EALC,KAKcmC,EAAInf,KAAKgd,EALvB,IAMf4D,EAAgBtE,EAAegE,wBAC1BpB,EAAIlf,KAAK+c,EAAI/c,KAAKiB,MAPR,KAO2Bie,EAAIlf,KAAK+c,EAAI/c,KAAKiB,MAP7C,KAQVke,EAAInf,KAAKgd,EARC,KAQcmC,EAAInf,KAAKgd,EARvB,IASf4D,EAAgBtE,EAAeiE,0BAC1BrB,EAAIlf,KAAK+c,EAVC,KAUcmC,EAAIlf,KAAK+c,EAVvB,KAWVoC,EAAInf,KAAKgd,EAAIhd,KAAKmB,OAXR,KAW4Bge,EAAInf,KAAKgd,EAAIhd,KAAKmB,OAX9C,IAYfyf,EAAgBtE,EAAekE,2BAC1BtB,EAAIlf,KAAK+c,EAAI/c,KAAKiB,MAbR,KAa2Bie,EAAIlf,KAAK+c,EAAI/c,KAAKiB,MAb7C,KAcVke,EAAInf,KAAKgd,EAAIhd,KAAKmB,OAdR,KAc4Bge,EAAInf,KAAKgd,EAAIhd,KAAKmB,OAd9C,IAkBf,IAFA,IAAMiB,EAAOC,OAAOD,KAAKwe,GACrB/P,EAAMzO,EAAK,GACNE,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IACzBse,EAAgBxe,EAAKE,IAAMse,EAAgB/P,KAC3CA,EAAMzO,EAAKE,IAGnB,GAAIse,EAAgB/P,GAtBQ,IAuBxB,OAAOA,EAGX,IAAMgQ,EAAgB7gB,KAAK+c,EA3BZ,GA2ByBmC,GAAKA,EAAIlf,KAAK+c,EAAI/c,KAAKiB,MA3BhD,GA4BT6f,EAAkB9gB,KAAKgd,EA5Bd,GA4B2BmC,GAAKA,EAAInf,KAAKgd,EAAIhd,KAAKmB,OA5BlD,GA6Bf,OAAI0f,GAAiBC,EACVxE,EAAe8D,WAGnB9D,EAAe6D,MAIxBve,EAAM,IAAI1B,MAChB0B,EAAIuY,OAAS,WACTwG,EAAYtgB,IAAML,KAClB2gB,EAAYpf,KAAOvB,KAAKiB,MACxB0f,EAAYnf,KAAOxB,KAAKmB,OACpBnB,KAAKiB,MAAQjB,KAAKmB,OAClBwf,EAAYI,EAAIJ,EAAYK,GAAKhhB,KAAKmB,OAASnB,KAAKiB,OAEpD0f,EAAYK,EAAIL,EAAYI,GAAK/gB,KAAKmB,OAASnB,KAAKiB,OAExD6Y,EAAQ6G,IAEZ/e,EAAIvB,IAAMqgB,MC/QHO,GA1D6B,SAASngB,EAAK2b,EAAMC,EAAMC,EAAMC,EAAM8D,GAC9E,OAAO,IAAI7G,SAAQ,SAACC,GAChB,IAAM/Z,EAAa,CACf2J,KAAM,mBAEN5I,IAAKA,EACL2b,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EAENvc,IAAK,KACLgB,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EAENoc,YAAa,SAASC,EAAIC,EAAIC,EAAIC,GAC9Bhe,KAAKc,IAAImd,OAETje,KAAKc,IAAIiB,UACL/B,KAAKK,IACLL,KAAKqB,KACLrB,KAAKsB,KACLtB,KAAKuB,KACLvB,KAAKwB,KACLxB,KAAKyc,KACLzc,KAAK0c,KACL1c,KAAK2c,KACL3c,KAAK4c,MAGT5c,KAAKc,IAAI8d,YAGXhd,EAAM,IAAI1B,MAChB0B,EAAIuY,OAAS,WACTpa,EAAWM,IAAML,KACjB,IAAMkhB,EAAYlhB,KAAKmB,OAASnB,KAAKiB,MAC/BU,EAAa5B,EAAW6c,KAAO7c,EAAW4c,KAC5CuE,EAAYvf,GACZ5B,EAAWwB,KAAOvB,KAAKiB,MACvBlB,EAAWyB,KAAOxB,KAAKiB,MAAQU,EAC/B5B,EAAWsB,KAAO,EAClBtB,EAAWuB,MAAQtB,KAAKmB,OAASpB,EAAWyB,MAAQ,IAEpDzB,EAAWyB,KAAOxB,KAAKmB,OACvBpB,EAAWwB,KAAOvB,KAAKmB,OAASQ,EAChC5B,EAAWsB,MAAQrB,KAAKiB,MAAQlB,EAAWwB,MAAQ,EACnDxB,EAAWuB,KAAO,GAEtB2E,QAAQC,IAAI,0BACZ4T,EAAQ/Z,IAEZ6B,EAAIvB,IAAMqgB,MC7BHS,GAzB6B,SAASrgB,EAAK2b,EAAMC,EAAMC,EAAMC,EAAMnN,GAC9E,OAAO,IAAIoK,SAAQ,SAACC,GAoBhBA,EAnBmB,CACfpQ,KAAM,mBAEN5I,IAAKA,EACL2b,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EAENnN,MAAOA,EAEPmO,YAAa,SAASC,EAAIC,EAAIC,EAAIC,GAC9Bhe,KAAKc,IAAImd,OACTje,KAAKc,IAAI2d,UAAYze,KAAKyP,MAC1BzP,KAAKc,IAAIsgB,SAASvD,EAAIC,EAAIC,EAAKF,EAAIG,EAAKF,GACxC9d,KAAKc,IAAI8d,iBCfnBtC,GACG,eADHA,GAEU,cAFVA,GAGe,mBAHfA,GAIa,iBAEbC,GACI,cADJA,GAEiB,oBAFjBA,GAGe,kBAHfA,GAIY,SAoRH8E,GAjRkB,SAC7BvgB,EACA2b,EACAC,EACAC,EACAC,EACAja,EACAka,GAED,IADCC,EACF,uDADoB,GAElB,OAAO,IAAIjD,SAAQ,SAACC,GAmQhBA,EAlQa,CACTpQ,KAAM,OACN/G,KACAwY,KAAK,QAAD,OAAUxY,GACdka,QAEA/b,IAAKA,EACL2b,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EAENG,EAAGD,EAAgBC,IAAMN,EAAOE,GAAQ,EACxCK,EAAGF,EAAgBE,IAAMN,EAAOE,GAAQ,EACxC0E,kBAAmBxE,EAAgByE,iBAAiBrC,GAAK,GACzDsC,kBAAmB1E,EAAgByE,iBAAiBpC,GAAK,IACzDjC,UAAWJ,EAAgBI,WAAa,GACxCC,UAAWL,EAAgBK,WAAa,MACxCC,UAAWN,EAAgBM,WAAa,SAExCE,SAAUR,EAAgBQ,WAAY,EACtCC,SAAUT,EAAgBS,UAAY,GACtCC,cAAe,CACXT,EAAGD,EAAgBC,IAAMN,EAAOE,GAAQ,EACxCK,EAAGF,EAAgBE,IAAMN,EAAOE,GAAQ,EACxC0E,kBAAmBxE,EAAgByE,iBAAiBrC,GAAK,GACzDsC,kBAAmB1E,EAAgByE,iBAAiBpC,GAAK,IACzDjC,UAAWJ,EAAgBI,WAAa,GACxCC,UAAWL,EAAgBK,WAAa,MACxCC,UAAWN,EAAgBM,WAAa,UAE5CK,aAAclB,GACdmB,SAAU,KACVC,SAAU,KAEVC,YAAa,SAASC,EAAIC,EAAIC,EAAIC,GAa9B,GAZAhe,KAAKc,IAAImd,OAETje,KAAKc,IAAIod,YACTle,KAAKc,IAAI2gB,OAAOzhB,KAAK+c,EAAG/c,KAAKgd,GAC7Bhd,KAAKc,IAAIoc,UAAYld,KAAKkd,UAC1Bld,KAAKc,IAAIqd,YAAcne,KAAKmd,UACL,WAAnBnd,KAAKod,WACLpd,KAAKc,IAAIyd,YAAY,CAAC,EAAG,IAE7Bve,KAAKc,IAAI4gB,OAAO1hB,KAAKshB,kBAAmBthB,KAAKwhB,mBAC7CxhB,KAAKc,IAAI0d,SAELxe,KAAKsd,SAAU,CAIftd,KAAKc,IAAIod,YACTle,KAAKc,IAAIqd,YAAc1O,EAAMzP,KAAKud,UAClCvd,KAAKc,IAAIoc,UAAY,EACrBld,KAAKc,IAAIyd,YAAY,CAAC,EAAG,IACzBve,KAAKc,IAAI6d,KACLN,KAAKsD,IAAI3hB,KAAK+c,EAAG/c,KAAKshB,mBARX,GASXjD,KAAKsD,IAAI3hB,KAAKgd,EAAGhd,KAAKwhB,mBATX,GAUXnD,KAAKuD,IAAI5hB,KAAK+c,EAAI/c,KAAKshB,mBAAqB,GAC5CjD,KAAKuD,IAAI5hB,KAAKgd,EAAIhd,KAAKwhB,mBAAqB,IAEhDxhB,KAAKc,IAAI0d,SAGTxe,KAAKc,IAAIqd,YAAc1O,EAAMzP,KAAKud,UAClCvd,KAAKc,IAAIyd,YAAY,IACrBve,KAAKc,IAAIod,YACTle,KAAKc,IAAIsd,IACLpe,KAAK+c,EAAI/c,KAAKid,OApBH,GAqBXjd,KAAKgd,EAAIhd,KAAKid,OArBH,GAsBX,GACA,EACA,EAAIoB,KAAKC,IAEbte,KAAKc,IAAI0d,SACTxe,KAAKc,IAAI2d,UAAYhP,EAAMzP,KAAKud,UAChCvd,KAAKc,IAAI4d,OAGT1e,KAAKc,IAAIod,YACTle,KAAKc,IAAIsd,IACLpe,KAAK+c,EAAI/c,KAAKid,OAjCH,GAkCXjd,KAAKgd,EAAIhd,KAAKid,OAlCH,GAmCX,GACA,EACA,EAAIoB,KAAKC,IAEbte,KAAKc,IAAI0d,SACTxe,KAAKc,IAAI2d,UAAYhP,EAAMzP,KAAKud,UAChCvd,KAAKc,IAAI4d,OAGb1e,KAAKc,IAAI8d,WAGbC,mBAAoB,SAAS/U,GACzB7D,QAAQC,IAAI,8BACZD,QAAQC,IAAI4D,GAEZ,IADA,IAAM1H,EAAOC,OAAOD,KAAKpC,KAAKwd,eACrBlb,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7B,GAAIwH,EAAQtH,eAAeJ,EAAKE,IAAK,CACjC,IAAMwc,EAAWC,MAAM/e,KAAKwd,cAAcpb,EAAKE,KACzCwH,EAAQ1H,EAAKE,IACb0c,OAAOlV,EAAQ1H,EAAKE,KAC1BtC,KAAKoC,EAAKE,IAAMwc,EAChB9e,KAAKwd,cAAcpb,EAAKE,IAAMwc,IAK1CG,YAAa,SAASC,EAAGC,EAAGC,GACxB,IAAMC,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAC/C,OAAKnf,KAAKsd,UAAY+B,IAAS/C,KAEpBtc,KAAKud,WAAa6B,GAAYC,IAAS/C,IAC9Ctc,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GACAnf,KAAKud,WAAa6B,GAAYC,IAAS/C,IAC9Ctc,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GACAnf,KAAKud,WAAa6B,GAAYC,IAAS/C,KAC9Ctc,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,KAKfI,aAAc,SAASL,EAAGC,EAAGC,GACzB,IAAMC,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAC/C,OAAKnf,KAAKsd,UAAY+B,IAAS/C,GAK3Btc,KAAKud,WAAa6B,GACjBC,IAAS/C,IACN+C,IAAS/C,GAKNtc,KAAKud,WAAa6B,GAAYC,IAAS/C,KACtB3b,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,yCACxB,IANiB9e,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,yCACxB,IAViB9e,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,4CACxB,IAiBfC,YAAa,SAASR,EAAGC,EAAGC,GACxB,OACIpf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,IAEtBvc,KAAK+c,GAAKmC,EAAIlf,KAAK0d,SACnB1d,KAAKgd,GAAKmC,EAAInf,KAAK2d,SACnB3d,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,IAEtBvc,KAAKshB,mBAAqBpC,EAAIlf,KAAK0d,SACnC1d,KAAKwhB,mBAAqBrC,EAAInf,KAAK2d,SACnC3d,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,GAEPnf,KAAKud,WAAa6B,GAClBpf,KAAKyd,eAAiBlB,KAEtBvc,KAAK+c,GAAKmC,EAAIlf,KAAK0d,SACnB1d,KAAKshB,mBAAqBpC,EAAIlf,KAAK0d,SACnC1d,KAAKgd,GAAKmC,EAAInf,KAAK2d,SACnB3d,KAAKwhB,mBAAqBrC,EAAInf,KAAK2d,SACnC3d,KAAK0d,SAAWwB,EAChBlf,KAAK2d,SAAWwB,GACT,IAKfW,UAAW,SAASZ,EAAGC,EAAGC,GACtBpf,KAAKyd,aAAelB,GACpBvc,KAAK0d,SAAW,KAChB1d,KAAK2d,SAAW,KAChB,IAAMvD,EAAS,CAAC2F,cAAe,GAAIC,cAAc,GAC3C5d,EAAOC,OAAOD,KAAKpC,KAAKwd,eAC9BvX,QAAQC,IAAIlG,KAAKshB,mBACjBrb,QAAQC,IAAIlG,KAAKwd,cAAc8D,mBAC/Brb,QAAQC,IAAI9D,GACZ,IAAK,IAAIE,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7B2D,QAAQC,IAAI9D,EAAKE,IACbtC,KAAKwd,cAAcpb,EAAKE,MAAQtC,KAAKoC,EAAKE,MAC1C2D,QAAQC,IAAR,8BAAmC9D,EAAKE,KACxB,sBAAZF,EAAKE,GACL8X,EAAO2F,cAAcwB,iBAAmB,CACpCrC,EAAGlf,KAAKshB,kBAAkBrB,WAC1Bd,EAAGnf,KAAKwhB,kBAAkBvB,YAEX,sBAAZ7d,EAAKE,GACZ8X,EAAO2F,cAAcwB,iBAAmB,CACpCrC,EAAGlf,KAAKshB,kBAAkBrB,WAC1Bd,EAAGnf,KAAKwhB,kBAAkBvB,aAG9B7F,EAAO2F,cAAc3d,EAAKE,IAAMtC,KAAKoC,EAAKE,IAAI2d,WAC9CjgB,KAAKwd,cAAcpb,EAAKE,IAAMtC,KAAKoC,EAAKE,MAKpD,IAAM+c,EAAOrf,KAAKsf,0BAA0BJ,EAAGC,GAM/C,OALInf,KAAKud,WAAa6B,GAAYC,IAAS/C,KACvClC,EAAO4F,cAAe,GAE1B/Z,QAAQC,IAAI,0BACZD,QAAQC,IAAI7D,OAAOD,KAAKgY,EAAO2F,gBACxB3F,GAGXkF,0BAA2B,SAASJ,EAAGC,GAKnC,IADKD,EAAIlf,KAAK+c,IAAMmC,EAAIlf,KAAK+c,IAAMoC,EAAInf,KAAKgd,IAAMmC,EAAInf,KAAKgd,GAFxC6E,IAIf,OAAOvF,GAMX,IAFK4C,EAAIlf,KAAKshB,oBAAsBpC,EAAIlf,KAAKshB,oBACxCnC,EAAInf,KAAKwhB,oBAAsBrC,EAAInf,KAAKwhB,mBAT1BK,IAWf,OAAOvF,GAGX,IAAMuE,EACFxC,KAAKsD,IAAI3hB,KAAK+c,EAAG/c,KAAKshB,mBAAqBpC,GAC3CA,EAAIb,KAAKyD,IAAI9hB,KAAK+c,EAAG/c,KAAKshB,mBACxBR,EACFzC,KAAKsD,IAAI3hB,KAAKgd,EAAGhd,KAAKwhB,mBAAqBrC,GAC3CA,EAAId,KAAKyD,IAAI9hB,KAAKgd,EAAGhd,KAAKwhB,mBAC9B,OAAIX,GAAiBC,EACVxE,GAGJA,UC4RRyF,G,YAziBX,WAAYzhB,GAAQ,IAAD,8BACf,4CAAMA,KAqFV0hB,mBAtFmB,uCAsFE,WAAOC,GAAP,6BAAAC,EAAA,yDAEwB,KAArC,EAAK5hB,MAAMqO,MAAMzB,gBAFJ,gCAGW+T,GACpB,EAAK9U,MAAMrL,IACX,EACA,EACA,EAAKqL,MAAMlL,MACX,EAAKkL,MAAMhL,OACX,EAAKb,MAAMqO,MAAMzB,iBATR,OAGb,EAAKiV,WAHQ,iCAW+B,KAArC,EAAK7hB,MAAMqO,MAAMqM,gBAXX,iCAYWmG,GACpB,EAAKhV,MAAMrL,IACX,EACA,EACA,EAAKqL,MAAMlL,MACX,EAAKkL,MAAMhL,OACX,EAAKb,MAAMqO,MAAMqM,iBAlBR,OAYb,EAAKmH,WAZQ,iBAuBY,EAAKhW,MAA3BrL,EAvBU,EAuBVA,IAAKG,EAvBK,EAuBLA,MAAOE,EAvBF,EAuBEA,OACbihB,EAAa,GACbhgB,EAAOC,OAAOD,KAAK6f,GAChB3f,EAAI,EA1BI,aA0BDA,EAAIF,EAAKG,QA1BR,oBA4BM,YADb8f,EAAQJ,EAAS7f,EAAKE,KAClBoH,KA5BG,6BA6BT0Y,EA7BS,UA8BC5F,EACF1b,EACA,EACA,EACAG,EACAE,EACAkhB,EAAMC,UACND,EAAMxF,MAAM3Q,OACZ,CACI6Q,EAAGsF,EAAMpgB,SAASid,EAClBlC,EAAGqF,EAAMpgB,SAASkd,EAClBlC,OAAQoF,EAAMpF,OACdC,UAAWmF,EAAMnF,UACjBC,UAAWkF,EAAMlF,UACjBE,UAAWgF,EAAMhF,UACjBD,UAAWiF,EAAMjF,UACjBE,SAAU+E,EAAM/E,SAChBC,SAAU8E,EAAM9E,WA/CnB,yBA6BExX,KA7BF,2CAmDa,UAAfsc,EAAM3Y,KAnDJ,6BAoDT0Y,EApDS,UAqDC3B,GACF3f,EACA,EACA,EACAG,EACAE,EACAkhB,EAAM3B,OACN2B,EAAMC,UACND,EAAMxF,MAAM3Q,OACZ,CACI6Q,EAAGsF,EAAMpgB,SAASid,EAClBlC,EAAGqF,EAAMpgB,SAASkd,EAClBle,MAAOohB,EAAMphB,MACbE,OAAQkhB,EAAMlhB,OACdmc,SAAU+E,EAAM/E,SAChBC,SAAU8E,EAAM9E,WApEnB,yBAoDExX,KApDF,2CAwEa,SAAfsc,EAAM3Y,KAxEJ,6BAyET0Y,EAzES,UA0ECf,GACFvgB,EACA,EACA,EACAG,EACAE,EACAkhB,EAAMC,UACND,EAAMxF,MAAM3Q,OACZ,CACI6Q,EAAGsF,EAAMpgB,SAASid,EAClBlC,EAAGqF,EAAMpgB,SAASkd,EAClBoC,iBAAkB,CACdrC,EAAGmD,EAAMd,iBAAiBrC,EAC1BC,EAAGkD,EAAMd,iBAAiBpC,GAE9B7B,SAAU+E,EAAM/E,SAChBC,SAAU8E,EAAM9E,WA1FnB,yBAyEExX,KAzEF,wBA0BgBzD,IA1BhB,iDAgGV8f,GAhGU,4CAtFF,wDA0LnBG,aA1LmB,uCA0LJ,WAAOhZ,GAAP,mBAAA2Y,EAAA,sDACXjc,QAAQC,IAAI,wBACZD,QAAQC,IAAIqD,GAFD,KAGHA,EAAKG,KAHF,OAIF,UAJE,OAwBF,WAxBE,QA6CF,SA7CE,wCAKkB+W,GACjB,EAAKtU,MAAMrL,IACX,EACA,EACA,EAAKqL,MAAMlL,MACX,EAAKkL,MAAMhL,OACXoI,EAAKmX,OACLnX,EAAK+Y,UACL/Y,EAAK2C,OACL,CACI6Q,EAAGyF,WAAWjZ,EAAKtH,SAASid,GAC5BlC,EAAGwF,WAAWjZ,EAAKtH,SAASkd,GAC5Ble,MAAOuhB,WAAWjZ,EAAKtI,OACvBE,OAAQqhB,WAAWjZ,EAAKpI,UAlB7B,cAKGshB,EALH,OAqBH,EAAKC,QAAQ3c,KAAK0c,GAClBA,EAAO7E,YAAY,EAAG,EAAG,EAAKzR,MAAMlL,MAAO,EAAKkL,MAAMhL,QAtBnD,8CAyBqBqb,EACpB,EAAKrQ,MAAMrL,IACX,EACA,EACA,EAAKqL,MAAMlL,MACX,EAAKkL,MAAMhL,OACXoI,EAAK+Y,UACL/Y,EAAK2C,OACL,CACI6Q,EAAGyF,WAAWjZ,EAAKtH,SAASid,GAC5BlC,EAAGwF,WAAWjZ,EAAKtH,SAASkd,GAC5BlC,OAAQuF,WAAWjZ,EAAK0T,QACxBC,UAAWsF,WAAWjZ,EAAK2T,WAC3BC,UAAW5T,EAAK4T,UAChBC,UAAW7T,EAAK6T,YAvCrB,eAyBGuF,EAzBH,OA0CH,EAAKD,QAAQ3c,KAAK4c,GAClBA,EAAU/E,YAAY,EAAG,EAAG,EAAKzR,MAAMlL,MAAO,EAAKkL,MAAMhL,QA3CtD,8CA8CmBkgB,GAClB,EAAKlV,MAAMrL,IACX,EACA,EACA,EAAKqL,MAAMlL,MACX,EAAKkL,MAAMhL,OACXoI,EAAK+Y,UACL/Y,EAAK2C,OACL,CACI6Q,EAAGyF,WAAWjZ,EAAKtH,SAASid,GAC5BlC,EAAGwF,WAAWjZ,EAAKtH,SAASkd,GAC5BoC,iBAAkB,CACdrC,EAAGsD,WAAWjZ,EAAKgY,iBAAiBrC,GACpCC,EAAGqD,WAAWjZ,EAAKgY,iBAAiBpC,IAExCjC,UAAWsF,WAAWjZ,EAAK2T,WAC3BC,UAAW5T,EAAK4T,UAChBC,UAAW7T,EAAK6T,YA/DrB,eA8CGwF,EA9CH,OAkEH,EAAKF,QAAQ3c,KAAK6c,GAClBA,EAAQhF,YAAY,EAAG,EAAG,EAAKzR,MAAMlL,MAAO,EAAKkL,MAAMhL,QAnEpD,6BAsEH8E,QAAQC,IAAI,6DAtET,4CA1LI,wDAoQnB2c,eAAiB,SAAC/Y,GAKd,IAJA,IAAMgZ,EAAWhZ,EAAQwY,UACnB/E,EAAWzT,EAAQoC,OACrB6W,GAAQ,EACRzgB,EAAI,EACDA,EAAI,EAAKogB,QAAQngB,SAAWwgB,GAC3B,EAAKL,QAAQpgB,GAAGK,KAAOmgB,EACvBC,GAAQ,EAERzgB,GAAK,EAIb,GAAIygB,EAAO,CAGP,GAFA,EAAKL,QAAQpgB,GAAGgb,UAAW,EAC3B,EAAKoF,QAAQpgB,GAAGib,SAAWA,EACvB,EAAKjd,MAAM4L,SAAWqR,EAAU,CAAC,IAAD,EAK5B,EAAKjd,MAHL4L,EAF4B,EAE5BA,OACQ2B,EAHoB,EAG5Bc,MAAQd,OAGZmV,EANgC,EAI5BA,oBAEe,CACf9W,SACAyC,MAAOd,EACPyU,UAAWQ,EACXpZ,KAAM,EAAKgZ,QAAQpgB,GAAGoH,OAG9B,EAAKuZ,kBAAkB,EAAG,EAAG,EAAK9W,MAAMlL,MAAO,EAAKkL,MAAMhL,UAjS/C,EAoSnB+hB,iBAAmB,SAACpZ,GAIhB,IAHA,IAAMgZ,EAAWhZ,EAAQwY,UACrBS,GAAQ,EACRzgB,EAAI,EACDA,EAAI,EAAKogB,QAAQngB,SAAWwgB,GAC3B,EAAKL,QAAQpgB,GAAGK,KAAOmgB,EACvBC,GAAQ,EAERzgB,GAAK,EAGb,GAAIygB,EAAO,CACP,GAAI,EAAKziB,MAAM4L,SAAW,EAAKwW,QAAQpgB,GAAGib,UAEtCyF,EAD6B,EAAK1iB,MAA3B0iB,oBACY,MAEvB,EAAKN,QAAQpgB,GAAGgb,UAAW,EAC3B,EAAKoF,QAAQpgB,GAAGib,SAAW,GAC3B,EAAK0F,kBAAkB,EAAG,EAAG,EAAK9W,MAAMlL,MAAO,EAAKkL,MAAMhL,UAtT/C,EAyTnBgiB,eAAiB,SAACrZ,GACd,IAAK,IAAIxH,EAAI,EAAGA,EAAI,EAAKogB,QAAQngB,OAAQD,IACjC,EAAKogB,QAAQpgB,GAAGK,KAAOmH,EAAQwY,WAC/B,EAAKI,QAAQpgB,GAAGuc,mBAAmB/U,GAG3C,EAAKmZ,kBAAkB,EAAG,EAAG,EAAK9W,MAAMlL,MAAO,EAAKkL,MAAMhL,SA/T3C,EAkUnBiiB,gBAAkB,SAACtZ,GACf,EAAK4Y,QAAU,EAAKA,QAAQ9W,QAAO,SAACyX,GAAD,OAASA,EAAI1gB,KAAOmH,EAAQwY,aAC/D,EAAKW,kBAAkB,EAAG,EAAG,EAAK9W,MAAMlL,MAAO,EAAKkL,MAAMhL,SAlU1D,EAAKqF,cAAgB,gBACrB,EAAKkc,QAAU,GACf,EAAKvW,MAAQ,CACTrL,IAAK,KACLG,MAAO,EAAKX,MAAMgjB,gBAClBniB,OAAQ,EAAKb,MAAMijB,kBAEvB,EAAKziB,IAAM,KACX,EAAKqhB,WAAa,KAVH,E,iFAaE,IAAD,OAChBniB,KAAKyM,SAAS,CAAC3L,IAAKd,KAAKa,OAAOE,WAAW,QAAQ,WAC/CkF,QAAQC,IAAI,EAAK5F,MAAM2hB,UACvB,EAAKD,mBAAmB,EAAK1hB,MAAM2hB,UAAUxG,MAAK,SAACrB,GAC/C,EAAKsI,QAAUtI,EACf,EAAK6I,kBAAkB,EAAG,EAAG,EAAK9W,MAAMlL,MAAO,EAAKkL,MAAMhL,cAGlEnB,KAAKa,OAAOV,iBAAiB,aAAa,SAAC8I,GAAD,OAAO,EAAKua,gBAAgBva,MACtEjJ,KAAKa,OAAOV,iBAAiB,WAAW,SAAC8I,GAAD,OAAO,EAAKwa,cAAcxa,MAClEjJ,KAAKa,OAAOV,iBAAiB,aAAa,SAAC8I,GAAD,OAAO,EAAKya,gBAAgBza,MACtEjJ,KAAKa,OAAOV,iBAAiB,cAAc,kBAAM,EAAKwjB,sBAEtDtd,EAAqBuG,iBACjBjJ,EAAUC,WAAWoB,eACrBhF,KAAKuiB,aACLviB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWqB,cACrBjF,KAAKmjB,eACLnjB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWuB,cACrBnF,KAAK6iB,eACL7iB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWwB,gBACrBpF,KAAKkjB,iBACLljB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWsB,eACrBlF,KAAKojB,gBACLpjB,KAAKwG,iB,6CAIW,IAAD,OACnBxG,KAAKa,OAAOJ,oBAAoB,aAAa,SAACwI,GAAD,OAAO,EAAKua,gBAAgBva,MACzEjJ,KAAKa,OAAOJ,oBAAoB,WAAW,SAACwI,GAAD,OAAO,EAAKwa,cAAcxa,MACrEjJ,KAAKa,OAAOJ,oBAAoB,aAAa,SAACwI,GAAD,OAAO,EAAKya,gBAAgBza,MACzEjJ,KAAKa,OAAOJ,oBAAoB,cAAc,kBAAM,EAAKkjB,sBAEzDtd,EAAqBwG,mBACjBlJ,EAAUC,WAAWoB,eACrBhF,KAAKuiB,aACLviB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWqB,cACrBjF,KAAKmjB,eACLnjB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWuB,cACrBnF,KAAK6iB,eACL7iB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWwB,gBACrBpF,KAAKkjB,iBACLljB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWsB,eACrBlF,KAAKojB,gBACLpjB,KAAKwG,iB,kCAuPT,IACMod,EAAW5jB,KAAK6jB,gBAAgB3iB,YADvB,GAET4iB,EAAY9jB,KAAK6jB,gBAAgBziB,aAFxB,GAGT2iB,EAAsBD,EAAYF,EAElCjiB,EAAa3B,KAAKM,MAAMijB,iBAAmBvjB,KAAKM,MAAMgjB,gBAExD3hB,EAAaoiB,GACb/jB,KAAKa,OAAOM,OAASnB,KAAKM,MAAMijB,iBAChCvjB,KAAKa,OAAOG,MAAMG,OAAlB,UAA8B2iB,EAA9B,MACA9jB,KAAKa,OAAOI,MAAQjB,KAAKM,MAAMgjB,gBAC/BtjB,KAAKa,OAAOG,MAAMC,MAAlB,UAA6B6iB,EAAYniB,EAAzC,QAEA3B,KAAKa,OAAOI,MAAQjB,KAAKM,MAAMgjB,gBAC/BtjB,KAAKa,OAAOG,MAAMC,MAAlB,UAA6B2iB,EAA7B,MACA5jB,KAAKa,OAAOM,OAASnB,KAAKM,MAAMijB,iBAChCvjB,KAAKa,OAAOG,MAAMG,OAAlB,UAA8ByiB,EAAWjiB,EAAzC,OAGJ3B,KAAKijB,kBAAkB,EAAG,EAAGjjB,KAAKmM,MAAMlL,MAAOjB,KAAKmM,MAAMhL,U,wCAG5C0c,EAAIC,EAAIC,EAAIC,GAC1Bhe,KAAKmM,MAAMrL,IAAIkjB,UAAUnG,EAAIC,EAAIC,EAAIC,GACb,OAApBhe,KAAKmiB,YACLniB,KAAKmiB,WAAWvE,YAAYC,EAAIC,EAAIC,EAAIC,GAE5C,IAAK,IAAI1b,EAAI,EAAGA,EAAItC,KAAK0iB,QAAQngB,OAAQD,IACrCtC,KAAK0iB,QAAQpgB,GAAGsb,YAAYC,EAAIC,EAAIC,EAAIC,K,sCAKhC/U,GAEZ,GAAgB,IAAZA,EAAEgb,MAAa,CACf,IAAMtF,EAAO3e,KAAKa,OAAOqjB,wBACnBhF,GACAjW,EAAEkb,QAAUxF,EAAK9b,MAAQ7C,KAAKmM,MAAMlL,MACtC+d,OAAOhf,KAAKa,OAAOG,MAAMC,MAAMmjB,QAAQ,KAAM,KAC3CjF,GACAlW,EAAEob,QAAU1F,EAAK/b,KAAO5C,KAAKmM,MAAMhL,OACrC6d,OAAOhf,KAAKa,OAAOG,MAAMG,OAAOijB,QAAQ,KAAM,KAClDne,QAAQC,IAAR,qBAA0BgZ,EAA1B,eAAkCC,IAIlC,IAFA,IAAI7c,EAAItC,KAAK0iB,QAAQngB,OACjB+hB,EAAiB,KACdhiB,KAECtC,KAAK0iB,QAAQpgB,GAAG2c,aAChBjf,KAAK0iB,QAAQpgB,GAAG2c,YAAYC,EAAGC,EAAGnf,KAAKM,MAAM4L,UAE7CoY,EAAiBhiB,EACjBA,EAAI,GAKZ,IAAK,IAAIA,EAAI,EAAGA,EAAItC,KAAK0iB,QAAQngB,OAAQD,IACjCA,IAAMgiB,GAAkBtkB,KAAK0iB,QAAQpgB,GAAGib,WAAavd,KAAKM,MAAM4L,QAEhE7F,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWU,cAC3BqF,KAAM3J,KAAKM,MAAM4L,OACjBd,GAAI,SACJtB,QAAS,CACLwY,UAAWtiB,KAAK0iB,QAAQpgB,GAAGK,MAO3C,GAAuB,OAAnB2hB,IAA4BtkB,KAAK0iB,QAAQ4B,GAAgBhH,SAAU,CACnE,IAAMiH,EAASvkB,KAAK0iB,QAAQ4B,GAC5Bje,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWS,YAC3BsF,KAAM3J,KAAKM,MAAM4L,OACjBd,GAAI,SACJtB,QAAS,CACLwY,UAAWiC,EAAO5hB,MAI9BsD,QAAQC,IAAIlG,KAAK0iB,Y,sCAITzZ,GAEZ,GAAgB,IAAZA,EAAEgb,MAAa,CAWf,IAVA,IAAMtF,EAAO3e,KAAKa,OAAOqjB,wBACnBhF,GACAjW,EAAEkb,QAAUxF,EAAK9b,MAAQ7C,KAAKmM,MAAMlL,MACtC+d,OAAOhf,KAAKa,OAAOG,MAAMC,MAAMmjB,QAAQ,KAAM,KAC3CjF,GACAlW,EAAEob,QAAU1F,EAAK/b,KAAO5C,KAAKmM,MAAMhL,OACrC6d,OAAOhf,KAAKa,OAAOG,MAAMG,OAAOijB,QAAQ,KAAM,KAE9C9hB,EAAItC,KAAK0iB,QAAQngB,OACjB+hB,EAAiB,KACdhiB,KAECtC,KAAK0iB,QAAQpgB,GAAGid,cAChBvf,KAAK0iB,QAAQpgB,GAAGid,aAAaL,EAAGC,EAAGnf,KAAKM,MAAM4L,UAE9CoY,EAAiBhiB,EACjBA,EAAI,GAGZ,GAAuB,OAAnBgiB,EACwB3jB,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,gDAEhC,GAAgB,IAAZxW,EAAEgb,MAAa,CAWtB,IAVA,IAAMtF,EAAO3e,KAAKa,OAAOqjB,wBACnBhF,GACAjW,EAAEkb,QAAUxF,EAAK9b,MAAQ7C,KAAKmM,MAAMlL,MACtC+d,OAAOhf,KAAKa,OAAOG,MAAMC,MAAMmjB,QAAQ,KAAM,KAC3CjF,GACAlW,EAAEob,QAAU1F,EAAK/b,KAAO5C,KAAKmM,MAAMhL,OACrC6d,OAAOhf,KAAKa,OAAOG,MAAMG,OAAOijB,QAAQ,KAAM,KAE9C9hB,EAAItC,KAAK0iB,QAAQngB,OACjB+hB,EAAiB,KACdhiB,KAECtC,KAAK0iB,QAAQpgB,GAAGod,aAChB1f,KAAK0iB,QAAQpgB,GAAGod,YAAYR,EAAGC,EAAGnf,KAAKM,MAAM4L,UAE7CoY,EAAiBhiB,EACjBA,EAAI,GAGW,OAAnBgiB,GACAtkB,KAAKijB,kBAAkB,EAAG,EAAGjjB,KAAKmM,MAAMlL,MAAOjB,KAAKmM,MAAMhL,W,oCAKxD8H,GAAI,IAAD,EAITjJ,KAAKM,MAFL4L,EAFS,EAETA,OACQ2B,EAHC,EAGTc,MAAQd,MAGZ,GAAgB,IAAZ5E,EAAEgb,MASF,IARA,IAAMtF,EAAO3e,KAAKa,OAAOqjB,wBACnBhF,GACAjW,EAAEkb,QAAUxF,EAAK9b,MAAQ7C,KAAKmM,MAAMlL,MACtC+d,OAAOhf,KAAKa,OAAOG,MAAMC,MAAMmjB,QAAQ,KAAM,KAC3CjF,GACAlW,EAAEob,QAAU1F,EAAK/b,KAAO5C,KAAKmM,MAAMhL,OACrC6d,OAAOhf,KAAKa,OAAOG,MAAMG,OAAOijB,QAAQ,KAAM,KAEzC9hB,EAAI,EAAGA,EAAItC,KAAK0iB,QAAQngB,OAAQD,IAAK,CAC1C,IAAMkiB,EAASxkB,KAAK0iB,QAAQpgB,GAAGwd,UAAUZ,EAAGC,EAAGnf,KAAKM,MAAM4L,QAC1D,GAAI7J,OAAOD,KAAKoiB,EAAOzE,eAAexd,OAAS,EAAG,CAC9C,IAAMuH,EAAU0a,EAAOzE,cACvBjW,EAAQoC,OAASA,EACjBpC,EAAQ6E,MAAQd,EAChB/D,EAAQwY,UAAYtiB,KAAK0iB,QAAQpgB,GAAGK,GACpC0D,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWQ,YAC3BuF,KAAM3J,KAAKM,MAAM4L,OACjBd,GAAI,SACJtB,YAIJ0a,EAAOxE,cACP3Z,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWU,cAC3BqF,KAAM3J,KAAKM,MAAM4L,OACjBd,GAAI,SACJtB,QAAS,CACLwY,UAAWtiB,KAAK0iB,QAAQpgB,GAAGK,S,yCASvBhC,SAAS6e,qBAAqB,QAAQ,GAC9Cxe,MAAMye,OAAS,6C,+BAGzB,IAAD,OACL,OACI,yBACIgF,IAAK,SAACC,GAAD,OAAS,EAAKb,gBAAkBa,GACrC/hB,GAAG,oBACH3B,MAAO,CACH4O,KAAM,EACN9C,QAAS,OACT3L,OAAQ,OACR4L,cAAe,SACfC,eAAgB,SAChBC,WAAY,WAEhB,kBAAC,IAAD,CAAqB0X,aAAW,EAACC,cAAY,EAACC,SAAU,kBAAM,EAAKC,eACnE,4BACIL,IAAK,SAACC,GAAD,OAAS,EAAK7jB,OAAS6jB,GAC5B/hB,GAAG,eACH3B,MAAO,CACHga,gBAAiB,QACjB5N,aAAc,e,GA1hBVnK,a,0FPXtB8hB,GAAW,GAERziB,GAAI,EAAGA,IAAK,GAAIA,KACrByiB,GAASziB,GAAE2d,YAAc3d,GQH7B,IAAM0iB,GAAa,CACfC,OAAQ,MACRC,OAAQ,UCkSGC,G,YApRX,WAAY7kB,GAAQ,IAAD,8BACf,4CAAMA,KAwBV8kB,kBAAoB,SAACC,GACjB,OAAQA,GACJ,IAAK,QACD,EAAK5Y,UAAS,SAAC6Y,GAAD,MAAgB,CAC1BC,0BAA2BD,EAAUC,6BAEzC,MACJ,IAAK,QACD,EAAK9Y,UAAS,SAAC6Y,GAAD,MAAgB,CAC1BE,0BAA2BF,EAAUE,6BAEzC,MACJ,IAAK,YACD,EAAK/Y,UAAS,SAAC6Y,GAAD,MAAgB,CAC1BG,0BAA2BH,EAAUG,6BAEzC,MACJ,IAAK,YACD,EAAKhZ,UAAS,SAAC6Y,GAAD,MAAgB,CAC1BI,0BAA2BJ,EAAUI,6BAEzC,MACJ,QACIla,MAAM6Z,EAAc,kBAhDb,EAoDnB1K,YAAc,SAACgL,GAAU,IACdC,EAAmB,EAAKtlB,MAAxBslB,gBACAjZ,EAASgZ,EAAThZ,MACD7C,EAAU8b,EACZ9b,IACAA,EAAQqT,UAAYxQ,EACpBtG,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWQ,YAC3BuF,KAAMG,EAAQoC,OACdd,GAAI,SACJtB,QAASA,MA9DF,EAmEnB+b,gBAAkB,SAACF,GAAU,IAClBC,EAAmB,EAAKtlB,MAAxBslB,gBACA9U,EAAQ6U,EAAR7U,KACDhH,EAAU8b,EACZ9b,IACAA,EAAQoT,UAAYpM,EACpBzK,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWQ,YAC3BuF,KAAMG,EAAQoC,OACdd,GAAI,SACJtB,QAASA,MA7EF,EAkFnBgc,gBAAkB,SAACH,GAAU,IAClBC,EAAmB,EAAKtlB,MAAxBslB,gBACA9U,EAAQ6U,EAAR7U,KACDhH,EAAU8b,EACZ9b,IACAA,EAAQsT,UAAYtM,EACpBzK,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWQ,YAC3BuF,KAAMG,EAAQoC,OACdd,GAAI,SACJtB,QAASA,MA5FF,EAgGnBic,qBAAuB,SAACJ,GAAU,IACvBC,EAAmB,EAAKtlB,MAAxBslB,gBACAjZ,EAASgZ,EAAThZ,MACD7C,EAAU8b,EACZ9b,IACAA,EAAQuT,UAAY1Q,EACpBtG,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWQ,YAC3BuF,KAAMG,EAAQoC,OACdd,GAAI,SACJtB,QAASA,MA1GF,EA+GnBkc,mBAAqB,WAAO,IAElBlc,EADoB,EAAKxJ,MAAxBslB,gBAEH9b,GACAzD,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWY,cAC3BmF,KAAMG,EAAQoC,OACdd,GAAI,SACJtB,QAASA,KArHjB,EAAKqC,MAAQ,CACToZ,0BAA0B,EAC1BC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,0BAA0B,GANf,E,uFAWOO,GAElBA,EAAUL,kBAAoB5lB,KAAKM,MAAMslB,iBACxCK,EAAUL,iBAEX5lB,KAAKyM,SAAS,CACV8Y,0BAA0B,EAC1BC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,0BAA0B,M,+BAwG5B,IAAD,SAMD1lB,KAAKmM,MAJLoZ,EAFC,EAEDA,yBACAC,EAHC,EAGDA,yBACAC,EAJC,EAIDA,yBACAC,EALC,EAKDA,yBAEGE,EAAmB5lB,KAAKM,MAAxBslB,gBAEP,OADA3f,QAAQC,IAAIlG,KAAKM,OAEb,yBAAKU,MAAO,CAAC4iB,SAAU,IAAK5I,gBAAiB,UACzC,kBAACkL,GAAA,EAAD,CACIC,UAAU,MACVC,aAAW,uBACXC,UACI,kBAACC,GAAA,EAAD,CAAeH,UAAU,MAAMxjB,GAAG,yBAC9B,yBACI3B,MAAO,CACH8L,QAAS,OACTE,eAAgB,SAChBC,WAAY,SACZsC,SAAU,QALlB,UAWR,kBAACgX,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAK,QACLnD,QAAS,kBAAM,EAAK0X,kBAAkB,UACtCqB,UAAWb,GAA4C,UAAzBA,EAAgBlc,MAC9C,kBAACgd,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,OAEJ,kBAACC,GAAA,EAAD,CAAcC,QAAS,YAG9BtB,GACG,oCACI,kBAAC,EAAD,CACI9V,MAAO,GACPY,aAAc,GACdC,YAAatQ,KAAK2a,YAClBpK,UAAWS,EACXlD,MAAO,aACPpE,KAAM,WAIlB,kBAACwc,GAAA,EAAD,KACI,kBAACK,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAK,YACLnD,QAAS,kBAAM,EAAK0X,kBAAkB,cACtCqB,UACKb,GACwB,UAAzBA,EAAgBlc,MACS,SAAzBkc,EAAgBlc,MACS,gBAAzBkc,EAAgBlc,MAEpB,kBAACgd,GAAA,EAAD,KACI,kBAACI,GAAA,EAAD,KACI,yBAAKzmB,IAAK0mB,EAAQ,KAA4BhkB,IAAI,OAG1D,kBAAC6jB,GAAA,EAAD,CAAcC,QAAS,iBAG9BnB,GACG,oCACI,kBAAC,EAAD,CACIjW,MAAO,GACPY,aAAc,GACdC,YAAatQ,KAAK+lB,qBAClBxV,UAAWS,EACXlD,MAAO,aACPpE,KAAM,WAIlB,kBAACwc,GAAA,EAAD,KACI,kBAACK,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAK,QACLnD,QAAS,kBAAM,EAAK0X,kBAAkB,UACtCqB,UAAWb,GAA4C,UAAzBA,EAAgBlc,MAC9C,kBAACgd,GAAA,EAAD,KACI,kBAACI,GAAA,EAAD,KACI,yBAAKzmB,IAAK0mB,EAAQ,KAAwBhkB,IAAI,OAGtD,kBAAC6jB,GAAA,EAAD,CAAcC,QAAS,YAG9BrB,GACG,oCACI,kBAAC,EAAD,CACI/V,MAAO,GACPY,aAAc,GACdC,YAAatQ,KAAK6lB,gBAClBtV,UAAWwU,GACXjX,MAAO,gBAInB,kBAACoY,GAAA,EAAD,KACI,kBAACK,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAK,YACLnD,QAAS,kBAAM,EAAK0X,kBAAkB,cACtCqB,UAAWb,GAA4C,UAAzBA,EAAgBlc,MAC9C,kBAACgd,GAAA,EAAD,KACI,kBAACI,GAAA,EAAD,KACI,yBAAKzmB,IAAK0mB,EAAQ,KAA4BhkB,IAAI,OAG1D,kBAAC6jB,GAAA,EAAD,CAAcC,QAAS,iBAG9BpB,GACG,oCACI,kBAAC,EAAD,CACIhW,MAAO,GACPY,aAAc,GACdC,YAAatQ,KAAK8lB,gBAClBvV,UAAWyU,GACXlX,MAAO,gBAInB,kBAACkZ,GAAA,EAAD,MACA,kBAACd,GAAA,EAAD,KACI,kBAACK,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAK,SACLnD,QAAS1N,KAAKgmB,mBACdS,UAAWb,GACX,kBAACc,GAAA,EAAD,KACI,kBAACO,GAAA,EAAD,OAEJ,kBAACL,GAAA,EAAD,CAAcC,QAAS,kB,GA1QlB5jB,a,sECuJdikB,G,2MAjJXC,oBAAsB,SAACC,GAAgB,IAAD,EACkB,EAAK9mB,MAAlD4L,EAD2B,EAC3BA,OAAQqX,EADmB,EACnBA,iBAAkBD,EADC,EACDA,gBACjCjd,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWO,cAC3BwF,KAAMuC,EACNd,GAAI,SACJtB,QAAS,CACLud,MAAOD,EACPE,WAAYhE,EAAkB,GAAGrD,WACjCsH,WAAYhE,EAAmB,GAAGtD,e,EAI9CuH,yBAA2B,WACvB,IAEM5N,EAAOjZ,SAASC,eAAe,UAAU0a,MAAM,QACxCnZ,IAATyX,IAFiB,CAAC,YAAa,aAAc,aAIxBpW,SAASoW,EAAKlQ,MAG5BkQ,EAAK2B,KARA,KASZ/P,MAAM,+BAAD,OAAgCgQ,GAAhC,QAGT7B,EAAUC,GAAM6B,MAAK,SAACC,GAClB,IAAM9Z,EAAM,IAAI1B,MAChB0B,EAAIuY,OAAS,WAAO,IAAD,EACqC,EAAK7Z,MAAlD4L,EADQ,EACRA,OAAQqX,EADA,EACAA,iBAAkBD,EADlB,EACkBA,gBAE3BxZ,EAAU,CAACud,MAAO,QAASI,YAAa,CAAC/G,OAAQhF,IACnD9Z,EAAIX,MAAQW,EAAIT,QAChB2I,EAAQ2d,YAAYxmB,MAHR,KAGwBgf,WACpCnW,EAAQ2d,YAAYtmB,QAChB2I,EAAQ2d,YAAYxmB,OACnBW,EAAIT,OAASS,EAAIX,QACpBgf,aAEFnW,EAAQ2d,YAAYtmB,OATR,KASyB8e,WACrCnW,EAAQ2d,YAAYxmB,OAChB6I,EAAQ2d,YAAYtmB,QACnBS,EAAIT,OAASS,EAAIX,QACpBgf,YAENnW,EAAQwd,YAAchE,EAAkBxZ,EAAQ2d,YAAYxmB,OAAS,GAAGgf,WACxEnW,EAAQyd,YACHhE,EAAmBzZ,EAAQ2d,YAAYtmB,QACxC,GACF8e,WACF5Z,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWO,cAC3BwF,KAAMuC,EACNd,GAAI,SACJtB,aAGRlI,EAAIvB,IAAMqb,KArCVlQ,MAAM,kBAAD,OAAmBoO,EAAKlQ,KAAxB,qD,wEAwCH,IAAD,OACL,OACI,yBAAK1I,MAAO,CAAC4iB,SAAU,IAAK5I,gBAAiB,UACzC,kBAACkL,GAAA,EAAD,CACIC,UAAU,MACVC,aAAW,uBACXC,UACI,kBAACC,GAAA,EAAD,CAAeH,UAAU,MAAMxjB,GAAG,yBAC9B,yBACI3B,MAAO,CACH8L,QAAS,OACTE,eAAgB,SAChBC,WAAY,SACZsC,SAAU,QALlB,WAWR,kBAACgX,GAAA,EAAD,CAAUC,QAAM,EAAC3V,IAAK,OAAQnD,QAAS,kBAAM,EAAKyZ,oBAAoB,UAClE,kBAACT,GAAA,EAAD,KACI,kBAAC,KAAD,OAEJ,kBAACE,GAAA,EAAD,CAAcC,QAAS,WAG/B,kBAACG,GAAA,EAAD,MACA,kBAACd,GAAA,EAAD,KACK,CACG,CACIrY,MAAO,OACPsY,UAAW,kBAACuB,GAAA,EAAD,OAEf,CAAC7Z,MAAO,OAAQsY,UAAW,kBAACwB,GAAA,EAAD,OAC3B,CAAC9Z,MAAO,YAAasY,UAAW,kBAACyB,GAAA,EAAD,OAChC,CAAC/Z,MAAO,SAAUsY,UAAW,kBAAC0B,GAAA,EAAD,OAC7B,CACIha,MAAO,WACPsY,UACI,kBAACW,GAAA,EAAD,KACI,yBAAKzmB,IAAK0mB,EAAQ,KAA2BhkB,IAAI,QAI/DmM,KAAI,SAAC4B,GAAD,OACF,kBAACyV,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAKC,EAAKjD,MACVH,QAAS,kBAAM,EAAKyZ,oBAAoBrW,EAAKjD,MAAMia,iBACnD,kBAACpB,GAAA,EAAD,KAAe5V,EAAKqV,WACpB,kBAACS,GAAA,EAAD,CAAcC,QAAS/V,EAAKjD,aAIxC,kBAACmZ,GAAA,EAAD,MACA,kBAACd,GAAA,EAAD,KACI,kBAACK,GAAA,EAAD,CACIC,QAAM,EACN3V,IAAK,UACLnD,QAAS,WACL,IAAMyO,EAAUxb,SAASC,eAAe,UACpCub,GACAA,EAAQC,UAGhB,kBAACsK,GAAA,EAAD,KACI,kBAACqB,GAAA,EAAD,OAEJ,kBAACnB,GAAA,EAAD,CAAcC,QAAS,aAE3B,2BACInd,KAAK,OACL/G,GAAG,SACH3B,MAAO,CAACiB,SAAU,QAASoa,OAAQ,WACnC7O,SAAU,kBAAM,EAAKga,oC,GAvIpBvkB,a,8BClBnBwM,GAAQsX,EAAQ,IAsCPiB,G,iLAnCD,IACCC,EAASjoB,KAAKM,MAAd2nB,MAEP,OACI,yBACIjnB,MAAO,CACH8L,QAAS,OACTC,cAAe,MACfE,WAAY,SACZD,eAAgB,WAEnBib,GACGA,EAAM/Y,KAAI,SAACgZ,EAAMvlB,GAAP,OACN,yBACIkO,IAAKlO,EACL3B,MAAO,CACHga,gBAAiBvL,GAAMyY,GACvBjnB,MAAO,GACPE,OAAQ,GACRiM,aAAc,MACdN,QAAS,OACTE,eAAgB,SAChBC,WAAY,SACZwC,MAAO,UAEVyY,EAAK,Y,GA1BRjlB,aC6DXklB,G,2MA3DXC,OAAS,WACL5c,MAAM,c,EAIV6c,SAAW,WACP7c,MAAM,gB,wEAIA,IAAD,EACiCxL,KAAKM,MAApCoO,EADF,EACEA,WAAYG,EADd,EACcA,QAASyZ,EADvB,EACuBA,OAC5B,OACI,oCACI,yBACItnB,MAAO,CACH8L,QAAS,OACTC,cAAe,MACfE,WAAY,SACZD,eAAgB,gBAChBgO,gBAAiB,YAGrB,uBACI7N,UAAU,aACVnM,MAAO,CACH8L,QAAS,OACTG,WAAY,SACZwC,MAAO,QACPK,WAAY,OACZrC,UAAW,MACX+B,aAAc,QAEjBd,GAAU,aAAUA,EAAWb,MAAMoS,WAAWvQ,cAAtC,QAGf,kBAAC,GAAD,CAAauY,MAAOpZ,IAEpB,yBAAK7N,MAAO,CAAC8L,QAAS,SAClB,kBAACmP,EAAA,EAAD,CAAQvO,QAAS1N,KAAKqoB,UAClB,kBAACE,GAAA,EAAD,OAEJ,kBAACtM,EAAA,EAAD,CAAQvO,QAAS1N,KAAKooB,QAClB,kBAACI,GAAA,EAAD,OAEJ,kBAACvM,EAAA,EAAD,CAAQvO,QAAS4a,GACb,kBAACG,GAAA,EAAD,c,GA/CHxlB,a,oBCsDVylB,G,iLAtDD,IAAD,EAC2B1oB,KAAKM,MAA9BqoB,EADF,EACEA,YAAaC,EADf,EACeA,SACpB,OACI,yBACIjmB,GAAG,OACH3B,MAAO,CACH8L,QAAS,OACTC,cAAe,SACfC,eAAgB,aAChB/L,MAAO,OACP+Z,gBAAiB,UACjB7Z,OAAQX,OAAOqoB,YAAc,EAC7Bzb,aAAc,GACd0b,YAAa,EACbC,YAAa,YAEjB,yBACI/nB,MAAO,CACH8L,QAAS,OACTC,cAAe,aACfC,eAAgB,gBAChBC,WAAY,SACZ+b,aAAc,KACdC,YAAa,KACbjO,gBAAiB,UACjB/Z,MAAO,OACPioB,oBAAqB,GACrBC,qBAAsB,GACtB3Z,aAAc,KAElB,sCACA,kBAACK,EAAA,EAAD,CAAYnC,QAAS,kBAAMib,MACvB,kBAACS,GAAA,EAAD,QAGR,yBACIpoB,MAAO,CACH8L,QAAS,OACT8C,KAAM,EACN3O,MAAO,OACPiB,SAAU,SACV6K,cAAe,WAElB6b,Q,GA5CF3lB,a,UCoDJomB,G,iLApDD,IAAD,EACoCrpB,KAAKM,MAAvCmP,EADF,EACEA,MAAO0L,EADT,EACSA,KAAMtV,EADf,EACeA,QAASyjB,EADxB,EACwBA,SAC7B,OACI,yBACItoB,MAAO,CACH8L,QAAS,OACTC,cAAe,SACf9L,MAAO,OACP+nB,aAAc,MACdC,YAAa,QAEjB,yBACIjoB,MAAO,CACH8L,QAAS,OACTE,eAAgB,WAChBD,cAAeuc,EAAW,MAAQ,gBAErCnO,EACD,yBACIna,MAAO,CACHga,gBAAiBvL,EACjBxO,MAAO,GACPE,OAAQ,GACRiM,aAAc,GACdN,QAAS,OACTE,eAAgB,SAChBC,WAAY,SACZwC,MAAO,QACPK,WAAYwZ,EAAW,GAAK,EAC5B5Y,YAAa4Y,EAAW,EAAI,KAE/BnO,EAAK,KAGd,yBACIna,MAAO,CACH8L,QAAS,OACT2C,MAAO,QACPzC,eAAgBsc,EAAW,WAAa,eAE3CzjB,Q,GAzCC5C,aCMhBwM,GAAQsX,EAAQ,IA4IPwC,G,YAzIX,WAAYjpB,GAAQ,IAAD,8BACf,4CAAMA,KAyBViH,YAAc,WAAO,IACV2E,EAAU,EAAK5L,MAAf4L,OACAsd,EAAkB,EAAKrd,MAAvBqd,eACgB,KAAnBA,IACAnjB,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWW,aAC3BoF,KAAMuC,EACNd,GAAI,SACJtB,QAAS,CACLS,IAAKif,KAGb,EAAK/c,SAAS,CAAC+c,eAAgB,OAtCpB,EA0CnBC,eAAiB,SAACnf,EAAQC,GAAS,IACxB2B,EAAU,EAAK5L,MAAf4L,OACA0c,EAAY,EAAKzc,MAAjByc,SACPA,EAAS7iB,KACL,kBAAC,GAAD,CACI8K,IAAK+X,EAASrmB,OACdkN,MAAOA,GAAMnF,GACb6Q,KAAM7Q,EACNzE,QAAS0E,EACT+e,SAAUhf,IAAW4B,KAG7B,EAAKO,SAAS,CACVmc,cAvDW,EA2DnBc,YAAc,SAACzgB,GACG,UAAVA,EAAE4H,KACF,EAAKtJ,eA7DM,EAiEnBoiB,sBAAwB,SAAC1gB,GACP,UAAVA,EAAE4H,KACF,EAAKtJ,cAET,EAAKkF,SAAS,CACV+c,eAAgBvgB,EAAEyD,OAAOC,SAtEd,EA0EnBid,OAAS,WACL,EAAKnd,UAAS,SAAC6Y,GAAD,MAAgB,CAC1BuE,iBAAkBvE,EAAUuE,qBA1EhC,EAAKrjB,cAAgB,gBACrB,EAAK2F,MAAQ,CACT0d,iBAAiB,EACjBL,eAAgB,GAChBZ,SAAU,IANC,E,iFAWfviB,EAAqBuG,iBACjBjJ,EAAUC,WAAWW,aACrBvE,KAAKypB,eACLzpB,KAAKwG,iB,6CAKTH,EAAqBwG,mBACjBlJ,EAAUC,WAAWW,aACrBvE,KAAKypB,eACLzpB,KAAKwG,iB,+BA0DH,IAAD,SAC+CxG,KAAKmM,MAAlD0d,EADF,EACEA,gBAAiBjB,EADnB,EACmBA,SAAUY,EAD7B,EAC6BA,eAClC,OACI,oCAEKK,GAAmB,kBAAC,GAAD,CAAMlB,YAAa3oB,KAAK4pB,OAAQhB,SAAUA,IAE9D,yBACI5nB,MAAO,CACH8L,QAAS,OACTE,eAAgB,gBAChBC,WAAY,WAGf4c,GACG,yBAAK7oB,MAAO,CAACgoB,aAAc,QACvB,kBAACc,GAAA,EAAD,CACInnB,GAAG,iBACHqZ,MAAM,UACN6F,OAAO,SACP3F,QAAQ,WACRlb,MAAO,CAACga,gBAAiB,QAAS5N,aAAc,GAChDI,SAAUxN,KAAK2pB,sBACfI,WAAY/pB,KAAK0pB,YACjB/c,MAAO6c,KAKnB,yBACI9b,QAAS,kBAAOmc,EAAkB,EAAKtiB,cAAgB,EAAKqiB,UAC5D5oB,MAAO,CACH8L,QAAS,OACTG,WAAY,SACZD,eAAgB,SAChBgO,gBAAiB,QACjB/Z,MAAO4oB,EAAkB,GAAK,IAC9B1oB,OAAQ0oB,EAAkB,GAAK,IAC/Bzc,aAAcyc,EAAkB,GAAK,GACrCG,UAAW,sBACXC,cAAe,KAEnB,kBAAC,KAAD,CACIjpB,MAAO,CACHC,MAAO4oB,EAAkB,GAAK,GAC9B1oB,OAAQ0oB,EAAkB,GAAK,a,GA9HnC5mB,a,0CCgEbinB,G,2MAlEXC,cAAgB,WAAO,IAAD,EACgB,EAAK7pB,MAAhCiK,EADW,EACXA,KACP6f,EAFkB,EACNA,sBAEZ,IAAMtgB,EAAU,GAChBA,EAAQoC,OAAS3B,EAAIa,GACrBtB,EAAQ6E,MAAQpE,EAAIT,QAAQ6E,MAC5B7E,EAAQwY,UAAY/X,EAAIT,QAAQwY,UAC5BxY,GACAzD,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWY,cAC3BmF,KAAMY,EAAIa,GACVA,GAAI,SACJtB,QAASA,K,wEAIX,IAAD,EAC6B9J,KAAKM,MAAhCiK,EADF,EACEA,IAAK6f,EADP,EACOA,mBACZ,OACI,yBACIppB,MAAO,CACH8L,QAAS,OACT7L,MAAO,MACP8L,cAAe,SACfsd,aAAc,SACdpd,WAAY,SACZ+N,gBAAiB,QACjBsP,WAAY,MACZC,cAAe,MACfC,OAAQ,sBAEZ,yBACIxpB,MAAO,CACHuO,SAAU,MACVlC,UAAW,WAHnB,UAIW9C,EAAIZ,KAJf,+BAI0CY,EAAIT,QAAQJ,KAJtD,sBAKA,yBACI1I,MAAO,CACH8L,QAAS,OACTC,cAAe,MACfC,eAAgB,eAChB/L,MAAO,SAEX,kBAACgb,EAAA,EAAD,CACIC,QAAQ,YACRzM,MAAM,YACNgb,UAAW,kBAAC,KAAD,MACX/c,QAAS0c,GAJb,YAOA,kBAACnO,EAAA,EAAD,CACIC,QAAQ,YACRzM,MAAM,UACNgb,UAAW,kBAAC,KAAD,MACX/c,QAAS1N,KAAKmqB,eAJlB,e,GAnDMlnB,aCMpBynB,G,YACF,WAAYpqB,GAAQ,IAAD,uBACf,4CAAMA,KAkEVgoB,OAAS,WAAO,IACLpc,EAAU,EAAKC,MAAfD,OACP7F,EAAqBkB,YAAY,CAC7BmC,KAAM/F,EAAUC,WAAWM,YAC3ByF,KAAMuC,EACNd,GAAI,SACJtB,QAAS,MAzEE,EA6EnBkZ,mBAAqB,SAAC2H,GAClB,EAAKle,SAAS,CAACmZ,gBAAiB+E,KA9EjB,EAiFnBC,sBAAwB,SAACxgB,EAAQyE,GAC7B,GAAI,EAAKX,SAAU,CACf,EAAKzB,SAAS,CAACoC,YADA,IAER3C,EAAU,EAAKC,MAAfD,OACHA,IAAW9B,GACX,EAAK9J,MAAMgM,QAAQvG,KAAK,CAACwG,SAAU,UAAWJ,MAAO,CAACD,cAtF/C,EA2FnB2e,wBAA0B,SAAChc,GACvB,EAAKpC,SAAS,CAACoC,aA5FA,EA+FnBub,mBAAqB,SAAC7f,GAClB,EAAKkC,UAAS,SAAC6Y,GAAD,MAAgB,CAC1BwF,wBAAyBxF,EAAUwF,uBACnCC,UAAYzF,EAAUwF,uBAA+B,KAANvgB,OAlGpC,EAsGnBygB,oBAAsB,SAACzgB,GAAS,IACrBqb,EAAmB,EAAKzZ,MAAxByZ,gBACHA,GAAmBA,EAAgBtD,YAAc/X,EAAI+X,WACrD,EAAK7V,SAAS,CAACmZ,gBAAiB,QAzGrB,MAMXtlB,EAHAwO,SACI3C,MAAQuC,EAJD,EAICA,WAAYxC,EAJb,EAIaA,OAAQ2C,EAJrB,EAIqBA,QAJrB,OAOf,EAAK1C,MAAQ,CACTuC,aACAxC,SACA2C,UACA+W,gBAAiB,KACjBkF,wBAAwB,EACxBC,UAAW,MAEf,EAAKvkB,cAAgB,iBACrB,EAAK0H,UAAW,EAhBD,E,iFAoBflO,KAAKkO,UAAW,EAChB7H,EAAqBuG,iBACjBjJ,EAAUC,WAAWkB,kBACrB9E,KAAK4qB,sBACL5qB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWiB,kBACrB7E,KAAK6qB,wBACL7qB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWY,cACrBxE,KAAKoqB,mBACLpqB,KAAKwG,eAETH,EAAqBuG,iBACjBjJ,EAAUC,WAAWsB,eACrBlF,KAAKgrB,oBACLhrB,KAAKwG,iB,6CAKTH,EAAqBwG,mBACjBlJ,EAAUC,WAAWkB,kBACrB9E,KAAK4qB,sBACL5qB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWiB,kBACrB7E,KAAK6qB,wBACL7qB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWY,cACrBxE,KAAKoqB,mBACLpqB,KAAKwG,eAETH,EAAqBwG,mBACjBlJ,EAAUC,WAAWsB,eACrBlF,KAAKgrB,oBACLhrB,KAAKwG,eAETxG,KAAKkO,UAAW,I,+BA6CV,IAAD,SAQDlO,KAAKmM,MANLuC,EAFC,EAEDA,WACAG,EAHC,EAGDA,QACA3C,EAJC,EAIDA,OACA0Z,EALC,EAKDA,gBACAkF,EANC,EAMDA,uBACAC,EAPC,EAODA,UAIJ,OACI,kBAAC,EAAD,CACItoB,YAAa,CACTqK,QAAS,OACTC,cAAe,UAEnBxM,OAAQ2M,IAER,kBAAC,GAAD,CAAYwB,WAAYA,EAAYG,QAASA,EAASyZ,OAAQtoB,KAAKsoB,SAElEwC,GAA0BC,GACvB,yBACI/pB,MAAO,CACH8L,QAAS,OACT7L,MAAO,OACPE,OAAQ,OACRc,SAAU,WACV+K,eAAgB,SAChBC,WAAY,WAEhB,kBAAC,GAAD,CAAa1C,IAAKwgB,EAAWX,mBAAoBpqB,KAAKoqB,sBAG9D,yBACIppB,MAAO,CACH8L,QAAS,OACT7L,MAAO,OACP8L,cAAe,MACfE,WAAY,SAEZ2C,KAAM,IAGV,kBAAC,GAAD,CACI1D,OAAQA,EACRoX,gBApCQ,KAqCRC,iBAtCS,MA0Cb,kBAAC,GAAD,CACIkB,IAAK,SAACC,GAAD,OAAS,EAAK7jB,OAAS6jB,GAC5BpB,gBA3CQ,KA4CRC,iBA7CS,IA8CT0H,iBAAkBjrB,KAAKirB,iBACvBtc,MAAOD,EACPxC,OAAQA,EACR+V,SAAUvT,EAAWuT,SACrBe,mBAAoBhjB,KAAKgjB,qBAI7B,kBAAC,GAAD,CAAgB4C,gBAAiBA,KAGrC,yBACI5kB,MAAO,CACH8L,QAAS,OACTG,WAAY,SACZF,cAAe,SACf9K,SAAU,WACVoa,OAAQ,GACR6O,MAAO,KAEX,kBAAC,GAAD,CAAehf,OAAQA,U,GAzLdjJ,aAqMd0K,eAAW+c,I,UCvMpBS,I,mBACF,WAAY7qB,GAAQ,IAAD,8BACf,4CAAMA,KAmCV8qB,yBAA2B,WACvBC,KAAMC,KACF,+EACA,KACA,eAEJ,EAAKjd,SAAStI,KACVsD,YAAW,WAC8B,MAAjC,EAAK/I,MAAMwO,SAASvC,UACpB,EAAKjM,MAAMgM,QAAQvG,KAAK,CACpBwG,SAAU,MAGlB8e,KAAME,SACP,OAhDP,EAAK/kB,cAAgB,MACrB,EAAK6H,SAAW,GACZ7N,OAAOgrB,aAC6B,IAAhCA,YAAYC,WAAW/hB,MAA+C,MAAjC,EAAKpJ,MAAMwO,SAASvC,WACzDf,MACI,oFAEJ,EAAKlL,MAAMgM,QAAQvG,KAAK,CACpBwG,SAAU,OAVP,E,iFAiBflG,EAAqBuG,iBACjBjJ,EAAUC,WAAWmB,oBACrB/E,KAAKorB,yBACLprB,KAAKwG,iB,6CAUT,IALAH,EAAqBwG,mBACjBlJ,EAAUC,WAAWmB,oBACrB/E,KAAKorB,yBACLprB,KAAKwG,eAEFxG,KAAKqO,SAAS9L,OAAS,GAAG,CAC7B,IAAMwM,EAAI/O,KAAKqO,SAASW,MACxBC,aAAaF,M,+BAuBjB,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO2c,OAAK,EAACC,KAAK,IAAIxF,UAAWra,IACjC,kBAAC,IAAD,CAAO6f,KAAK,UAAUxF,UAAWpY,IACjC,kBAAC,IAAD,CAAO4d,KAAK,aAAaxF,UAAW7L,IACpC,kBAAC,IAAD,CAAOqR,KAAK,qBAAqBxF,UAAWuE,U,GA7D1CznB,cAuEH0K,eAAWwd,ICvENS,QACa,cAA7BprB,OAAOsO,SAAS3L,UAEiB,UAA7B3C,OAAOsO,SAAS3L,UAEhB3C,OAAOsO,SAAS3L,SAAS0oB,MAAM,2DCVvCC,iBACI,kBAAC,IAAD,CAAeC,SAAUtoB,qBACrB,kBAAC,GAAD,OAEJ9C,SAASC,eAAe,SDkHpB,kBAAmBorB,WACnBA,UAAUC,cAAcC,MAAMzQ,MAAK,SAAC0Q,GAChCA,EAAaC,kB","file":"static/js/main.f563b048.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/welcome.c75afa30.jpg\";","module.exports = __webpack_public_path__ + \"static/media/wood.af6ca17a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Wood-4.2688eadb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cappuccino2.3aad53f5.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxgLKyjx6TefAAAAv0lEQVQ4y+2SMQrCQBBFH2vERiyC2NqICHZewEb0FDYewMJTKNh5DMFWPIGFNuksJU06BQkEsRiLSFQczRzAv8V8/v4HuzBQ54jknisTHhoa6oKwTesOh03ubRjUZs+amh2ImNGi5xAjcGLJmaIj4GYCdunwCGjQzK3HTwBCQvNP8L7kHXwlrZLowJwxsZIf2Gh1n4ApZfszVwjCwlqvkCAIEQUbMMrWratdf67GIHN9G1BS3E8gR38AgIviXnQHGY9Kif3efSAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjRUMTE6NDM6NDArMDA6MDD5p4TZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTI0VDExOjQzOjQwKzAwOjAwiPo8ZQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxITAjGsTBIYAAAA10lEQVRIx93SrUoEcRTG4ec/syCCCILFMFGj0RuwCIK3IlrUS9DiFVi1im1MYrKZTIsigiBMkcUPZGXH4BV4TpF9T37f8/XjzEQfrInTorMorq5Ys2UQtH+7SDSfGhWNg/AfXh1yFaag17utNKkNmtqLDTNB+4fdgtp8MODNODX//1ABS2YD3i/PsOIuTMHQKm0KpJviKYXSqHKZumE7sOPTeojFsWt7qfZTol8SG8uqPzp79x5hznkYo9YCxykSTximArrKe+qGo1plMxFwRLEdXOPBvvoHtiwO3rv4JYwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMThUMTk6MDI6NDkrMDA6MDCdn4KXAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTE4VDE5OjAyOjQ5KzAwOjAw7MI6KwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxgLEyGfqjPAAAAAdElEQVQ4y82RsQmAMBQFDwQLSwvBDQLGYbNAentt4zZKskQsssB/RcBXH5/PHdjnuFntuCdTSfbrL5XC3gWHQCXj7f8PBAXvN8fFbMeb99N+vad3OdOhZpo4/pFpIzIqeKYSrbjjUcw07yJe7CKTmmkhKfgHrwsu/57T6AoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjRUMTE6MTk6MzMrMDA6MDCk/6vWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTI0VDExOjE5OjMzKzAwOjAw1aITagAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxUOGyzdY99DAAABAklEQVQ4y8XTvyvEcRzH8cf3OgNJXOpKidQpg0GSlMVgvonhFsazsrCSjYXCwMh8kpIyWAwGRTYl+e3+AavBj+7c9773PYv39Hm9Pq/n+/Pu0+fDf1VGpj7g0HH4RiLUzUlLycXt3uLBsEFP2uIBm9bAuo048SGPWr9OujdSK550YeJHTbrSEA3MOSrTB2aj4p2KesqcLkXd1YGC+QpvQaFaPOs6ZOKkS9mweJNbY6GNRt1prrRXbVcddcfKb6vfi/aqQMqzgVIj4cxU1PWZdl767macCiKBwIn8t0h71adW9XrT8bncs1gzDkt2CYzbl/ceA2i0JRtYrusz3tSR/WN9AIk1KiapkAmsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTIxVDE0OjI3OjQ0KzAwOjAwi8Ck9gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0yMVQxNDoyNzo0NCswMDowMPqdHEoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Background extends Component {\n    componentDidMount() {\n        this.backgroundImg = new Image();\n        this.backgroundImg.addEventListener(\"load\", () => this.refreshBackground());\n        this.backgroundImg.src = this.props.imgSrc;\n        window.addEventListener(\"resize\", () => this.refreshBackground());\n    }\n    componentWillUnmount() {\n        this.backgroundImg.removeEventListener(\"load\", () => this.refreshBackground());\n        window.removeEventListener(\"resize\", () => this.refreshBackground());\n    }\n    refreshBackground() {\n        const pageContainer = document.getElementById(\"page-container\");\n        const canvas = document.getElementById(\"background-canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.style.width = `${pageContainer.clientWidth}px`;\n        canvas.width = pageContainer.clientWidth;\n        canvas.style.height = `${pageContainer.clientHeight}px`;\n        canvas.height = pageContainer.clientHeight;\n        const canvasW = canvas.width;\n        const canvasH = canvas.height;\n        const canvasProp = canvasH / canvasW;\n\n        const img = this.backgroundImg;\n        const imgW = img.width;\n        const imgH = img.height;\n        const imgProp = imgH / imgW;\n\n        let srcX;\n        let srcY;\n        let srcW;\n        let srcH;\n        if (canvasProp > imgProp) {\n            srcH = imgH;\n            srcW = srcH / canvasProp;\n            srcX = (imgW - srcW) / 2;\n            srcY = 0;\n        } else {\n            srcW = imgW;\n            srcH = srcW * canvasProp;\n            srcX = 0;\n            srcY = (imgH - srcH) / 2;\n        }\n        ctx.drawImage(img, srcX, srcY, srcW, srcH, 0, 0, canvasW, canvasH);\n    }\n    addMinimumStyleAttributes(style) {\n        const defaultStyle = {\n            position: \"relative\",\n            overflow: \"hidden\",\n            width: \"100%\",\n            height: \"100%\",\n        };\n\n        if (style === undefined) {\n            style = defaultStyle;\n        } else {\n            const keys = Object.keys(defaultStyle);\n            for (let i = 0; i < keys.length; i++) {\n                if (!style.hasOwnProperty(keys[i])) {\n                    style[keys[i]] = defaultStyle[keys[i]];\n                }\n            }\n        }\n    }\n    render() {\n        const {customStyle} = this.props;\n        this.addMinimumStyleAttributes(customStyle);\n        return (\n            <div id=\"page-container\" style={customStyle}>\n                <canvas\n                    id=\"background-canvas\"\n                    style={{\n                        position: \"absolute\",\n                        top: \"0px\",\n                        left: \"0px\",\n                        height: \"100%\",\n                        width: \"100%\",\n                        zIndex: -1,\n                    }}\n                    alt=\"background\"></canvas>\n                {this.props.children}\n            </div>\n        );\n    }\n}\nBackground.propTypes = {\n    children: PropTypes.any,\n    customStyle: PropTypes.any,\n    imgSrc: PropTypes.any,\n};\nexport default Background;\n","const config = {\n    hostname: \"http://mydomain.com\",\n\n    http_port: 1245,\n    rest_url: \"http://mydomain.com:1245/REST\",\n\n    socket_port: 1236,\n    socket_url: \"ws://mydomain.com:1236/websockets/sock1\",\n};\n\n// HOSTNAME\nif ([\"dev\", \"develop\", \"development\"].includes(process.env.REACT_APP_ENVIRONMENT)) {\n    config.hostname = process.env.REACT_APP_HOSTNAME_DEV;\n    config.http_port = process.env.REACT_APP_REST_PORT_DEV;\n    config.rest_url = `${process.env.REACT_APP_REST_PROTOCOL_DEV}://${process.env.REACT_APP_HOSTNAME_DEV}:${process.env.REACT_APP_REST_PORT_DEV}`;\n    config.socket_port = process.env.REACT_APP_SOCKET_PORT_DEV;\n    config.socket_url = `${process.env.REACT_APP_SOCKET_PROTOCOL_DEV}://${process.env.REACT_APP_HOSTNAME_DEV}:${process.env.REACT_APP_SOCKET_PORT_DEV}/${process.env.REACT_APP_SOCKET_API_DEV}`;\n} else if ([\"prod\", \"production\"].includes(process.env.REACT_APP_ENVIRONMENT)) {\n    config.hostname = process.env.REACT_APP_HOSTNAME_PROD;\n    config.http_port = process.env.REACT_APP_REST_PORT_PROD; // No port specified on Heroku\n    config.rest_url = `${process.env.REACT_APP_REST_PROTOCOL_PROD}://${process.env.REACT_APP_HOSTNAME_PROD}`; // No port specified on Heroku\n    config.socket_port = process.env.REACT_APP_SOCKET_PORT_PROD; // No port specified on Heroku\n    config.socket_url = `${process.env.REACT_APP_SOCKET_PROTOCOL_PROD}://${process.env.REACT_APP_HOSTNAME_PROD}/${process.env.REACT_APP_SOCKET_API_PROD}`; // No port specified on Heroku\n}\nexport default config;\n","const constants = {\n    SOCKET_MSG: {\n        //   CLIENTS ---> SERVER\n        IDENTIFY: \"Ask Pseudo\",\n        GET_BOARD: \"Get Board\",\n        GET_ALL_BOARDS: \"Get All Boards\",\n        CREATE_BOARD:\"Create Board\",\n        JOIN_BOARD: \"Join Board\",\n        LEAVE_BOARD: \"Leave Board\",\n        CREATE_OBJECT: \"Create Object\",\n        EDIT_OBJECT: \"Edit Object\",\n        LOCK_OBJECT: \"Lock Object\",\n        UNLOCK_OBJECT: \"Unlock Object\",\n\n        //   CLIENTS <---> SERVER\n        CHAT_MESSAGE: \"Chat Message\",\n        DELETE_OBJECT: \"Delete Object\",\n\n        //   SERVER ---> CLIENTS\n        IDENTIFY_ANSWER: \"Pseudo Request Answer\",\n        ANSWER_GET_BOARD: \"Answer Get Board\",\n        ANSWER_GET_ALL_BOARDS: \"Answer Get All Boards\",\n        ANSWER_CREATE_BOARD: \"Answer Create Board\",\n        DRAWER_JOIN_BOARD: \"New Drawer Joined Board\",\n        DRAWER_LEFT_BOARD: \"Drawer Left Board\",\n        DRAWER_DISCONNECTED: \"Drawer Disconnected\",\n        OBJECT_CREATED: \"Object Created\",\n        OBJECT_EDITED: \"Object Edited\",\n        OBJECT_DELETED: \"Object Deleted\",\n        OBJECT_LOCKED: \"Object Locked\",\n        OBJECT_UNLOCKED: \"Object Unlocked\",\n    },\n};\n\nexport default constants;\n","class Logger {\n    constructor(moduleName, subModuleName = null) {\n        this.moduleName = subModuleName === null ? moduleName : moduleName + \"/\" + subModuleName;\n        this.commonTypes = [\"number\", \"string\"];\n        this.endCharacters = [\".\", \"!\", \"?\", \":\"];\n        this.environment = process.env.NODE_ENV;\n    }\n\n    log(...args) {\n        // if(this.environment !== 'production' && this.environment !== 'prod'){\n\n        // In case you want to log an object\n        if (args.length === 1 && !this.commonTypes.includes(typeof args[0])) {\n            console.log(args[0]);\n        } else {\n            const errors = [];\n            let message = `[${this.moduleName}] -`;\n            for (let i = 0; i < args.length; i++) {\n                message += \" \" + args[i];\n                if (args[i] instanceof Error) {\n                    errors.push(args[i]);\n                }\n            }\n\n            if (!this.endCharacters.includes(message.charAt(message.length - 1))) {\n                message += \".\";\n            }\n            console.log(message);\n            while (errors.length > 0) {\n                console.error(errors.shift());\n            }\n        }\n\n        // }\n    }\n}\n\nexport default Logger;\n","import config from \"../config/config\";\nimport constants from \"../config/constants\";\nimport Logger from \"../utils/logger\";\n\nclass SocketClient {\n    constructor() {\n        // SINGLETON PATTERN\n        if (!!SocketClient.instance) {\n            return SocketClient.instance;\n        }\n        SocketClient.instance = this;\n\n        // ATTRIBUTES\n        this.componentName = \"Socket Client\";\n        this.backend_url = `${config.socket_url}`;\n        this.socketClient = null;\n        this.connected = false;\n        this.reconnectionParams = {\n            reconnect: true,\n            reconnectionDelay: 1000,\n            maxAttempts: 50,\n            currentAttemps: 0,\n        };\n\n        // METHODS\n        this.init = this.init.bind(this);\n        this.stop = this.stop.bind(this);\n        this.onConnect = this.onConnect.bind(this);\n        this.onDisconnect = this.onDisconnect.bind(this);\n        this.onMessage = this.onMessage.bind(this);\n        this.sendMessage = this.sendMessage.bind(this);\n\n        this.handlers = {\n            identifiedHandlers: [],\n            answerGetAllBoardsHandlers: [],\n            answerGetBoardHandlers: [],\n            answerCreatePaperBoardHandlers: [],\n            drawerJoinedBoardHandlers: [],\n            drawerLeftBoardHandlers: [],\n            chatMessageHandlers: [],\n            askDeletionHandlers: [],\n            objLockedHandlers: [],\n            objUnlockedHandlers: [],\n            objCreatedHandlers: [],\n            objEditedHandlers: [],\n            objDeletedHandlers: [],\n            objAskDeleteHandlers: [],\n            drawerConnectedHandlers: [],\n            drawerDisconnectedHandlers: [],\n        };\n        this.logger = new Logger(this.componentName);\n\n        return this;\n    }\n\n    init() {\n        this.logger.log(`Try to connect to WebSocketServer [${this.backend_url}]...`);\n        this.reconnectionParams.currentAttemps += 1;\n        const socket = new WebSocket(this.backend_url);\n        this.socketClient = socket;\n        this.socketClient.onopen = this.onConnect;\n        this.socketClient.onmessage = this.onMessage;\n        this.socketClient.onclose = this.onDisconnect;\n    }\n    stop() {\n        this.tryToReconnect = false;\n        this.socketClient.close();\n        this.socketClient = null;\n    }\n\n    onConnect() {\n        this.logger.log(`Connection successful to [${this.backend_url}]`);\n        this.connected = true;\n        this.reconnectionParams.currentAttemps = 0;\n    }\n    onDisconnect(e) {\n        if (this.reconnectionParams.currentAttemps < 2) {\n            this.handlers.drawerDisconnectedHandlers.forEach((drawerDisconnectedHandler) => {\n                drawerDisconnectedHandler();\n            });\n        }\n        switch (e.code) {\n            case 1000: // CLOSE_NORMAL\n                break;\n            default:\n                // CLOSE_ABNORMAL\n                const {\n                    reconnect,\n                    maxAttempts,\n                    currentAttemps,\n                    reconnectionDelay,\n                } = this.reconnectionParams;\n                if (reconnect && currentAttemps < maxAttempts) {\n                    setTimeout(this.init, reconnectionDelay);\n                }\n                break;\n        }\n        this.logger.log(`Disconnected from server [${this.backend_url}]`);\n    }\n    onMessage(socketMessage) {\n        let data = null;\n        try {\n            data = JSON.parse(socketMessage.data);\n            this.logger.log(\n                `Received ${data.type} from ${data.from === undefined ? \"server\" : data.from}.`\n            );\n        } catch (error) {\n            this.logger.log(\"Invalid message sent through WebSocket. Unable to parse.\", error);\n            this.logger.log(socketMessage);\n            data = {};\n        }\n        switch (data.type) {\n            case constants.SOCKET_MSG.IDENTIFY_ANSWER:\n                this.logger.log(\n                    `Trigger identified handlers (${this.handlers.identifiedHandlers.length}).`\n                );\n                this.handlers.identifiedHandlers.forEach((identifiedHandler) => {\n                    identifiedHandler(data);\n                });\n                break;\n            case constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:\n                this.logger.log(\n                    `Trigger getAllBoards handlers (${this.handlers.answerGetAllBoardsHandlers.length}).`\n                );\n                this.handlers.answerGetAllBoardsHandlers.forEach((answerGetAllBoardsHandler) => {\n                    answerGetAllBoardsHandler(data.payload);\n                });\n                break;\n            case constants.SOCKET_MSG.ANSWER_GET_BOARD:\n                this.logger.log(\n                    `Trigger GetBoard handlers (${this.handlers.answerGetBoardHandlers.length}).`\n                );\n                this.handlers.answerGetBoardHandlers.forEach((answerGetBoardHandler) => {\n                    answerGetBoardHandler(data.payload);\n                });\n                break;\n            case constants.SOCKET_MSG.ANSWER_CREATE_BOARD:\n                this.logger.log(\n                    `Trigger CreateBoard handlers (${this.handlers.answerCreatePaperBoardHandlers.length}).`\n                );\n                this.handlers.answerCreatePaperBoardHandlers.forEach(\n                    (answerCreatePaperBoardHandler) => {\n                        answerCreatePaperBoardHandler(data.payload);\n                    }\n                );\n                break;\n            case constants.SOCKET_MSG.DRAWER_JOIN_BOARD:\n                this.logger.log(\n                    `Trigger drawer joined board handlers (${this.handlers.drawerJoinedBoardHandlers.length}).`\n                );\n                this.handlers.drawerJoinedBoardHandlers.forEach((drawerJoinedBoardHandler) => {\n                    drawerJoinedBoardHandler(data.payload.userlist);\n                });\n                break;\n            case constants.SOCKET_MSG.DRAWER_LEFT_BOARD:\n                this.logger.log(\n                    `Trigger drawer left board handlers (${this.handlers.drawerLeftBoardHandlers.length}).`\n                );\n                this.handlers.drawerLeftBoardHandlers.forEach((drawerLeftBoardHandler) => {\n                    drawerLeftBoardHandler(data.payload.leaver, data.payload.userlist);\n                });\n                break;\n            case constants.SOCKET_MSG.CHAT_MESSAGE:\n                this.logger.log(\n                    `Trigger chat message handlers (${this.handlers.chatMessageHandlers.length}).`\n                );\n                this.handlers.chatMessageHandlers.forEach((chatMessageHandler) => {\n                    chatMessageHandler(data.payload.writer, data.payload.msg);\n                });\n                break;\n            case constants.SOCKET_MSG.ASK_DELETION:\n                this.logger.log(\n                    `Trigger ask deletion handlers (${this.handlers.askDeletionHandlers.length}).`\n                );\n                this.handlers.askDeletionHandlers.forEach((askDeletionHandler) =>\n                    askDeletionHandler()\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_LOCKED:\n                this.logger.log(\n                    `Trigger object locked handlers (${this.handlers.objLockedHandlers.length}).`\n                );\n                this.handlers.objLockedHandlers.forEach((objLockedHandler) =>\n                    objLockedHandler(data.payload)\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_UNLOCKED:\n                this.logger.log(\n                    `Trigger object unlocked handlers (${this.handlers.objUnlockedHandlers.length}).`\n                );\n                this.handlers.objUnlockedHandlers.forEach((objUnlockedHandler) =>\n                    objUnlockedHandler(data.payload)\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_CREATED:\n                this.logger.log(\n                    `Trigger object created handlers (${this.handlers.objCreatedHandlers.length}).`\n                );\n                this.handlers.objCreatedHandlers.forEach((objCreatedHandler) =>\n                    objCreatedHandler(data.payload)\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_EDITED:\n                this.logger.log(\n                    `Trigger object edited (${this.handlers.objEditedHandlers.length}).`\n                );\n                this.handlers.objEditedHandlers.forEach((objEditedHandler) =>\n                    objEditedHandler(data.payload)\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_DELETED:\n                this.logger.log(\n                    `Trigger object deleted (${this.handlers.objDeletedHandlers.length}).`\n                );\n                this.handlers.objDeletedHandlers.forEach((objDeletedHandler) =>\n                    objDeletedHandler(data.payload)\n                );\n                break;\n            case constants.SOCKET_MSG.DRAWER_CONNECTED:\n                this.logger.log(\n                    `Trigger drawer connected handlers (${this.handlers.drawerConnectedHandlers.length}).`\n                );\n                this.handlers.drawerConnectedHandlers.forEach((drawerConnectedHandler) => {\n                    drawerConnectedHandler(data.payload.userlist);\n                });\n                break;\n            case constants.SOCKET_MSG.DRAWER_DISCONNECTED:\n                this.logger.log(\n                    `Trigger drawer disconnected handlers (${this.handlers.drawerDisconnectedHandlers.length}).`\n                );\n                this.handlers.drawerDisconnectedHandlers.forEach((drawerDisconnectedHandler) =>\n                    drawerDisconnectedHandler(data.from)\n                );\n                break;\n            case constants.SOCKET_MSG.DELETE_OBJECT:\n                this.logger.log(\n                    `Trigger delete object handlers (${this.handlers.objAskDeleteHandlers.length}).`\n                );\n                this.handlers.objAskDeleteHandlers.forEach((objAskDeleteHandler) =>\n                    objAskDeleteHandler(data)\n                );\n                break;\n            default:\n                this.logger.log(\n                    `Unexpected message type received ${data.type} - from ${data.from}.`\n                );\n        }\n    }\n    sendMessage(json) {\n        let message = null;\n        if (!json.type) {\n            this.logger.log(\"A message must have a type to be sent !\", json);\n        } else {\n            try {\n                message = JSON.stringify(json);\n                this.logger.log(\n                    `Sending ${json.type} to ${json.to === undefined ? \"server\" : json.to}.`\n                );\n            } catch (error) {\n                this.logger.log(\n                    \"Invalid message sent from the client socket. Unable to parse.\",\n                    error\n                );\n                message = {};\n            }\n            console.log(this.socketClient);\n            if (this.socketClient && this.socketClient.readyState === WebSocket.OPEN) {\n                this.socketClient.send(message);\n            } else {\n                alert(\"You have been disconnected, don't forgzt to reconnect\");\n            }\n        }\n    }\n\n    subscribeToEvent(eventName, handler, subscriber) {\n        switch (eventName) {\n            case constants.SOCKET_MSG.IDENTIFY_ANSWER:\n                this.handlers.identifiedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:\n                this.handlers.answerGetAllBoardsHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.ANSWER_GET_BOARD:\n                this.handlers.answerGetBoardHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.ANSWER_CREATE_BOARD:\n                this.handlers.answerCreatePaperBoardHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.DRAWER_JOIN_BOARD:\n                this.handlers.drawerJoinedBoardHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.DRAWER_LEFT_BOARD:\n                this.handlers.drawerLeftBoardHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.CHAT_MESSAGE:\n                this.handlers.chatMessageHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.ASK_DELETION:\n                this.handlers.askDeletionHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.OBJECT_LOCKED:\n                this.handlers.objLockedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.OBJECT_UNLOCKED:\n                this.handlers.objUnlockedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.OBJECT_CREATED:\n                this.handlers.objCreatedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.OBJECT_EDITED:\n                this.handlers.objEditedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.OBJECT_DELETED:\n                this.handlers.objDeletedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.DRAWER_CONNECTED:\n                this.handlers.drawerConnectedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.DRAWER_DISCONNECTED:\n                this.handlers.drawerDisconnectedHandlers.push(handler);\n                break;\n            case constants.SOCKET_MSG.DELETE_OBJECT:\n                this.handlers.objAskDeleteHandlers.push(handler);\n                break;\n            default:\n                this.logger.log(\n                    `Component [${subscriber}] attempted to subscribe to unexpected event [${eventName}].`\n                );\n        }\n        this.logger.log(`Component [${subscriber}] subscribed to ${eventName}.`);\n    }\n    unsubscribeToEvent(eventName, handler, subscriber) {\n        switch (eventName) {\n            case constants.SOCKET_MSG.IDENTIFY_ANSWER:\n                this.handlers.identifiedHandlers = this.handlers.identifiedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.ANSWER_GET_BOARD:\n                this.handlers.answerGetBoardHandlers = this.handlers.answerGetBoardHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:\n                this.handlers.answerGetAllBoardsHandlers = this.handlers.answerGetAllBoardsHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.ANSWER_CREATE_BOARD:\n                this.handlers.answerCreatePaperBoardHandlers = this.handlers.answerCreatePaperBoardHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.DRAWER_JOIN_BOARD:\n                this.handlers.drawerJoinedBoardHandlers = this.handlers.drawerJoinedBoardHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.DRAWER_LEFT_BOARD:\n                this.handlers.drawerLeftBoardHandlers = this.handlers.drawerLeftBoardHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.CHAT_MESSAGE:\n                this.handlers.chatMessageHandlers = this.handlers.chatMessageHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.ASK_DELETION:\n                this.handlers.askDeletionHandlers = this.handlers.askDeletionHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_LOCKED:\n                this.handlers.objLockedHandlers = this.handlers.objLockedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_UNLOCKED:\n                this.handlers.objUnlockedHandlers = this.handlers.objUnlockedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_CREATED:\n                this.handlers.objCreatedHandlers = this.handlers.objCreatedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_EDITED:\n                this.handlers.objEditedHandlers = this.handlers.objEditedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.OBJECT_DELETED:\n                this.handlers.objDeletedHandlers = this.handlers.objDeletedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.DRAWER_CONNECTED:\n                this.handlers.drawerConnectedHandler = this.handlers.drawerConnectedHandler.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            case constants.SOCKET_MSG.DRAWER_DISCONNECTED:\n                this.handlers.drawerDisconnectedHandlers = this.handlers.drawerDisconnectedHandlers.filter(\n                    (fn) => fn !== handler\n                );\n                break;\n            default:\n                this.logger.log(\n                    `Component [${subscriber}] attempted to unsubscribe from unexpected event [${eventName}].`\n                );\n        }\n        this.logger.log(`Component [${subscriber}] unsubscribed from ${eventName}.`);\n    }\n}\n\nconst socketClientInstance = new SocketClient();\nexport default socketClientInstance;\n","import React, {Component} from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport \"./WelcomePage.scss\";\nimport PropTypes from \"prop-types\";\nimport Background from \"../components/Background\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\nimport * as backgroundImage from \"../assets/welcome.jpg\";\n\nclass WelcomePage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {pseudo: \"\"};\n        this.componentName = \"WelcomePage\";\n        socketClientInstance.init();\n    }\n\n    componentDidMount() {\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.IDENTIFY_ANSWER,\n            this.handleServerLoginAnswer,\n            this.componentName\n        );\n    }\n\n    componentWillUnmount() {\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.IDENTIFY_ANSWER,\n            this.handleServerLoginAnswer,\n            this.componentName\n        );\n    }\n\n    onLogin = (event) => {\n        event.preventDefault();\n        socketClientInstance.sendMessage({\n            type: constants.SOCKET_MSG.IDENTIFY,\n            from: \"client\",\n            to: \"server\",\n            payload: {pseudo: this.state.pseudo},\n        });\n    };\n\n    handleServerLoginAnswer = (data) => {\n        if (data.payload.pseudoAvailable && this.state.pseudo) {\n            this.props.history.push({\n                pathname: \"/lounge\",\n                state: {pseudo: this.state.pseudo},\n            });\n        } else {\n            alert(\n                \"A user with the pseudo \" +\n                    this.state.pseudo +\n                    \" is already connected. Please use another name\"\n            );\n        }\n    };\n\n    handleChange = (event) => {\n        this.setState({pseudo: event.target.value});\n    };\n\n    render() {\n        return (\n            <Background\n                customStyle={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}\n                imgSrc={backgroundImage}>\n                <div className=\"card\" style={{width: \"fit-content\", borderRadius: \"10px\"}}>\n                    <div\n                        className=\"card-content\"\n                        style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>\n                        <p className=\"title is-1\" style={{textAlign: \"center\"}}>\n                            Welcome on PaperBoard !\n                        </p>\n                        <p className=\"subtitle is-4\" style={{textAlign: \"center\"}}>\n                            Don't think too much, draw it !\n                        </p>\n                        <div className=\"card\" style={{width: \"fit-content\", borderRadius: \"10px\"}}>\n                            <div\n                                className=\"card-content\"\n                                id=\"card-input\"\n                                style={{\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                }}>\n                                <p className=\"title is-3\">Your pseudo ?</p>\n                                <div className=\"box\">\n                                    <form onSubmit={this.onLogin}>\n                                        <div className=\"field\">\n                                            <p className=\"control has-icons-left\">\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"input is-success is-medium\"\n                                                    placeholder=\"Pseudo\"\n                                                    value={this.state.value}\n                                                    onChange={this.handleChange}></input>\n                                            </p>\n                                        </div>\n                                    </form>\n                                    <div className=\"field\" style={{marginTop: 15}}>\n                                        <p className=\"control\">\n                                            <button\n                                                className=\"button is-success is-large\"\n                                                onClick={this.onLogin}>\n                                                Go !\n                                            </button>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Background>\n        );\n    }\n}\n\nWelcomePage.propTypes = {\n    history: PropTypes.object,\n};\n\nexport default withRouter(WelcomePage);\n","import React, {Component} from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./LoungePage.scss\";\nimport Background from \"../components/Background\";\nimport MaterialTable from \"material-table\";\nimport * as moment from \"moment\";\nimport * as backgroundImage from \"../assets/wood.jpg\";\nimport {Refresh} from \"@material-ui/icons\";\nimport {IconButton} from \"@material-ui/core\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\n\nconst columns = [\n    {\n        title: \"Title\",\n        field: \"title\",\n    },\n    {\n        title: \"Nb of participants\",\n        field: \"numberOfConnectedUser\",\n    },\n    {\n        title: \"Creation date\",\n        field: \"creationDate\",\n    },\n];\n\nclass LoungePage extends Component {\n    constructor(props) {\n        super(props);\n        this.componentName = \"LoungePage\";\n\n        this.timeouts = [];\n\n        this.state = {\n            pseudo: \"must auth\",\n            paperboards: [],\n            chosenPaperboard: null,\n        };\n        this._mounted = false;\n    }\n\n    componentDidMount() {\n        this._mounted = true;\n        if (this.props.location && this.props.location.state) {\n            const {\n                location: {\n                    state: {pseudo},\n                },\n            } = this.props;\n            this.setState({pseudo});\n        }\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS,\n            this.handleAnswerGetAllBoards,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\n            this.handleAnswerGetBoard,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleJoinBoardServerResponse,\n            this.componentName\n        );\n        this.getAllPaperBoards();\n        this.loopGetAllPaperBoards();\n    }\n\n    componentWillUnmount() {\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleJoinBoardServerResponse,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\n            this.handleAnswerGetBoard,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleJoinBoardServerResponse,\n            this.componentName\n        );\n\n        while (this.timeouts.length > 0) {\n            const t = this.timeouts.pop();\n            clearTimeout(t);\n        }\n        this._mounted = false;\n    }\n\n    getAllPaperBoards = () => {\n        socketClientInstance.sendMessage({\n            type: constants.SOCKET_MSG.GET_ALL_BOARDS,\n            from: this.state.pseudo,\n            to: \"server\",\n            payload: {},\n        });\n    };\n    handleAnswerGetAllBoards = (data) => {\n        if (this._mounted) {\n            this.setState({paperboards: data.paperboards});\n        }\n    };\n\n    loopGetAllPaperBoards = () => {\n        this.timeouts.push(\n            setTimeout(() => {\n                this.getAllPaperBoards();\n                this.loopGetAllPaperBoards();\n            }, 30000)\n        );\n    };\n\n    onCreatePaperBoard = () => {\n        this.props.history.push({pathname: \"/new-board\", state: {pseudo: this.state.pseudo}});\n    };\n\n    goToPaperBoard = (title) => {\n        socketClientInstance.sendMessage({\n            type: constants.SOCKET_MSG.GET_BOARD,\n            from: this.state.pseudo,\n            to: \"server\",\n            payload: {title},\n        });\n    };\n\n    handleAnswerGetBoard = (data) => {\n        this.setState({chosenPaperboard: data.paperboard}, () => {\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.JOIN_BOARD,\n                from: this.state.pseudo,\n                to: \"server\",\n                payload: {board: data.paperboard.title},\n            });\n        });\n    };\n\n    handleJoinBoardServerResponse = (drawers) => {\n        const {pseudo, chosenPaperboard} = this.state;\n        if (chosenPaperboard) {\n            this.props.history.push({\n                pathname: `/paperboard/${chosenPaperboard.title}`,\n                state: {paperboard: chosenPaperboard, pseudo, drawers},\n            });\n        }\n    };\n\n    render() {\n        const {pseudo, paperboards} = this.state;\n        paperboards.map((paperboard) => {\n            paperboard.creationDate = moment(paperboard.creationDate).format(\n                \"dddd, MMMM Do YYYY, h:mm:ss a\"\n            );\n            paperboard.drawers = paperboard.drawers.length;\n            return paperboard;\n        });\n        return (\n            <Background\n                customStyle={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}\n                imgSrc={backgroundImage}>\n                <h1\n                    style={{\n                        fontWeight: \"bold\",\n                        fontSize: \"3em\",\n                        marginBottom: 5,\n                        color: \"white\",\n                        textAlign: \"center\",\n                    }}>\n                    {`${pseudo.charAt(0).toUpperCase()}${pseudo.substring(\n                        1\n                    )}, find your place of inspiration !`}\n                </h1>\n                <div className=\"card\" style={{borderRadius: \"10px\"}}>\n                    <div className=\"card-content\">\n                        <p className=\"title is-1\" style={{textAlign: \"center\"}}>\n                            Join a Board\n                        </p>\n                        <MaterialTable\n                            title={\n                                <div\n                                    style={{\n                                        display: \"flex\",\n                                        flex: 1,\n                                        justifyContent: \"space-between\",\n                                        alignItems: \"center\",\n                                    }}>\n                                    Boards\n                                    <IconButton\n                                        onClick={this.getAllPaperBoards}\n                                        style={{marginLeft: 30}}>\n                                        <Refresh />\n                                    </IconButton>\n                                </div>\n                            }\n                            columns={columns}\n                            data={paperboards}\n                            actions={[\n                                {\n                                    title: \"Join\",\n                                    icon: \"create\",\n                                    tooltip: \"Join\",\n                                    onClick: (event, rowData) => this.goToPaperBoard(rowData.title),\n                                },\n                            ]}\n                        />\n                    </div>\n                </div>\n                <div className=\"field\" style={{marginTop: 15}}>\n                    <p className=\"control\">\n                        <button\n                            className=\"button is-success is-large\"\n                            onClick={this.onCreatePaperBoard}>\n                            Create a new Paperboard\n                        </button>\n                    </p>\n                </div>\n            </Background>\n        );\n    }\n}\n\nLoungePage.propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object,\n};\n\nexport default withRouter(LoungePage);\n","import React, {Component} from \"react\";\nimport \"./ColorPicker.scss\";\nimport PropTypes from \"prop-types\";\n\nconst getColorList = (handleClick, listField, type) => {\n    const list = [];\n    // eslint-disable-next-line guard-for-in\n    for (const key in listField) {\n        list.push(\n            <div\n                className=\"dropdown-item\"\n                key={listField[key]}\n                onClick={() => handleClick({item: key, value: listField[key]})}>\n                <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\n                    {type === \"color\" ? (\n                        <p style={{color: listField[key], fontSize: \"3em\"}}>&#9632;</p>\n                    ) : (\n                        <div style={{fontSize: \"3em\"}}>{listField[key]}</div>\n                    )}\n                </div>\n                <hr className=\"dropdown-divider\"></hr>\n            </div>\n        );\n    }\n    return list;\n};\n// type : color or number\nclass ColorPicker extends Component {\n    render() {\n        const {color, hexColorCode, handleClick, listField, field, type} = this.props;\n        return (\n            <div className=\"dropdown\">\n                <div className=\"dropdown is-hoverable\">\n                    <div className=\"dropdown-trigger\">\n                        <button\n                            className=\"button\"\n                            aria-haspopup=\"true\"\n                            aria-controls=\"dropdown-menu4\">\n                            {type === \"color\" && (\n                                <p\n                                    style={{\n                                        color: hexColorCode,\n                                        marginRight: \"5%\",\n                                    }}>\n                                    &#9632;\n                                </p>\n                            )}\n                            <span>{color ? color : field}</span>\n                        </button>\n                    </div>\n                    <div className=\"dropdown-menu\" id=\"dropdown-menu4\" role=\"menu\">\n                        <div className=\"dropdown-content\">\n                            {getColorList(handleClick, listField, type)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nColorPicker.propTypes = {\n    color: PropTypes.any,\n    hexColorCode: PropTypes.any,\n    handleClick: PropTypes.any,\n    listField: PropTypes.any,\n    field: PropTypes.any,\n    type: PropTypes.any,\n};\nexport default ColorPicker;\n","const colors = {\n    transparent: \"transparent\",\n    antiquewhite: \"#faebd7\",\n    aquamarine: \"#7fffd4\",\n    azure: \"#f0ffff\",\n    beige: \"#f5f5dc\",\n    bisque: \"#ffe4c4\",\n    black: \"#000000\",\n    blanchedalmond: \"#ffebcd\",\n    blue: \"#0000ff\",\n    blueviolet: \"#8a2be2\",\n    brown: \"#a52a2a\",\n    burlywood: \"#deb887\",\n    cadetblue: \"#5f9ea0\",\n    chartreuse: \"#7fff00\",\n    chocolate: \"#d2691e\",\n    coral: \"#ff7f50\",\n    cornflowerblue: \"#6495ed\",\n    cornsilk: \"#fff8dc\",\n    crimson: \"#dc143c\",\n    cyan: \"#00ffff\",\n    darkblue: \"#00008b\",\n    darkcyan: \"#008b8b\",\n    darkgoldenrod: \"#b8860b\",\n    darkgray: \"#a9a9a9\",\n    darkgreen: \"#006400\",\n    darkkhaki: \"#bdb76b\",\n    darkmagenta: \"#8b008b\",\n    darkolivegreen: \"#556b2f\",\n    darkorange: \"#ff8c00\",\n    darkorchid: \"#9932cc\",\n    darkred: \"#8b0000\",\n    darksalmon: \"#e9967a\",\n    darkseagreen: \"#8fbc8f\",\n    darkslateblue: \"#483d8b\",\n    darkslategray: \"#2f4f4f\",\n    darkturquoise: \"#00ced1\",\n    darkviolet: \"#9400d3\",\n    deeppink: \"#ff1493\",\n    deepskyblue: \"#00bfff\",\n    dimgray: \"#696969\",\n    dodgerblue: \"#1e90ff\",\n    firebrick: \"#b22222\",\n    floralwhite: \"#fffaf0\",\n    forestgreen: \"#228b22\",\n    fuchsia: \"#ff00ff\",\n    gainsboro: \"#dcdcdc\",\n    ghostwhite: \"#f8f8ff\",\n    gold: \"#ffd700\",\n    goldenrod: \"#daa520\",\n    gray: \"#808080\",\n    green: \"#008000\",\n    greenyellow: \"#adff2f\",\n    honeydew: \"#f0fff0\",\n    hotpink: \"#ff69b4\",\n    \"indianred \": \"#cd5c5c\",\n    indigo: \"#4b0082\",\n    ivory: \"#fffff0\",\n    khaki: \"#f0e68c\",\n    lavender: \"#e6e6fa\",\n    lavenderblush: \"#fff0f5\",\n    lawngreen: \"#7cfc00\",\n    lemonchiffon: \"#fffacd\",\n    lightblue: \"#add8e6\",\n    lightcoral: \"#f08080\",\n    lightcyan: \"#e0ffff\",\n    lightgoldenrodyellow: \"#fafad2\",\n    lightgrey: \"#d3d3d3\",\n    lightgreen: \"#90ee90\",\n    lightpink: \"#ffb6c1\",\n    lightsalmon: \"#ffa07a\",\n    lightseagreen: \"#20b2aa\",\n    lightskyblue: \"#87cefa\",\n    lightslategray: \"#778899\",\n    lightsteelblue: \"#b0c4de\",\n    lightyellow: \"#ffffe0\",\n    lime: \"#00ff00\",\n    limegreen: \"#32cd32\",\n    linen: \"#faf0e6\",\n    maroon: \"#800000\",\n    mediumaquamarine: \"#66cdaa\",\n    mediumblue: \"#0000cd\",\n    mediumorchid: \"#ba55d3\",\n    mediumpurple: \"#9370d8\",\n    mediumseagreen: \"#3cb371\",\n    mediumslateblue: \"#7b68ee\",\n    mediumspringgreen: \"#00fa9a\",\n    mediumturquoise: \"#48d1cc\",\n    mediumvioletred: \"#c71585\",\n    midnightblue: \"#191970\",\n    mintcream: \"#f5fffa\",\n    mistyrose: \"#ffe4e1\",\n    moccasin: \"#ffe4b5\",\n    navajowhite: \"#ffdead\",\n    navy: \"#000080\",\n    oldlace: \"#fdf5e6\",\n    olive: \"#808000\",\n    olivedrab: \"#6b8e23\",\n    orange: \"#ffa500\",\n    orangered: \"#ff4500\",\n    orchid: \"#da70d6\",\n    palegoldenrod: \"#eee8aa\",\n    palegreen: \"#98fb98\",\n    paleturquoise: \"#afeeee\",\n    palevioletred: \"#d87093\",\n    papayawhip: \"#ffefd5\",\n    peachpuff: \"#ffdab9\",\n    peru: \"#cd853f\",\n    pink: \"#ffc0cb\",\n    plum: \"#dda0dd\",\n    powderblue: \"#b0e0e6\",\n    purple: \"#800080\",\n    rebeccapurple: \"#663399\",\n    red: \"#ff0000\",\n    rosybrown: \"#bc8f8f\",\n    royalblue: \"#4169e1\",\n    saddlebrown: \"#8b4513\",\n    salmon: \"#fa8072\",\n    sandybrown: \"#f4a460\",\n    seagreen: \"#2e8b57\",\n    seashell: \"#fff5ee\",\n    sienna: \"#a0522d\",\n    silver: \"#c0c0c0\",\n    skyblue: \"#87ceeb\",\n    slateblue: \"#6a5acd\",\n    slategray: \"#708090\",\n    snow: \"#fffafa\",\n    springgreen: \"#00ff7f\",\n    steelblue: \"#4682b4\",\n    tan: \"#d2b48c\",\n    teal: \"#008080\",\n    thistle: \"#d8bfd8\",\n    tomato: \"#ff6347\",\n    turquoise: \"#40e0d0\",\n    violet: \"#ee82ee\",\n    wheat: \"#f5deb3\",\n    white: \"#ffffff\",\n    whitesmoke: \"#f5f5f5\",\n    yellow: \"#ffff00\",\n    yellowgreen: \"#9acd32\",\n};\n\nexport {colors};\n","function getBase64(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = (error) => reject(error);\n    });\n}\n\nexport {getBase64};\n","const lineSize = {};\n\nfor (let i = 1; i <= 50; i++) {\n    lineSize[i.toString()] = i;\n}\nexport {lineSize};\n","import React, {Component} from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./CreateBoardPage.scss\";\nimport Background from \"../components/Background\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\nimport * as backgroundImage from \"../assets/Wood-4.jpg\";\nimport ColorPicker from \"../components/Picker\";\nimport {colors} from \"../utils/colors\";\nimport {getBase64} from \"../utils/readAsDataUrl\";\nimport {Button} from \"@material-ui/core\";\n\nclass CreateBoardPage extends Component {\n    constructor(props) {\n        super(props);\n        this.componentName = \"CreateBoardPage\";\n        this.state = {\n            title: \"\",\n            color: \"\",\n            hexColorCode: \"\",\n            isBackgroundColor: false,\n            isBackgroundImage: false,\n            paperboard: null,\n            pseudo: \"\",\n            imageDataUrl: \"\",\n        };\n    }\n\n    componentDidMount = () => {\n        const {\n            location: {state},\n        } = this.props;\n        this.setState({pseudo: state ? state.pseudo : \"\"});\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_CREATE_BOARD,\n            this.handleAnswerCreateBoard,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\n            this.handleAnswerGetBoard,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleJoinBoardServerResponse,\n            this.componentName\n        );\n    };\n\n    componentWillUnmount() {\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_CREATE_BOARD,\n            this.handleAnswerCreateBoard,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\n            this.handleAnswerGetBoard,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleJoinBoardServerResponse,\n            this.componentName\n        );\n    }\n\n    defaultBoardTitle = \"default-paper-board\";\n\n    handleTitleChanges = (event) => {\n        this.setState({title: event.target.value});\n    };\n\n    handleColor = (response) => {\n        const {item: color, value: hexColorCode} = response;\n        this.setState({color, hexColorCode});\n    };\n\n    onCreatePaperBoard = () => {\n        const {title} = this.state;\n        if (title !== \"\") {\n            const payload = {title};\n            if (this.state.isBackgroundImage && this.state.imageDataUrl !== \"\") {\n                payload.backgroundImage = this.state.imageDataUrl;\n            } else if (this.state.isBackgroundColor && this.state.hexColorCode !== \"\") {\n                payload.backgroundColor = this.state.hexColorCode;\n            }\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.CREATE_BOARD,\n                from: this.state.pseudo,\n                to: \"server\",\n                payload,\n            });\n        }\n    };\n\n    handleAnswerCreateBoard = (data) => {\n        const {title} = this.state;\n        if (data.created === true) {\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.GET_BOARD,\n                from: this.state.pseudo,\n                to: \"server\",\n                payload: {title},\n            });\n        } else {\n            alert(\n                \"A board with the name \" + title + \" already exists. Plesae consider another name\"\n            );\n        }\n    };\n\n    handleAnswerGetBoard = (data) => {\n        this.setState({paperboard: data.paperboard}, () => {\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.JOIN_BOARD,\n                from: this.state.pseudo,\n                to: \"server\",\n                payload: {board: data.paperboard.title},\n            });\n        });\n    };\n\n    handleJoinBoardServerResponse = (drawers) => {\n        const {pseudo, paperboard} = this.state;\n        this.props.history.push({\n            pathname: `/paperboard/${paperboard.title}`,\n            state: {paperboard, pseudo, drawers},\n        });\n    };\n\n    handleSwitch = (name) => (event) => {\n        if (name === \"bgColor\") {\n            this.setState({\n                isBackgroundColor: event.target.checked,\n                isBackgroundImage: false,\n            });\n        } else {\n            this.setState({\n                isBackgroundColor: false,\n                isBackgroundImage: event.target.checked,\n            });\n        }\n        this.setState({color: \"\", hexColorCode: \"\"});\n    };\n\n    handleImage = (files) => {\n        const maxSize = 42000;\n        const typesAllowed = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n        const file = document.getElementById(\"browseBackgroundImage\").files[0];\n        if (file === undefined) {\n            return;\n        } else if (!typesAllowed.includes(file.type)) {\n            alert(`Bad File Type [${file.type}]. File type should be among [png, jpeg, jpg].`);\n            return;\n        } else if (file.size > maxSize) {\n            alert(`File size should not exceed ${maxSize / 1000}ko.`);\n            return;\n        }\n        getBase64(file).then((imageData) => {\n            this.setState({imageDataUrl: imageData});\n        });\n    };\n\n    render() {\n        const {color, hexColorCode, isBackgroundColor, isBackgroundImage} = this.state;\n        return (\n            <Background\n                customStyle={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}\n                imgSrc={backgroundImage}>\n                <div className=\"card\" style={{borderRadius: \"10px\"}}>\n                    <div className=\"card-content\">\n                        <p className=\"title is-1\" style={{textAlign: \"center\"}}>\n                            Set up your board and create it !\n                        </p>\n                        <div className=\"field\">\n                            <p className=\"control has-icons-left\">\n                                <input\n                                    type=\"text\"\n                                    className=\"input is-large is-success\"\n                                    placeholder=\"Title - required\"\n                                    value={this.state.title}\n                                    onChange={this.handleTitleChanges}></input>\n                                <span className=\"icon is-small is-left\">\n                                    <i className=\"fas fa-lock\"></i>\n                                </span>\n                            </p>\n                        </div>\n                        <div className=\"field\">\n                            <FormGroup row>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={isBackgroundColor}\n                                            onChange={this.handleSwitch(\"bgColor\")}\n                                            value=\"checkedA\"\n                                        />\n                                    }\n                                    label=\"Background Color\"\n                                />\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={isBackgroundImage}\n                                            onChange={this.handleSwitch(\"bgImage\")}\n                                            value=\"checkedB\"\n                                            color=\"primary\"\n                                        />\n                                    }\n                                    label=\"Background Image\"\n                                />\n                            </FormGroup>\n                        </div>\n                        <div className=\"empty-div\">\n                            {isBackgroundColor ? (\n                                <ColorPicker\n                                    color={color}\n                                    hexColorCode={hexColorCode}\n                                    handleClick={this.handleColor}\n                                    listField={colors}\n                                    field={\"Background color\"}\n                                    type={\"color\"}\n                                />\n                            ) : null}\n                            {isBackgroundImage ? (\n                                // <DropzoneArea onChange={this.handleImage} />\n                                <Button\n                                    variant=\"contained\"\n                                    onClick={() => {\n                                        const myInput = document.getElementById(\n                                            \"browseBackgroundImage\"\n                                        );\n                                        if (myInput) {\n                                            myInput.click();\n                                        }\n                                    }}>\n                                    Browse image\n                                </Button>\n                            ) : null}\n                            <input\n                                type=\"file\"\n                                id=\"browseBackgroundImage\"\n                                style={{position: \"fixed\", bottom: \"10000px\"}}\n                                onChange={() => this.handleImage()}></input>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"field\" style={{marginTop: 15}}>\n                    <p className=\"control\">\n                        <button\n                            className=\"button is-success is-large\"\n                            onClick={this.onCreatePaperBoard}>\n                            Create !\n                        </button>\n                    </p>\n                </div>\n            </Background>\n        );\n    }\n}\n\nCreateBoardPage.propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object,\n};\n\nexport default withRouter(CreateBoardPage);\n","import * as color from \"string-to-color\";\n\nconst selectionZones = {\n    OUT: \"Out Of Shape\",\n    MOVE_SHAPE: \"Moving Zone\",\n    RESIZE_SHAPE: \"Resizing Zone\",\n};\nconst editionStates = {\n    NULL: \"Not Editing\",\n    RESIZING: \"Resizing Radius\",\n    MOVING: \"Moving\",\n};\n\nconst generateCanvasObjectCircle = function(\n    ctx,\n    refX,\n    refY,\n    refW,\n    refH,\n    id,\n    owner,\n    creationOptions = {}\n) {\n    return new Promise( (resolve) => {\n        const Circle = {\n            type: \"circle\",\n            id,\n            name: `circle-${id}`,\n            owner,\n    \n            ctx: ctx,\n            refX: refX,\n            refY: refY,\n            refW: refW,\n            refH: refH,\n    \n            X: creationOptions.X || (refX + refW) / 2,\n            Y: creationOptions.Y || (refY + refH) / 2,\n            radius: creationOptions.radius || 50,\n            lineWidth: creationOptions.lineWidth || 10,\n            lineColor: creationOptions.lineColor || \"red\",\n            lineStyle: creationOptions.lineStyle || \"normal\",\n            fillColor: creationOptions.fillColor || \"transparent\",\n    \n            isLocked: creationOptions.isLocked || false,\n            lockedBy: creationOptions.lockedBy || \"\",\n            previousState: {\n                X: creationOptions.X || (refX + refW) / 2,\n                Y: creationOptions.Y || (refY + refH) / 2,\n                radius: creationOptions.radius || 50,\n                lineWidth: creationOptions.lineWidth || 10,\n                lineColor: creationOptions.lineColor || \"red\",\n                lineStyle: creationOptions.lineStyle || \"normal\",\n                fillColor: creationOptions.fillColor || \"transparent\",\n            },\n            editionState: editionStates.NULL,\n            oldDragX: null,\n            oldDragY: null,\n    \n            refreshArea: function(x1, y1, x2, y2) {\n                this.ctx.save();\n    \n                this.ctx.beginPath();\n                this.ctx.lineWidth = this.lineWidth;\n                this.ctx.strokeStyle = this.lineColor;\n                this.ctx.arc(this.X, this.Y, this.radius, 0, 2 * Math.PI, true);\n                if (this.lineStyle === \"dashed\") {\n                    this.ctx.setLineDash([8, 8]);\n                }\n                this.ctx.stroke();\n    \n                if (this.fillColor !== \"transparent\") {\n                    this.ctx.fillStyle = this.fillColor;\n                    this.ctx.fill();\n                }\n    \n                if (this.isLocked) {\n                    const margin = 15;\n    \n                    // Dashed selection rectangle\n                    this.ctx.beginPath();\n                    this.ctx.strokeStyle = color(this.lockedBy);\n                    this.ctx.lineWidth = 5;\n                    this.ctx.setLineDash([8, 8]);\n                    this.ctx.rect(\n                        this.X - this.radius - margin,\n                        this.Y - this.radius - margin,\n                        2 * (this.radius + margin),\n                        2 * (this.radius + margin)\n                    );\n                    this.ctx.stroke();\n    \n                    // NorthWest Corner\n                    this.ctx.strokeStyle = color(this.lockedBy);\n                    this.ctx.setLineDash([]);\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        this.X - this.radius - margin,\n                        this.Y - this.radius - margin,\n                        10,\n                        0,\n                        2 * Math.PI\n                    );\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color(this.lockedBy);\n                    this.ctx.fill();\n    \n                    // SouthEast Corner\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        this.X + this.radius + margin,\n                        this.Y + this.radius + margin,\n                        10,\n                        0,\n                        2 * Math.PI\n                    );\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color(this.lockedBy);\n                    this.ctx.fill();\n                }\n    \n                this.ctx.restore();\n            },\n    \n            applyModifications: function(payload) {\n                const keys = Object.keys(this.previousState);\n                for (let i = 0; i < keys.length; i++) {\n                    if (payload.hasOwnProperty(keys[i])) {\n                        const newValue = isNaN(this.previousState[keys[i]])\n                            ? payload[keys[i]]\n                            : Number(payload[keys[i]]);\n                        this[keys[i]] = newValue;\n                        this.previousState[keys[i]] = newValue;\n                    }\n                }\n            },\n    \n            onMouseDown: function(x, y, myPseudo) {\n                const zone = this._computeCorrespondingZone(x, y);\n                if (!this.isLocked && zone !== selectionZones.OUT) {\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_SHAPE) {\n                    this.editionState = editionStates.MOVING;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.RESIZE_SHAPE) {\n                    this.editionState = editionStates.RESIZING;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                }\n                return false;\n            },\n    \n            onMouseHover: function(x, y, myPseudo) {\n                const zone = this._computeCorrespondingZone(x, y);\n                if (!this.isLocked && zone !== selectionZones.OUT) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), pointer\";\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_SHAPE) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), move\";\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.RESIZE_SHAPE) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), grab\";\n                    return true;\n                }\n                return false;\n            },\n    \n            onMouseDrag: function(x, y, myPseudo) {\n                if (this.lockedBy === myPseudo && this.editionState === editionStates.RESIZING) {\n                    const oldDist = Math.sqrt(\n                        (this.oldDragX - this.X) * (this.oldDragX - this.X) +\n                            (this.oldDragY - this.Y) * (this.oldDragY - this.Y)\n                    );\n                    const newDist = Math.sqrt(\n                        (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y)\n                    );\n                    this.radius += newDist - oldDist;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (this.lockedBy === myPseudo && this.editionState === editionStates.MOVING) {\n                    this.X += x - this.oldDragX;\n                    this.Y += y - this.oldDragY;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                }\n                return false;\n            },\n    \n            onMouseUp: function(x, y, myPseudo) {\n                this.editionState = editionStates.NULL;\n                this.oldDragX = null;\n                this.oldDragY = null;\n                const result = {modifications: {}, shouldUnlock: false};\n                const keys = Object.keys(this.previousState);\n                for (let i = 0; i < keys.length; i++) {\n                    if (this.previousState[keys[i]] !== this[keys[i]]) {\n                        result.modifications[keys[i]] = this[keys[i]].toString();\n                        this.previousState[keys[i]] = this[keys[i]];\n                    }\n                }\n    \n                const zone = this._computeCorrespondingZone(x, y);\n                if (this.lockedBy === myPseudo && zone === selectionZones.OUT) {\n                    result.shouldUnlock = true;\n                }\n                return result;\n            },\n    \n            _computeCorrespondingZone: function(x, y) {\n                const squareDistance = (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y);\n                const movingSquareRadius = this.radius * this.radius;\n                if (squareDistance < movingSquareRadius) {\n                    return selectionZones.MOVE_SHAPE;\n                }\n    \n                const margin = 10;\n                const resizingSquareRadius =\n                    (this.radius + this.lineWidth + margin) * (this.radius + this.lineWidth + margin);\n                if (squareDistance < resizingSquareRadius) {\n                    return selectionZones.RESIZE_SHAPE;\n                }\n    \n                return selectionZones.OUT;\n            },\n        };\n        resolve(Circle);\n    });\n};\n\nexport default generateCanvasObjectCircle;\n","import * as color from \"string-to-color\";\n\nconst selectionZones = {\n    OUT: \"Out Of Shape\",\n    MOVE_SHAPE: \"Moving Zone\",\n    RESIZE_FROM_TOP_LEFT: \"Resizing Zone Top Left\",\n    RESIZE_FROM_TOP_RIGHT: \"Resizing Zone Top Right\",\n    RESIZE_FROM_BOTTOM_LEFT: \"Resizing Zone Bottom Left\",\n    RESIZE_FROM_BOTTOM_RIGHT: \"Resizing Zone Bottom Right\",\n};\nconst editionStates = {\n    NULL: \"Not Editing\",\n    RESIZING_FROM_TOP_LEFT: \"Resizing Image Corner From Top Left\",\n    RESIZING_FROM_TOP_RIGHT: \"Resizing Image Corner From Top Right\",\n    RESIZING_FROM_BOTTOM_LEFT: \"Resizing Image Corner From Bottom Left\",\n    RESIZING_FROM_BOTTOM_RIGHT: \"Resizing Image Corner From Bottom Right\",\n    MOVING: \"Moving\",\n};\n\nconst generateCanvasObjectImage = function(\n    ctx,\n    refX,\n    refY,\n    refW,\n    refH,\n    srcURI,\n    id,\n    owner,\n    creationOptions = {}\n) {\n    return new Promise((resolve) => {\n        const ObjectImage = {\n            type: \"image\",\n            id,\n            name: `image-${id}`,\n            owner,\n\n            ctx: ctx,\n            refX: refX,\n            refY: refY,\n            refW: refW,\n            refH: refH,\n\n            src: null,\n            srcX: 0,\n            srcY: 0,\n            srcW: 0,\n            srcH: 0,\n\n            X: creationOptions.X || (refX + refW) / 2,\n            Y: creationOptions.Y || (refY + refH) / 2,\n            width: creationOptions.width || 300,\n            height: creationOptions.height || 300,\n\n            isLocked: creationOptions.isLocked || false,\n            lockedBy: creationOptions.lockedBy || \"\",\n            previousState: {\n                X: creationOptions.X || (refX + refW) / 2,\n                Y: creationOptions.Y || (refY + refH) / 2,\n                width: creationOptions.width || 50,\n                height: creationOptions.height || 50,\n            },\n            editionState: null, // null | \"Resizing\" | \"Moving\" | ...\n            oldDragX: null,\n            oldDragY: null,\n\n            refreshArea: function(x1, y1, x2, y2) {\n                this.ctx.save();\n\n                this.ctx.drawImage(\n                    this.src,\n                    0,\n                    0,\n                    this.srcW,\n                    this.srcH,\n                    this.X,\n                    this.Y,\n                    this.width,\n                    this.height\n                );\n\n                if (this.isLocked) {\n                    const margin = 15;\n\n                    // Dashed selection rectangle\n                    this.ctx.beginPath();\n                    this.ctx.strokeStyle = color(this.lockedBy);\n                    this.ctx.lineWidth = 5;\n                    this.ctx.setLineDash([8, 8]);\n                    this.ctx.rect(\n                        this.X - margin,\n                        this.Y - margin,\n                        this.width + 2 * margin,\n                        this.height + 2 * margin\n                    );\n                    this.ctx.stroke();\n\n                    // NorthWest Corner\n                    this.ctx.strokeStyle = color(this.lockedBy);\n                    this.ctx.setLineDash([]);\n                    this.ctx.beginPath();\n                    this.ctx.arc(this.X - margin, this.Y - margin, 10, 0, 2 * Math.PI);\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color(this.lockedBy);\n                    this.ctx.fill();\n\n                    // SouthEast Corner\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        this.X + this.width + margin,\n                        this.Y + this.height + margin,\n                        10,\n                        0,\n                        2 * Math.PI\n                    );\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color(this.lockedBy);\n                    this.ctx.fill();\n                }\n\n                this.ctx.restore();\n            },\n\n            applyModifications: function(payload) {\n                const keys = Object.keys(this.previousState);\n                for (let i = 0; i < keys.length; i++) {\n                    if (payload.hasOwnProperty(keys[i])) {\n                        const newValue = isNaN(this.previousState[keys[i]])\n                            ? payload[keys[i]]\n                            : Number(payload[keys[i]]);\n                        this[keys[i]] = newValue;\n                        this.previousState[keys[i]] = newValue;\n                    }\n                }\n            },\n\n            onMouseDown: function(x, y, myPseudo) {\n                const zone = this._computeCorrespondingZone(x, y);\n                if (!this.isLocked && zone !== selectionZones.OUT) {\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_SHAPE) {\n                    this.editionState = editionStates.MOVING;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    zone === selectionZones.RESIZE_FROM_TOP_LEFT\n                ) {\n                    this.editionState = editionStates.RESIZING_FROM_TOP_LEFT;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    zone === selectionZones.RESIZE_FROM_TOP_RIGHT\n                ) {\n                    this.editionState = editionStates.RESIZING_FROM_TOP_RIGHT;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    zone === selectionZones.RESIZE_FROM_BOTTOM_LEFT\n                ) {\n                    this.editionState = editionStates.RESIZING_FROM_BOTTOM_LEFT;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    zone === selectionZones.RESIZE_FROM_BOTTOM_RIGHT\n                ) {\n                    this.editionState = editionStates.RESIZING_FROM_BOTTOM_RIGHT;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                }\n                return false;\n            },\n\n            onMouseHover: function(x, y, myPseudo) {\n                const zone = this._computeCorrespondingZone(x, y);\n                if (!this.isLocked && zone !== selectionZones.OUT) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), pointer\";\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_SHAPE) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), move\";\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    [\n                        selectionZones.RESIZE_FROM_TOP_LEFT,\n                        selectionZones.RESIZE_FROM_TOP_RIGHT,\n                        selectionZones.RESIZE_FROM_BOTTOM_LEFT,\n                        selectionZones.RESIZE_FROM_BOTTOM_RIGHT,\n                    ].includes(zone)\n                ) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), grab\";\n                    return true;\n                }\n                return false;\n            },\n\n            onMouseDrag: function(x, y, myPseudo) {\n                if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.RESIZING_FROM_TOP_LEFT\n                ) {\n                    this.X = x;\n                    this.width = this.width - (x - this.oldDragX);\n                    this.height = (this.width * this.srcH) / this.srcW;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.RESIZING_FROM_TOP_RIGHT\n                ) {\n                    this.width = this.width + (x - this.oldDragX);\n                    this.height = (this.width * this.srcH) / this.srcW;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.RESIZING_FROM_BOTTOM_LEFT\n                ) {\n                    this.X = x;\n                    this.width = this.width - (x - this.oldDragX);\n                    this.height = (this.width * this.srcH) / this.srcW;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.RESIZING_FROM_BOTTOM_RIGHT\n                ) {\n                    this.width = this.width + (x - this.oldDragX);\n                    this.height = (this.width * this.srcH) / this.srcW;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.MOVING\n                ) {\n                    this.X += x - this.oldDragX;\n                    this.Y += y - this.oldDragY;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                }\n                return false;\n            },\n\n            onMouseUp: function(x, y, myPseudo) {\n                this.editionState = editionStates.NULL;\n                this.oldDragX = null;\n                this.oldDragY = null;\n                const result = {modifications: {}, shouldUnlock: false};\n                const keys = Object.keys(this.previousState);\n                for (let i = 0; i < keys.length; i++) {\n                    if (this.previousState[keys[i]] !== this[keys[i]]) {\n                        result.modifications[keys[i]] = this[keys[i]].toString();\n                        this.previousState[keys[i]] = this[keys[i]];\n                    }\n                }\n\n                const zone = this._computeCorrespondingZone(x, y);\n                if (this.lockedBy === myPseudo && zone === selectionZones.OUT) {\n                    result.shouldUnlock = true;\n                }\n                return result;\n            },\n\n            _computeCorrespondingZone: function(x, y) {\n                const margin = 15;\n                const marginSquareCorners = 20 * 20;\n                const cornerDistances = {};\n                cornerDistances[selectionZones.RESIZE_FROM_TOP_LEFT] =\n                    (x - this.X + margin) * (x - this.X + margin) +\n                    (y - this.Y + margin) * (y - this.Y + margin);\n                cornerDistances[selectionZones.RESIZE_FROM_TOP_RIGHT] =\n                    (x - this.X - this.width - margin) * (x - this.X - this.width - margin) +\n                    (y - this.Y + margin) * (y - this.Y + margin);\n                cornerDistances[selectionZones.RESIZE_FROM_BOTTOM_LEFT] =\n                    (x - this.X + margin) * (x - this.X + margin) +\n                    (y - this.Y - this.height - margin) * (y - this.Y - this.height - margin);\n                cornerDistances[selectionZones.RESIZE_FROM_BOTTOM_RIGHT] =\n                    (x - this.X - this.width - margin) * (x - this.X - this.width - margin) +\n                    (y - this.Y - this.height - margin) * (y - this.Y - this.height - margin);\n\n                const keys = Object.keys(cornerDistances);\n                let key = keys[0];\n                for (let i = 1; i < keys.length; i++) {\n                    if (cornerDistances[keys[i]] < cornerDistances[key]) {\n                        key = keys[i];\n                    }\n                }\n                if (cornerDistances[key] < marginSquareCorners) {\n                    return key;\n                }\n\n                const verticalAlign = this.X - margin < x && x < this.X + this.width + margin;\n                const horizontalAlign = this.Y - margin < y && y < this.Y + this.height + margin;\n                if (verticalAlign && horizontalAlign) {\n                    return selectionZones.MOVE_SHAPE;\n                }\n\n                return selectionZones.OUT;\n            },\n        };\n\n        const img = new Image();\n        img.onload = function() {\n            ObjectImage.src = this;\n            ObjectImage.srcW = this.width;\n            ObjectImage.srcH = this.height;\n            if (this.width > this.height) {\n                ObjectImage.W = ObjectImage.H / (this.height / this.width);\n            } else {\n                ObjectImage.H = ObjectImage.W * (this.height / this.width);\n            }\n            resolve(ObjectImage);\n        };\n        img.src = srcURI;\n    });\n};\n\nexport default generateCanvasObjectImage;\n","const generateCanvasObjectBackgroundImage = function(ctx, refX, refY, refW, refH, srcURI) {\n    return new Promise((resolve) => {\n        const Background = {\n            type: \"background-image\",\n\n            ctx: ctx,\n            refX: refX,\n            refY: refY,\n            refW: refW,\n            refH: refH,\n\n            src: null,\n            srcX: 0,\n            srcY: 0,\n            srcW: 0,\n            srcH: 0,\n\n            refreshArea: function(x1, y1, x2, y2) {\n                this.ctx.save();\n\n                this.ctx.drawImage(\n                    this.src,\n                    this.srcX,\n                    this.srcY,\n                    this.srcW,\n                    this.srcH,\n                    this.refX,\n                    this.refY,\n                    this.refW,\n                    this.refH\n                );\n\n                this.ctx.restore();\n            },\n        };\n        const img = new Image();\n        img.onload = function() {\n            Background.src = this;\n            const imageProp = this.height / this.width;\n            const canvasProp = Background.refH / Background.refW;\n            if (imageProp > canvasProp) {\n                Background.srcW = this.width;\n                Background.srcH = this.width * canvasProp;\n                Background.srcX = 0;\n                Background.srcY = (this.height - Background.srcH) / 2;\n            } else {\n                Background.srcH = this.height;\n                Background.srcW = this.height / canvasProp;\n                Background.srcX = (this.width - Background.srcW) / 2;\n                Background.srcY = 0;\n            }\n            console.log(\"Resolving Background !\");\n            resolve(Background);\n        };\n        img.src = srcURI;\n    });\n};\n\nexport default generateCanvasObjectBackgroundImage;\n","const generateCanvasObjectBackgroundColor = function(ctx, refX, refY, refW, refH, color) {\n    return new Promise((resolve) => {\n        const Background = {\n            type: \"background-color\",\n    \n            ctx: ctx,\n            refX: refX,\n            refY: refY,\n            refW: refW,\n            refH: refH,\n    \n            color: color,\n    \n            refreshArea: function(x1, y1, x2, y2) {\n                this.ctx.save();\n                this.ctx.fillStyle = this.color;\n                this.ctx.fillRect(x1, y1, x2 - x1, y2 - y1);\n                this.ctx.restore();\n                return;\n            },\n        };\n        resolve(Background);\n    });\n};\n\nexport default generateCanvasObjectBackgroundColor;\n","import * as color from \"string-to-color\";\n\nconst selectionZones = {\n    OUT: \"Out Of Shape\",\n    MOVE_SHAPE: \"Moving Zone\",\n    MOVE_STARTPOINT: \"Start Point Zone\",\n    MOVE_ENDPOINT: \"End Point Zone\",\n};\nconst editionStates = {\n    NULL: \"Not Editing\",\n    MOVING_STARTPOINT: \"Moving StartPoint\",\n    MOVING_ENDPOINT: \"Moving EndPoint\",\n    MOVING_SHAPE: \"Moving\",\n};\n\nconst generateCanvasObjectLine = function(\n    ctx,\n    refX,\n    refY,\n    refW,\n    refH,\n    id,\n    owner,\n    creationOptions = {}\n) {\n    return new Promise((resolve) => {\n        const Line = {\n            type: \"line\",\n            id,\n            name: `line-${id}`,\n            owner,\n\n            ctx: ctx,\n            refX: refX,\n            refY: refY,\n            refW: refW,\n            refH: refH,\n\n            X: creationOptions.X || (refX + refW) / 2,\n            Y: creationOptions.Y || (refY + refH) / 2,\n            positionEndPointX: creationOptions.positionEndPoint.x || 50,\n            positionEndPointY: creationOptions.positionEndPoint.y || 180,\n            lineWidth: creationOptions.lineWidth || 10,\n            lineColor: creationOptions.lineColor || \"red\",\n            lineStyle: creationOptions.lineStyle || \"normal\",\n\n            isLocked: creationOptions.isLocked || false,\n            lockedBy: creationOptions.lockedBy || \"\",\n            previousState: {\n                X: creationOptions.X || (refX + refW) / 2,\n                Y: creationOptions.Y || (refY + refH) / 2,\n                positionEndPointX: creationOptions.positionEndPoint.x || 50,\n                positionEndPointY: creationOptions.positionEndPoint.y || 180,\n                lineWidth: creationOptions.lineWidth || 10,\n                lineColor: creationOptions.lineColor || \"red\",\n                lineStyle: creationOptions.lineStyle || \"normal\",\n            },\n            editionState: editionStates.NULL,\n            oldDragX: null,\n            oldDragY: null,\n\n            refreshArea: function(x1, y1, x2, y2) {\n                this.ctx.save();\n\n                this.ctx.beginPath();\n                this.ctx.moveTo(this.X, this.Y);\n                this.ctx.lineWidth = this.lineWidth;\n                this.ctx.strokeStyle = this.lineColor;\n                if (this.lineStyle === \"dashed\") {\n                    this.ctx.setLineDash([8, 8]);\n                }\n                this.ctx.lineTo(this.positionEndPointX, this.positionEndPointY);\n                this.ctx.stroke();\n\n                if (this.isLocked) {\n                    const margin = 15;\n\n                    // Dashed selection rectangle\n                    this.ctx.beginPath();\n                    this.ctx.strokeStyle = color(this.lockedBy);\n                    this.ctx.lineWidth = 5;\n                    this.ctx.setLineDash([8, 8]);\n                    this.ctx.rect(\n                        Math.min(this.X, this.positionEndPointX) - margin,\n                        Math.min(this.Y, this.positionEndPointY) - margin,\n                        Math.abs(this.X - this.positionEndPointX) + 2 * margin,\n                        Math.abs(this.Y - this.positionEndPointY) + 2 * margin\n                    );\n                    this.ctx.stroke();\n\n                    // NorthWest Corner\n                    this.ctx.strokeStyle = color(this.lockedBy);\n                    this.ctx.setLineDash([]);\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        this.X - this.radius - margin,\n                        this.Y - this.radius - margin,\n                        10,\n                        0,\n                        2 * Math.PI\n                    );\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color(this.lockedBy);\n                    this.ctx.fill();\n\n                    // SouthEast Corner\n                    this.ctx.beginPath();\n                    this.ctx.arc(\n                        this.X + this.radius + margin,\n                        this.Y + this.radius + margin,\n                        10,\n                        0,\n                        2 * Math.PI\n                    );\n                    this.ctx.stroke();\n                    this.ctx.fillStyle = color(this.lockedBy);\n                    this.ctx.fill();\n                }\n\n                this.ctx.restore();\n            },\n\n            applyModifications: function(payload) {\n                console.log(\"AAAPPLLLPPLLPYYYY ????????\");\n                console.log(payload);\n                const keys = Object.keys(this.previousState);\n                for (let i = 0; i < keys.length; i++) {\n                    if (payload.hasOwnProperty(keys[i])) {\n                        const newValue = isNaN(this.previousState[keys[i]])\n                            ? payload[keys[i]]\n                            : Number(payload[keys[i]]);\n                        this[keys[i]] = newValue;\n                        this.previousState[keys[i]] = newValue;\n                    }\n                }\n            },\n\n            onMouseDown: function(x, y, myPseudo) {\n                const zone = this._computeCorrespondingZone(x, y);\n                if (!this.isLocked && zone !== selectionZones.OUT) {\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_STARTPOINT) {\n                    this.editionState = editionStates.MOVING_STARTPOINT;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_ENDPOINT) {\n                    this.editionState = editionStates.MOVING_ENDPOINT;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_SHAPE) {\n                    this.editionState = editionStates.MOVING_SHAPE;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                }\n                return false;\n            },\n\n            onMouseHover: function(x, y, myPseudo) {\n                const zone = this._computeCorrespondingZone(x, y);\n                if (!this.isLocked && zone !== selectionZones.OUT) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), pointer\";\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    (zone === selectionZones.MOVE_STARTPOINT ||\n                        zone === selectionZones.MOVE_ENDPOINT)\n                ) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), grab\";\n                    return true;\n                } else if (this.lockedBy === myPseudo && zone === selectionZones.MOVE_SHAPE) {\n                    const elementToChange = document.getElementsByTagName(\"body\")[0];\n                    elementToChange.style.cursor = \"url('cursor url with protocol'), move\";\n                    return true;\n                }\n                return false;\n            },\n\n            onMouseDrag: function(x, y, myPseudo) {\n                if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.MOVING_STARTPOINT\n                ) {\n                    this.X += x - this.oldDragX;\n                    this.Y += y - this.oldDragY;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.MOVING_ENDPOINT\n                ) {\n                    this.positionEndPointX += x - this.oldDragX;\n                    this.positionEndPointY += y - this.oldDragY;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                } else if (\n                    this.lockedBy === myPseudo &&\n                    this.editionState === editionStates.MOVING_SHAPE\n                ) {\n                    this.X += x - this.oldDragX;\n                    this.positionEndPointX += x - this.oldDragX;\n                    this.Y += y - this.oldDragY;\n                    this.positionEndPointY += y - this.oldDragY;\n                    this.oldDragX = x;\n                    this.oldDragY = y;\n                    return true;\n                }\n                return false;\n            },\n\n            onMouseUp: function(x, y, myPseudo) {\n                this.editionState = editionStates.NULL;\n                this.oldDragX = null;\n                this.oldDragY = null;\n                const result = {modifications: {}, shouldUnlock: false};\n                const keys = Object.keys(this.previousState);\n                console.log(this.positionEndPointX);\n                console.log(this.previousState.positionEndPointX);\n                console.log(keys);\n                for (let i = 0; i < keys.length; i++) {\n                    console.log(keys[i]);\n                    if (this.previousState[keys[i]] !== this[keys[i]]) {\n                        console.log(`Dans le elseif pour ${keys[i]}`);\n                        if (keys[i] === \"positionEndPointX\") {\n                            result.modifications.positionEndPoint = {\n                                x: this.positionEndPointX.toString(),\n                                y: this.positionEndPointY.toString(),\n                            };\n                        } else if (keys[i] === \"positionEndPointY\") {\n                            result.modifications.positionEndPoint = {\n                                x: this.positionEndPointX.toString(),\n                                y: this.positionEndPointY.toString(),\n                            };\n                        } else {\n                            result.modifications[keys[i]] = this[keys[i]].toString();\n                            this.previousState[keys[i]] = this[keys[i]];\n                        }\n                    }\n                }\n\n                const zone = this._computeCorrespondingZone(x, y);\n                if (this.lockedBy === myPseudo && zone === selectionZones.OUT) {\n                    result.shouldUnlock = true;\n                }\n                console.log(\"Computed modifications\");\n                console.log(Object.keys(result.modifications));\n                return result;\n            },\n\n            _computeCorrespondingZone: function(x, y) {\n                const margin = 15;\n                const squareDist = margin * margin;\n                const squareDistStartPoint =\n                    (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y);\n                if (squareDistStartPoint < squareDist) {\n                    return selectionZones.MOVE_STARTPOINT;\n                }\n\n                const squareDistEndPoint =\n                    (x - this.positionEndPointX) * (x - this.positionEndPointX) +\n                    (y - this.positionEndPointY) * (y - this.positionEndPointY);\n                if (squareDistEndPoint < squareDist) {\n                    return selectionZones.MOVE_ENDPOINT;\n                }\n\n                const verticalAlign =\n                    Math.min(this.X, this.positionEndPointX) < x &&\n                    x < Math.max(this.X, this.positionEndPointX);\n                const horizontalAlign =\n                    Math.min(this.Y, this.positionEndPointY) < y &&\n                    y < Math.max(this.Y, this.positionEndPointY);\n                if (verticalAlign && horizontalAlign) {\n                    return selectionZones.MOVE_SHAPE;\n                }\n\n                return selectionZones.OUT;\n            },\n        };\n        resolve(Line);\n    });\n};\n\nexport default generateCanvasObjectLine;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport generateCanvasObjectCircle from \"./CanvasObject-Circle\";\nimport generateCanvasObjectImage from \"./CanvasObject-Image\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\nimport generateCanvasObjectBackgroundImage from \"./CanvasObject-BackgroundImage\";\nimport generateCanvasObjectBackgroundColor from \"./CanvasObject-BackgroundColor\";\nimport generateCanvasObjectLine from \"./CanvasObject-Line\";\n\nclass CanvasManager extends Component {\n    constructor(props) {\n        super(props);\n        this.componentName = \"CanvasManager\";\n        this.objPile = [];\n        this.state = {\n            ctx: null,\n            width: this.props.resolutionWidth,\n            height: this.props.resolutionHeight,\n        };\n        this.ctx = null;\n        this.background = null;\n    }\n\n    componentDidMount() {\n        this.setState({ctx: this.canvas.getContext(\"2d\")}, () => {\n            console.log(this.props.drawings);\n            this.generateObjectPile(this.props.drawings).then((result) => {\n                this.objPile = result;\n                this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n            });\n        });\n        this.canvas.addEventListener(\"mousedown\", (e) => this.handleMouseDown(e));\n        this.canvas.addEventListener(\"mouseup\", (e) => this.handleMouseUp(e));\n        this.canvas.addEventListener(\"mousemove\", (e) => this.handleMouseMove(e));\n        this.canvas.addEventListener(\"mouseleave\", () => this.handleMouseLeave());\n\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_CREATED,\n            this.createObject,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_EDITED,\n            this.onObjectEdited,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_LOCKED,\n            this.onObjectLocked,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_UNLOCKED,\n            this.onObjectUnlocked,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_DELETED,\n            this.onObjectDeleted,\n            this.componentName\n        );\n    }\n\n    componentWillUnmount() {\n        this.canvas.removeEventListener(\"mousedown\", (e) => this.handleMouseDown(e));\n        this.canvas.removeEventListener(\"mouseup\", (e) => this.handleMouseUp(e));\n        this.canvas.removeEventListener(\"mousemove\", (e) => this.handleMouseMove(e));\n        this.canvas.removeEventListener(\"mouseleave\", () => this.handleMouseLeave());\n\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_CREATED,\n            this.createObject,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_EDITED,\n            this.onObjectEdited,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_LOCKED,\n            this.onObjectLocked,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_UNLOCKED,\n            this.onObjectUnlocked,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_DELETED,\n            this.onObjectDeleted,\n            this.componentName\n        );\n    }\n\n    generateObjectPile = async (drawings) => {\n        // Load Background\n        if (this.props.board.backgroundImage !== \"\") {\n            this.background = await generateCanvasObjectBackgroundImage(\n                this.state.ctx,\n                0,\n                0,\n                this.state.width,\n                this.state.height,\n                this.props.board.backgroundImage\n            );\n        } else if (this.props.board.backgroundColor !== \"\") {\n            this.background = await generateCanvasObjectBackgroundColor(\n                this.state.ctx,\n                0,\n                0,\n                this.state.width,\n                this.state.height,\n                this.props.board.backgroundColor\n            );\n        }\n\n        // Build Obj Pile from Board Drawings descriptions\n        const {ctx, width, height} = this.state;\n        const newObjPile = [];\n        const keys = Object.keys(drawings);\n        for (let i = 0; i < keys.length; i++) {\n            const descr = drawings[keys[i]];\n            if (descr.type === \"circle\") {\n                newObjPile.push(\n                    await generateCanvasObjectCircle(\n                        ctx,\n                        0,\n                        0,\n                        width,\n                        height,\n                        descr.drawingId,\n                        descr.owner.pseudo,\n                        {\n                            X: descr.position.x,\n                            Y: descr.position.y,\n                            radius: descr.radius,\n                            lineWidth: descr.lineWidth,\n                            lineColor: descr.lineColor,\n                            fillColor: descr.fillColor,\n                            lineStyle: descr.lineStyle,\n                            isLocked: descr.isLocked,\n                            lockedBy: descr.lockedBy,\n                        }\n                    )\n                );\n            } else if (descr.type === \"image\") {\n                newObjPile.push(\n                    await generateCanvasObjectImage(\n                        ctx,\n                        0,\n                        0,\n                        width,\n                        height,\n                        descr.srcURI,\n                        descr.drawingId,\n                        descr.owner.pseudo,\n                        {\n                            X: descr.position.x,\n                            Y: descr.position.y,\n                            width: descr.width,\n                            height: descr.height,\n                            isLocked: descr.isLocked,\n                            lockedBy: descr.lockedBy,\n                        }\n                    )\n                );\n            } else if (descr.type === \"line\") {\n                newObjPile.push(\n                    await generateCanvasObjectLine(\n                        ctx,\n                        0,\n                        0,\n                        width,\n                        height,\n                        descr.drawingId,\n                        descr.owner.pseudo,\n                        {\n                            X: descr.position.x,\n                            Y: descr.position.y,\n                            positionEndPoint: {\n                                x: descr.positionEndPoint.x,\n                                y: descr.positionEndPoint.y,\n                            },\n                            isLocked: descr.isLocked,\n                            lockedBy: descr.lockedBy,\n                        }\n                    )\n                );\n            }\n        }\n        return newObjPile;\n    };\n\n    // --- INTERACTIONS WITH OTHER COMPONENTS\n    createObject = async (data) => {\n        console.log(\"Should Create Object\");\n        console.log(data);\n        switch (data.type) {\n            case \"image\":\n                const newImg = await generateCanvasObjectImage(\n                    this.state.ctx,\n                    0,\n                    0,\n                    this.state.width,\n                    this.state.height,\n                    data.srcURI,\n                    data.drawingId,\n                    data.pseudo,\n                    {\n                        X: parseFloat(data.position.x),\n                        Y: parseFloat(data.position.y),\n                        width: parseFloat(data.width),\n                        height: parseFloat(data.height),\n                    }\n                );\n                this.objPile.push(newImg);\n                newImg.refreshArea(0, 0, this.state.width, this.state.height);\n                break;\n            case \"circle\":\n                const newCircle = await generateCanvasObjectCircle(\n                    this.state.ctx,\n                    0,\n                    0,\n                    this.state.width,\n                    this.state.height,\n                    data.drawingId,\n                    data.pseudo,\n                    {\n                        X: parseFloat(data.position.x),\n                        Y: parseFloat(data.position.y),\n                        radius: parseFloat(data.radius),\n                        lineWidth: parseFloat(data.lineWidth),\n                        lineColor: data.lineColor,\n                        lineStyle: data.lineStyle,\n                    }\n                );\n                this.objPile.push(newCircle);\n                newCircle.refreshArea(0, 0, this.state.width, this.state.height);\n                break;\n            case \"line\":\n                const newLine = await generateCanvasObjectLine(\n                    this.state.ctx,\n                    0,\n                    0,\n                    this.state.width,\n                    this.state.height,\n                    data.drawingId,\n                    data.pseudo,\n                    {\n                        X: parseFloat(data.position.x),\n                        Y: parseFloat(data.position.y),\n                        positionEndPoint: {\n                            x: parseFloat(data.positionEndPoint.x),\n                            y: parseFloat(data.positionEndPoint.y),\n                        },\n                        lineWidth: parseFloat(data.lineWidth),\n                        lineColor: data.lineColor,\n                        lineStyle: data.lineStyle,\n                    }\n                );\n                this.objPile.push(newLine);\n                newLine.refreshArea(0, 0, this.state.width, this.state.height);\n                break;\n            default:\n                console.log(\"Default case for Object Created Handler in Canvas Manager\");\n        }\n    };\n\n    onObjectLocked = (payload) => {\n        const objectId = payload.drawingId;\n        const lockedBy = payload.pseudo;\n        let found = false;\n        let i = 0;\n        while (i < this.objPile.length && !found) {\n            if (this.objPile[i].id === objectId) {\n                found = true;\n            } else {\n                i += 1;\n            }\n        }\n\n        if (found) {\n            this.objPile[i].isLocked = true;\n            this.objPile[i].lockedBy = lockedBy;\n            if (this.props.pseudo === lockedBy) {\n                const {\n                    pseudo,\n                    board: {title},\n                    setSelectedDrawing,\n                } = this.props;\n                setSelectedDrawing({\n                    pseudo,\n                    board: title,\n                    drawingId: objectId,\n                    type: this.objPile[i].type,\n                });\n            }\n            this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n        }\n    };\n    onObjectUnlocked = (payload) => {\n        const objectId = payload.drawingId;\n        let found = false;\n        let i = 0;\n        while (i < this.objPile.length && !found) {\n            if (this.objPile[i].id === objectId) {\n                found = true;\n            } else {\n                i += 1;\n            }\n        }\n        if (found) {\n            if (this.props.pseudo === this.objPile[i].lockedBy) {\n                const {setSelectedDrawing} = this.props;\n                setSelectedDrawing(null);\n            }\n            this.objPile[i].isLocked = false;\n            this.objPile[i].lockedBy = \"\";\n            this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n        }\n    };\n    onObjectEdited = (payload) => {\n        for (let i = 0; i < this.objPile.length; i++) {\n            if (this.objPile[i].id === payload.drawingId) {\n                this.objPile[i].applyModifications(payload);\n            }\n        }\n        this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n    };\n\n    onObjectDeleted = (payload) => {\n        this.objPile = this.objPile.filter((obj) => obj.id !== payload.drawingId);\n        this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n    };\n\n    // --- CANVAS MANAGEMENT\n    _onResize() {\n        const margin = 20;\n        const maxWidth = this.parentContainer.clientWidth - margin;\n        const maxHeight = this.parentContainer.clientHeight - margin;\n        const parentContainerProp = maxHeight / maxWidth;\n\n        const canvasProp = this.props.resolutionHeight / this.props.resolutionWidth;\n\n        if (canvasProp > parentContainerProp) {\n            this.canvas.height = this.props.resolutionHeight;\n            this.canvas.style.height = `${maxHeight}px`;\n            this.canvas.width = this.props.resolutionWidth;\n            this.canvas.style.width = `${maxHeight / canvasProp}px`;\n        } else {\n            this.canvas.width = this.props.resolutionWidth;\n            this.canvas.style.width = `${maxWidth}px`;\n            this.canvas.height = this.props.resolutionHeight;\n            this.canvas.style.height = `${maxWidth * canvasProp}px`;\n        }\n\n        this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n    }\n\n    refreshCanvasArea(x1, y1, x2, y2) {\n        this.state.ctx.clearRect(x1, y1, x2, y2);\n        if (this.background !== null) {\n            this.background.refreshArea(x1, y1, x2, y2);\n        }\n        for (let i = 0; i < this.objPile.length; i++) {\n            this.objPile[i].refreshArea(x1, y1, x2, y2);\n        }\n    }\n\n    // --- GESTURES MANAGEMENT\n    handleMouseDown(e) {\n        // Handle left click down\n        if (e.which === 1) {\n            const rect = this.canvas.getBoundingClientRect();\n            const x =\n                ((e.clientX - rect.left) * this.state.width) /\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\n            const y =\n                ((e.clientY - rect.top) * this.state.height) /\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\n            console.log(`Click !! x:${x}, y:${y}`);\n\n            let i = this.objPile.length;\n            let collisionIndex = null;\n            while (i--) {\n                if (\n                    this.objPile[i].onMouseDown &&\n                    this.objPile[i].onMouseDown(x, y, this.props.pseudo)\n                ) {\n                    collisionIndex = i;\n                    i = 0; // end of collision detection\n                }\n            }\n\n            // Unlock any other object not selected on this click\n            for (let i = 0; i < this.objPile.length; i++) {\n                if (i !== collisionIndex && this.objPile[i].lockedBy === this.props.pseudo) {\n                    // Unlock any object that has been previously locked\n                    socketClientInstance.sendMessage({\n                        type: constants.SOCKET_MSG.UNLOCK_OBJECT,\n                        from: this.props.pseudo,\n                        to: \"server\",\n                        payload: {\n                            drawingId: this.objPile[i].id,\n                        },\n                    });\n                }\n            }\n\n            // Try to lock the selected object\n            if (collisionIndex !== null && !this.objPile[collisionIndex].isLocked) {\n                const object = this.objPile[collisionIndex];\n                socketClientInstance.sendMessage({\n                    type: constants.SOCKET_MSG.LOCK_OBJECT,\n                    from: this.props.pseudo,\n                    to: \"server\",\n                    payload: {\n                        drawingId: object.id,\n                    },\n                });\n            }\n            console.log(this.objPile);\n        }\n    }\n\n    handleMouseMove(e) {\n        // Handle Move over canvas\n        if (e.which === 0) {\n            const rect = this.canvas.getBoundingClientRect();\n            const x =\n                ((e.clientX - rect.left) * this.state.width) /\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\n            const y =\n                ((e.clientY - rect.top) * this.state.height) /\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\n\n            let i = this.objPile.length;\n            let collisionIndex = null;\n            while (i--) {\n                if (\n                    this.objPile[i].onMouseHover &&\n                    this.objPile[i].onMouseHover(x, y, this.props.pseudo)\n                ) {\n                    collisionIndex = i;\n                    i = 0; // end of collision detection\n                }\n            }\n            if (collisionIndex === null) {\n                const elementToChange = document.getElementsByTagName(\"body\")[0];\n                elementToChange.style.cursor = \"url('cursor url with protocol'), default\";\n            }\n        } else if (e.which === 1) {\n            const rect = this.canvas.getBoundingClientRect();\n            const x =\n                ((e.clientX - rect.left) * this.state.width) /\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\n            const y =\n                ((e.clientY - rect.top) * this.state.height) /\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\n\n            let i = this.objPile.length;\n            let collisionIndex = null;\n            while (i--) {\n                if (\n                    this.objPile[i].onMouseDrag &&\n                    this.objPile[i].onMouseDrag(x, y, this.props.pseudo)\n                ) {\n                    collisionIndex = i;\n                    i = 0; // end of collision detection\n                }\n            }\n            if (collisionIndex !== null) {\n                this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\n            }\n        }\n    }\n\n    handleMouseUp(e) {\n        const {\n            pseudo,\n            board: {title},\n        } = this.props;\n        // Handle left click up\n        if (e.which === 1) {\n            const rect = this.canvas.getBoundingClientRect();\n            const x =\n                ((e.clientX - rect.left) * this.state.width) /\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\n            const y =\n                ((e.clientY - rect.top) * this.state.height) /\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\n\n            for (let i = 0; i < this.objPile.length; i++) {\n                const report = this.objPile[i].onMouseUp(x, y, this.props.pseudo);\n                if (Object.keys(report.modifications).length > 0) {\n                    const payload = report.modifications;\n                    payload.pseudo = pseudo;\n                    payload.board = title;\n                    payload.drawingId = this.objPile[i].id;\n                    socketClientInstance.sendMessage({\n                        type: constants.SOCKET_MSG.EDIT_OBJECT,\n                        from: this.props.pseudo,\n                        to: \"server\",\n                        payload,\n                    });\n                }\n\n                if (report.shouldUnlock) {\n                    socketClientInstance.sendMessage({\n                        type: constants.SOCKET_MSG.UNLOCK_OBJECT,\n                        from: this.props.pseudo,\n                        to: \"server\",\n                        payload: {\n                            drawingId: this.objPile[i].id,\n                        },\n                    });\n                }\n            }\n        }\n    }\n\n    handleMouseLeave() {\n        const elementToChange = document.getElementsByTagName(\"body\")[0];\n        elementToChange.style.cursor = \"url('cursor url with protocol'), default\";\n    }\n\n    render() {\n        return (\n            <div\n                ref={(el) => (this.parentContainer = el)}\n                id=\"paperboard-canvas\"\n                style={{\n                    flex: 1,\n                    display: \"flex\",\n                    height: \"100%\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}>\n                <ReactResizeDetector handleWidth handleHeight onResize={() => this._onResize()} />\n                <canvas\n                    ref={(el) => (this.canvas = el)}\n                    id=\"canvascanvas\"\n                    style={{\n                        backgroundColor: \"white\",\n                        borderRadius: \"10px\",\n                    }}\n                />\n            </div>\n        );\n    }\n}\nCanvasManager.propTypes = {\n    resolutionWidth: PropTypes.any,\n    resolutionHeight: PropTypes.any,\n    toggleShapePanel: PropTypes.any,\n    board: PropTypes.any,\n    pseudo: PropTypes.any,\n    drawings: PropTypes.any,\n    setSelectedDrawing: PropTypes.any,\n};\nexport default CanvasManager;\n","const lineStyles = {\n    dashed: \"---\",\n    normal: \"\",\n};\n\nexport {lineStyles};\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {ColorLens, Delete} from \"@material-ui/icons\";\nimport {Icon, Divider, ListSubheader} from \"@material-ui/core\";\nimport ColorPicker from \"./Picker\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\nimport {colors} from \"../utils/colors\";\nimport {lineSize} from \"../utils/lineSize\";\nimport {lineStyles} from \"../utils/lineStyle\";\n\nclass EditShapePanel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLineColorPickerToggled: false,\n            isLineWidthPickerToggled: false,\n            isLineStylePickerToggled: false,\n            isFillColorPickerToggled: false,\n        };\n    }\n\n    // eslint-disable-next-line react/no-deprecated\n    componentWillReceiveProps(nextProps) {\n        if (\n            nextProps.selectedDrawing !== this.props.selectedDrawing &&\n            !nextProps.selectedDrawing\n        ) {\n            this.setState({\n                isLineColorPickerToggled: false,\n                isLineWidthPickerToggled: false,\n                isLineStylePickerToggled: false,\n                isFillColorPickerToggled: false,\n            });\n        }\n    }\n\n    onClickEditObject = (editionType) => {\n        switch (editionType) {\n            case \"Color\":\n                this.setState((prevState) => ({\n                    isLineColorPickerToggled: !prevState.isLineColorPickerToggled,\n                }));\n                break;\n            case \"Width\":\n                this.setState((prevState) => ({\n                    isLineWidthPickerToggled: !prevState.isLineWidthPickerToggled,\n                }));\n                break;\n            case \"LineStyle\":\n                this.setState((prevState) => ({\n                    isLineStylePickerToggled: !prevState.isLineStylePickerToggled,\n                }));\n                break;\n            case \"FillColor\":\n                this.setState((prevState) => ({\n                    isFillColorPickerToggled: !prevState.isFillColorPickerToggled,\n                }));\n                break;\n            default:\n                alert(editionType + \" not handled\");\n        }\n    };\n\n    handleColor = (resp) => {\n        const {selectedDrawing} = this.props;\n        const {value} = resp;\n        const payload = selectedDrawing;\n        if (payload) {\n            payload.lineColor = value;\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\n                from: payload.pseudo,\n                to: \"server\",\n                payload: payload,\n            });\n        }\n    };\n\n    handleLineWidth = (resp) => {\n        const {selectedDrawing} = this.props;\n        const {item} = resp;\n        const payload = selectedDrawing;\n        if (payload) {\n            payload.lineWidth = item;\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\n                from: payload.pseudo,\n                to: \"server\",\n                payload: payload,\n            });\n        }\n    };\n\n    handleLineStyle = (resp) => {\n        const {selectedDrawing} = this.props;\n        const {item} = resp;\n        const payload = selectedDrawing;\n        if (payload) {\n            payload.lineStyle = item;\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\n                from: payload.pseudo,\n                to: \"server\",\n                payload: payload,\n            });\n        }\n    };\n    handleColorFillColor = (resp) => {\n        const {selectedDrawing} = this.props;\n        const {value} = resp;\n        const payload = selectedDrawing;\n        if (payload) {\n            payload.fillColor = value;\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\n                from: payload.pseudo,\n                to: \"server\",\n                payload: payload,\n            });\n        }\n    };\n\n    handleDeleteObject = () => {\n        const {selectedDrawing} = this.props;\n        const payload = selectedDrawing;\n        if (payload) {\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.DELETE_OBJECT,\n                from: payload.pseudo,\n                to: \"server\",\n                payload: payload,\n            });\n        }\n    };\n\n    render() {\n        const {\n            isLineColorPickerToggled,\n            isLineWidthPickerToggled,\n            isLineStylePickerToggled,\n            isFillColorPickerToggled,\n        } = this.state;\n        const {selectedDrawing} = this.props;\n        console.log(this.props);\n        return (\n            <div style={{maxWidth: 360, backgroundColor: \"white\"}}>\n                <List\n                    component=\"nav\"\n                    aria-label=\"main mailbox folders\"\n                    subheader={\n                        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                            <div\n                                style={{\n                                    display: \"flex\",\n                                    justifyContent: \"center\",\n                                    alignItems: \"center\",\n                                    fontSize: \"2em\",\n                                }}>\n                                Edit\n                            </div>\n                        </ListSubheader>\n                    }>\n                    <ListItem\n                        button\n                        key={\"Color\"}\n                        onClick={() => this.onClickEditObject(\"Color\")}\n                        disabled={!selectedDrawing || selectedDrawing.type === \"image\"}>\n                        <ListItemIcon>\n                            <ColorLens />\n                        </ListItemIcon>\n                        <ListItemText primary={\"Color\"} />\n                    </ListItem>\n                </List>\n                {isLineColorPickerToggled && (\n                    <>\n                        <ColorPicker\n                            color={\"\"}\n                            hexColorCode={\"\"}\n                            handleClick={this.handleColor}\n                            listField={colors}\n                            field={\"Line color\"}\n                            type={\"color\"}\n                        />\n                    </>\n                )}\n                <List>\n                    <ListItem\n                        button\n                        key={\"FillColor\"}\n                        onClick={() => this.onClickEditObject(\"FillColor\")}\n                        disabled={\n                            !selectedDrawing ||\n                            selectedDrawing.type === \"image\" ||\n                            selectedDrawing.type === \"line\" ||\n                            selectedDrawing.type === \"handwriting\"\n                        }>\n                        <ListItemIcon>\n                            <Icon>\n                                <img src={require(\"../assets/fillColor.png\")} alt=\"\" />\n                            </Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={\"Fill Color\"} />\n                    </ListItem>\n                </List>\n                {isFillColorPickerToggled && (\n                    <>\n                        <ColorPicker\n                            color={\"\"}\n                            hexColorCode={\"\"}\n                            handleClick={this.handleColorFillColor}\n                            listField={colors}\n                            field={\"Fill color\"}\n                            type={\"color\"}\n                        />\n                    </>\n                )}\n                <List>\n                    <ListItem\n                        button\n                        key={\"Width\"}\n                        onClick={() => this.onClickEditObject(\"Width\")}\n                        disabled={!selectedDrawing || selectedDrawing.type === \"image\"}>\n                        <ListItemIcon>\n                            <Icon>\n                                <img src={require(\"../assets/width.png\")} alt=\"\" />\n                            </Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={\"Width\"} />\n                    </ListItem>\n                </List>\n                {isLineWidthPickerToggled && (\n                    <>\n                        <ColorPicker\n                            color={\"\"}\n                            hexColorCode={\"\"}\n                            handleClick={this.handleLineWidth}\n                            listField={lineSize}\n                            field={\"Line width\"}\n                        />\n                    </>\n                )}\n                <List>\n                    <ListItem\n                        button\n                        key={\"LineStyle\"}\n                        onClick={() => this.onClickEditObject(\"LineStyle\")}\n                        disabled={!selectedDrawing || selectedDrawing.type === \"image\"}>\n                        <ListItemIcon>\n                            <Icon>\n                                <img src={require(\"../assets/lineStyle.png\")} alt=\"\" />\n                            </Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={\"Line Style\"} />\n                    </ListItem>\n                </List>\n                {isLineStylePickerToggled && (\n                    <>\n                        <ColorPicker\n                            color={\"\"}\n                            hexColorCode={\"\"}\n                            handleClick={this.handleLineStyle}\n                            listField={lineStyles}\n                            field={\"Line style\"}\n                        />\n                    </>\n                )}\n                <Divider />\n                <List>\n                    <ListItem\n                        button\n                        key={\"Delete\"}\n                        onClick={this.handleDeleteObject}\n                        disabled={!selectedDrawing}>\n                        <ListItemIcon>\n                            <Delete />\n                        </ListItemIcon>\n                        <ListItemText primary={\"Delete\"} />\n                    </ListItem>\n                </List>\n            </div>\n        );\n    }\n}\nEditShapePanel.propTypes = {\n    onClickEditObject: PropTypes.any,\n    selectedDrawing: PropTypes.any,\n};\nexport default EditShapePanel;\n","import React, {Component} from \"react\";\nimport List from \"@material-ui/core/List\";\nimport PropTypes from \"prop-types\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {\n    TextFields as TextFieldIcon,\n    Photo,\n    Maximize,\n    CropLandscape,\n    Edit,\n    PanoramaFishEye,\n} from \"@material-ui/icons\";\nimport {Icon, ListSubheader} from \"@material-ui/core\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\nimport {getBase64} from \"../utils/readAsDataUrl\";\n\nclass ShapePanel extends Component {\n    onClickCreateObject = (objectType) => {\n        const {pseudo, resolutionHeight, resolutionWidth} = this.props;\n        socketClientInstance.sendMessage({\n            type: constants.SOCKET_MSG.CREATE_OBJECT,\n            from: pseudo,\n            to: \"server\",\n            payload: {\n                shape: objectType,\n                positionX: (resolutionWidth / 2).toString(),\n                positionY: (resolutionHeight / 2).toString(),\n            },\n        });\n    };\n    onClickCreateObjectImage = () => {\n        const maxSize = 42000;\n        const typesAllowed = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n        const file = document.getElementById(\"myFile\").files[0];\n        if (file === undefined) {\n            return;\n        } else if (!typesAllowed.includes(file.type)) {\n            alert(`Bad File Type [${file.type}]. File type should be among [png, jpeg, jpg].`);\n            return;\n        } else if (file.size > maxSize) {\n            alert(`File size should not exceed ${maxSize / 1000}ko.`);\n            return;\n        }\n        getBase64(file).then((imageData) => {\n            const img = new Image();\n            img.onload = () => {\n                const {pseudo, resolutionHeight, resolutionWidth} = this.props;\n                const maxSize = 300;\n                const payload = {shape: \"image\", description: {srcURI: imageData}};\n                if (img.width > img.height) {\n                    payload.description.width = maxSize.toString();\n                    payload.description.height = (\n                        payload.description.width *\n                        (img.height / img.width)\n                    ).toString();\n                } else {\n                    payload.description.height = maxSize.toString();\n                    payload.description.width = (\n                        payload.description.height /\n                        (img.height / img.width)\n                    ).toString();\n                }\n                payload.positionX = ((resolutionWidth - payload.description.width) / 2).toString();\n                payload.positionY = (\n                    (resolutionHeight - payload.description.height) /\n                    2\n                ).toString();\n                socketClientInstance.sendMessage({\n                    type: constants.SOCKET_MSG.CREATE_OBJECT,\n                    from: pseudo,\n                    to: \"server\",\n                    payload,\n                });\n            };\n            img.src = imageData;\n        });\n    };\n    render() {\n        return (\n            <div style={{maxWidth: 250, backgroundColor: \"white\"}}>\n                <List\n                    component=\"nav\"\n                    aria-label=\"main mailbox folders\"\n                    subheader={\n                        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                            <div\n                                style={{\n                                    display: \"flex\",\n                                    justifyContent: \"center\",\n                                    alignItems: \"center\",\n                                    fontSize: \"2em\",\n                                }}>\n                                Tools\n                            </div>\n                        </ListSubheader>\n                    }>\n                    <ListItem button key={\"Text\"} onClick={() => this.onClickCreateObject(\"text\")}>\n                        <ListItemIcon>\n                            <TextFieldIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={\"Text\"} />\n                    </ListItem>\n                </List>\n                <Divider />\n                <List>\n                    {[\n                        {\n                            title: \"Draw\",\n                            component: <Edit />,\n                        },\n                        {title: \"Line\", component: <Maximize />},\n                        {title: \"Rectangle\", component: <CropLandscape />},\n                        {title: \"Circle\", component: <PanoramaFishEye />},\n                        {\n                            title: \"Triangle\",\n                            component: (\n                                <Icon>\n                                    <img src={require(\"../assets/triangle.png\")} alt=\"\" />\n                                </Icon>\n                            ),\n                        },\n                    ].map((item) => (\n                        <ListItem\n                            button\n                            key={item.title}\n                            onClick={() => this.onClickCreateObject(item.title.toLowerCase())}>\n                            <ListItemIcon>{item.component}</ListItemIcon>\n                            <ListItemText primary={item.title} />\n                        </ListItem>\n                    ))}\n                </List>\n                <Divider />\n                <List>\n                    <ListItem\n                        button\n                        key={\"Picture\"}\n                        onClick={() => {\n                            const myInput = document.getElementById(\"myFile\");\n                            if (myInput) {\n                                myInput.click();\n                            }\n                        }}>\n                        <ListItemIcon>\n                            <Photo />\n                        </ListItemIcon>\n                        <ListItemText primary={\"Picture\"} />\n                    </ListItem>\n                    <input\n                        type=\"file\"\n                        id=\"myFile\"\n                        style={{position: \"fixed\", bottom: \"10000px\"}}\n                        onChange={() => this.onClickCreateObjectImage()}></input>\n                </List>\n            </div>\n        );\n    }\n}\nShapePanel.propTypes = {\n    pseudo: PropTypes.any,\n    resolutionWidth: PropTypes.any,\n    resolutionHeight: PropTypes.any,\n};\nexport default ShapePanel;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nconst color = require(\"string-to-color\");\n\nclass ListOfUsers extends Component {\n    render() {\n        const {users} = this.props;\n\n        return (\n            <div\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                }}>\n                {users &&\n                    users.map((user, id) => (\n                        <div\n                            key={id}\n                            style={{\n                                backgroundColor: color(user),\n                                width: 30,\n                                height: 30,\n                                borderRadius: \"50%\",\n                                display: \"flex\",\n                                justifyContent: \"center\",\n                                alignItems: \"center\",\n                                color: \"white\",\n                            }}>\n                            {user[0]}\n                        </div>\n                    ))}\n            </div>\n        );\n    }\n}\nListOfUsers.propTypes = {\n    users: PropTypes.any,\n};\nexport default ListOfUsers;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport {ExitToApp, SaveAlt, CloudUpload} from \"@material-ui/icons\";\nimport ListOfUsers from \"../components/ListOfUsers\";\nclass HeaderMenu extends Component {\n    onSave = () => {\n        alert(\"TODO SAVE\");\n        // TODO\n    };\n\n    onImport = () => {\n        alert(\"TODO IMPORT\");\n        // TODO\n    };\n\n    render() {\n        const {paperboard, drawers, onQuit} = this.props;\n        return (\n            <>\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\",\n                        backgroundColor: \"#f9a322\",\n                    }}>\n                    {/* PAPERBOARD TITLE */}\n                    <p\n                        className=\"title is-1\"\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            color: \"black\",\n                            marginLeft: \"15px\",\n                            marginTop: \"5px\",\n                            marginBottom: \"5px\",\n                        }}>\n                        {paperboard && `-- ${paperboard.title.toString().toUpperCase()} --`}\n                    </p>\n                    {/* LIST OF CONNECTED USERS */}\n                    <ListOfUsers users={drawers} />\n                    {/* BOARD ACTION BUTTONS */}\n                    <div style={{display: \"flex\"}}>\n                        <Button onClick={this.onImport}>\n                            <CloudUpload />\n                        </Button>\n                        <Button onClick={this.onSave}>\n                            <SaveAlt />\n                        </Button>\n                        <Button onClick={onQuit}>\n                            <ExitToApp />\n                        </Button>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\nHeaderMenu.propTypes = {\n    paperboard: PropTypes.any,\n    drawers: PropTypes.any,\n    onQuit: PropTypes.any,\n};\nexport default HeaderMenu;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Close} from \"@material-ui/icons\";\nimport {IconButton} from \"@material-ui/core\";\nclass Chat extends Component {\n    render() {\n        const {onCloseChat, messages} = this.props;\n        return (\n            <div\n                id=\"page\"\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"flex-start\",\n                    width: \"100%\",\n                    backgroundColor: \"#e8e8e8\",\n                    height: window.innerHeight / 3,\n                    borderRadius: 10,\n                    borderWidth: 1,\n                    borderColor: \"#e8e8e8\",\n                }}>\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"horizontal\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        paddingRight: \"5%\",\n                        paddingLeft: \"5%\",\n                        backgroundColor: \"#f9a322\",\n                        width: \"100%\",\n                        borderTopLeftRadius: 10,\n                        borderTopRightRadius: 10,\n                        marginBottom: 10,\n                    }}>\n                    <div> Chat</div>\n                    <IconButton onClick={() => onCloseChat()}>\n                        <Close />\n                    </IconButton>\n                </div>\n                <div\n                    style={{\n                        display: \"flex\",\n                        flex: 1,\n                        width: \"100%\",\n                        overflow: \"scroll\",\n                        flexDirection: \"column\",\n                    }}>\n                    {messages}\n                </div>\n            </div>\n        );\n    }\n}\n\nChat.propTypes = {\n    onCloseChat: PropTypes.any,\n    messages: PropTypes.any,\n};\nexport default Chat;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Message extends Component {\n    render() {\n        const {color, name, message, isAuthor} = this.props;\n        return (\n            <div\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    width: \"100%\",\n                    paddingRight: \"10%\",\n                    paddingLeft: \"10%\",\n                }}>\n                <div\n                    style={{\n                        display: \"flex\",\n                        justifyContent: \"flex-end\",\n                        flexDirection: isAuthor ? \"row\" : \"row-reverse\",\n                    }}>\n                    {name}\n                    <div\n                        style={{\n                            backgroundColor: color,\n                            width: 24,\n                            height: 24,\n                            borderRadius: 12,\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            color: \"white\",\n                            marginLeft: isAuthor ? 10 : 0,\n                            marginRight: isAuthor ? 0 : 10,\n                        }}>\n                        {name[0]}\n                    </div>\n                </div>\n                <div\n                    style={{\n                        display: \"flex\",\n                        color: \"black\",\n                        justifyContent: isAuthor ? \"flex-end\" : \"flex-start\",\n                    }}>\n                    {message}\n                </div>\n            </div>\n        );\n    }\n}\nMessage.propTypes = {\n    color: PropTypes.string,\n    name: PropTypes.string,\n    message: PropTypes.string,\n    isAuthor: PropTypes.bool,\n};\nexport default Message;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Message as MessageIcon} from \"@material-ui/icons\";\nimport Chat from \"../components/Chat\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Message from \"../components/Message\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\n\nconst color = require(\"string-to-color\");\n\nclass ChatComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.componentName = \"ChatComponent\";\n        this.state = {\n            isChatDisplayed: false,\n            textFieldValue: \"\",\n            messages: [],\n        };\n    }\n\n    componentDidMount() {\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.CHAT_MESSAGE,\n            this.receiveMessage,\n            this.componentName\n        );\n    }\n\n    componentWillUnmount() {\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.CHAT_MESSAGE,\n            this.receiveMessage,\n            this.componentName\n        );\n    }\n\n    sendMessage = () => {\n        const {pseudo} = this.props;\n        const {textFieldValue} = this.state;\n        if (textFieldValue !== \"\") {\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.CHAT_MESSAGE,\n                from: pseudo,\n                to: \"server\",\n                payload: {\n                    msg: textFieldValue,\n                },\n            });\n            this.setState({textFieldValue: \"\"});\n        }\n    };\n\n    receiveMessage = (writer, msg) => {\n        const {pseudo} = this.props;\n        const {messages} = this.state;\n        messages.push(\n            <Message\n                key={messages.length}\n                color={color(writer)}\n                name={writer}\n                message={msg}\n                isAuthor={writer === pseudo}\n            />\n        );\n        this.setState({\n            messages,\n        });\n    };\n\n    catchReturn = (e) => {\n        if (e.key === \"Enter\") {\n            this.sendMessage();\n        }\n    };\n\n    handleTextFieldChange = (e) => {\n        if (e.key === \"Enter\") {\n            this.sendMessage();\n        }\n        this.setState({\n            textFieldValue: e.target.value,\n        });\n    };\n\n    onChat = () => {\n        this.setState((prevState) => ({\n            isChatDisplayed: !prevState.isChatDisplayed,\n        }));\n    };\n\n    render() {\n        const {isChatDisplayed, messages, textFieldValue} = this.state;\n        return (\n            <>\n                {/* CHAT MESSAGE PANEL */}\n                {isChatDisplayed && <Chat onCloseChat={this.onChat} messages={messages} />}\n\n                <div\n                    style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                    }}>\n                    {/* MESSAGE INPUT */}\n                    {isChatDisplayed && (\n                        <div style={{paddingRight: \"15%\"}}>\n                            <TextField\n                                id=\"outlined-basic\"\n                                label=\"Message\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                style={{backgroundColor: \"white\", borderRadius: 5}}\n                                onChange={this.handleTextFieldChange}\n                                onKeyPress={this.catchReturn}\n                                value={textFieldValue}\n                            />\n                        </div>\n                    )}\n                    {/* CHAT PANEL BUTTON */}\n                    <div\n                        onClick={() => (isChatDisplayed ? this.sendMessage() : this.onChat())}\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            backgroundColor: \"white\",\n                            width: isChatDisplayed ? 50 : 100,\n                            height: isChatDisplayed ? 50 : 100,\n                            borderRadius: isChatDisplayed ? 25 : 50,\n                            boxShadow: \"6px 6px 6px #9E9E9E\",\n                            shadowOpacity: 0.5,\n                        }}>\n                        <MessageIcon\n                            style={{\n                                width: isChatDisplayed ? 20 : 60,\n                                height: isChatDisplayed ? 20 : 60,\n                            }}\n                        />\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\nChatComponent.propTypes = {\n    pseudo: PropTypes.any,\n};\nexport default ChatComponent;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Button} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\n\nclass DeletePopUp extends Component {\n    agreeDeletion = () => {\n        const {msg, handleObjectDelete} = this.props;\n        handleObjectDelete();\n        const payload = {};\n        payload.pseudo = msg.to;\n        payload.board = msg.payload.board;\n        payload.drawingId = msg.payload.drawingId;\n        if (payload) {\n            socketClientInstance.sendMessage({\n                type: constants.SOCKET_MSG.DELETE_OBJECT,\n                from: msg.to,\n                to: \"server\",\n                payload: payload,\n            });\n        }\n    };\n    render() {\n        const {msg, handleObjectDelete} = this.props;\n        return (\n            <div\n                style={{\n                    display: \"flex\",\n                    width: \"70%\",\n                    flexDirection: \"column\",\n                    alignContent: \"center\",\n                    alignItems: \"center\",\n                    backgroundColor: \"white\",\n                    paddingTop: \"1em\",\n                    paddingBottom: \"1em\",\n                    border: \"2px solid #f9a322\",\n                }}>\n                <div\n                    style={{\n                        fontSize: \"2em\",\n                        textAlign: \"center\",\n                    }}>{`${msg.from} want to delete one ${msg.payload.type} you have created`}</div>\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        justifyContent: \"space-around\",\n                        width: \"100%\",\n                    }}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        startIcon={<CancelIcon />}\n                        onClick={handleObjectDelete}>\n                        Disagree\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        startIcon={<DeleteIcon />}\n                        onClick={this.agreeDeletion}>\n                        Agree\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\nDeletePopUp.propTypes = {\n    msg: PropTypes.any,\n    handleObjectDelete: PropTypes.any,\n};\nexport default DeletePopUp;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {withRouter} from \"react-router-dom\";\nimport Background from \"../components/Background\";\nimport socketClientInstance from \"../services/socket\";\nimport constants from \"../config/constants\";\nimport CanvasManager from \"../components/CanvasManager\";\nimport EditShapePanel from \"../components/EditShapePanel\";\nimport * as backgroundImage from \"../assets/cappuccino2.jpg\";\nimport ShapePanel from \"../components/ShapePanel\";\nimport HeaderMenu from \"../components/HeaderMenu\";\nimport ChatComponent from \"../components/ChatComponent\";\nimport DeletePopUp from \"../components/DeletePopUp\";\n\nclass PaperBoardPage extends Component {\n    constructor(props) {\n        super(props);\n        const {\n            location: {\n                state: {paperboard, pseudo, drawers},\n            },\n        } = props;\n        this.state = {\n            paperboard,\n            pseudo,\n            drawers,\n            selectedDrawing: null,\n            isDeletePopUpDisplayed: false,\n            deleteMsg: null,\n        };\n        this.componentName = \"PaperBoardPage\";\n        this._mounted = false;\n    }\n\n    componentDidMount() {\n        this._mounted = true;\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_LEFT_BOARD,\n            this.handleDrawerLeftBoard,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleDrawerJoinedBoard,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.DELETE_OBJECT,\n            this.handleObjectDelete,\n            this.componentName\n        );\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_DELETED,\n            this.handleObjectDeleted,\n            this.componentName\n        );\n    }\n\n    componentWillUnmount() {\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_LEFT_BOARD,\n            this.handleDrawerLeftBoard,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\n            this.handleDrawerJoinedBoard,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DELETE_OBJECT,\n            this.handleObjectDelete,\n            this.componentName\n        );\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.OBJECT_DELETED,\n            this.handleObjectDeleted,\n            this.componentName\n        );\n        this._mounted = false;\n    }\n\n    onQuit = () => {\n        const {pseudo} = this.state;\n        socketClientInstance.sendMessage({\n            type: constants.SOCKET_MSG.LEAVE_BOARD,\n            from: pseudo,\n            to: \"server\",\n            payload: {},\n        });\n    };\n\n    setSelectedDrawing = (selected) => {\n        this.setState({selectedDrawing: selected});\n    };\n\n    handleDrawerLeftBoard = (leaver, drawers) => {\n        if (this._mounted) {\n            this.setState({drawers});\n            const {pseudo} = this.state;\n            if (pseudo === leaver) {\n                this.props.history.push({pathname: \"/lounge\", state: {pseudo}});\n            }\n        }\n    };\n\n    handleDrawerJoinedBoard = (drawers) => {\n        this.setState({drawers});\n    };\n\n    handleObjectDelete = (msg) => {\n        this.setState((prevState) => ({\n            isDeletePopUpDisplayed: !prevState.isDeletePopUpDisplayed,\n            deleteMsg: !prevState.isDeletePopUpDisplayed ? msg : null,\n        }));\n    };\n\n    handleObjectDeleted = (msg) => {\n        const {selectedDrawing} = this.state;\n        if (selectedDrawing && selectedDrawing.drawingId === msg.drawingId) {\n            this.setState({selectedDrawing: null});\n        }\n    };\n\n    render() {\n        const {\n            paperboard,\n            drawers,\n            pseudo,\n            selectedDrawing,\n            isDeletePopUpDisplayed,\n            deleteMsg,\n        } = this.state;\n        const resolutionHeight = 720;\n        const resolutionWidth = 1080;\n        return (\n            <Background\n                customStyle={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                }}\n                imgSrc={backgroundImage}>\n                {/* TITLE BAR (ON THE TOP) */}\n                <HeaderMenu paperboard={paperboard} drawers={drawers} onQuit={this.onQuit} />\n                {/* PAPERBOARD PAGE */}\n                {isDeletePopUpDisplayed && deleteMsg && (\n                    <div\n                        style={{\n                            display: \"flex\",\n                            width: \"100%\",\n                            height: \"100%\",\n                            position: \"absolute\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                        }}>\n                        <DeletePopUp msg={deleteMsg} handleObjectDelete={this.handleObjectDelete} />\n                    </div>\n                )}\n                <div\n                    style={{\n                        display: \"flex\",\n                        width: \"100%\",\n                        flexDirection: \"row\",\n                        alignItems: \"center\",\n                        // justifyContent: \"space-between\",\n                        flex: 1,\n                    }}>\n                    {/* ACTION BUTTONS NAV BAR */}\n                    <ShapePanel\n                        pseudo={pseudo}\n                        resolutionWidth={resolutionWidth}\n                        resolutionHeight={resolutionHeight}\n                    />\n\n                    {/* CANVAS MANAGER */}\n                    <CanvasManager\n                        ref={(el) => (this.canvas = el)}\n                        resolutionWidth={resolutionWidth}\n                        resolutionHeight={resolutionHeight}\n                        toggleShapePanel={this.toggleShapePanel}\n                        board={paperboard}\n                        pseudo={pseudo}\n                        drawings={paperboard.drawings}\n                        setSelectedDrawing={this.setSelectedDrawing}\n                    />\n\n                    {/* SHAPE OPTIONS PANEL */}\n                    <EditShapePanel selectedDrawing={selectedDrawing} />\n                </div>\n                {/* CHAT */}\n                <div\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        flexDirection: \"column\",\n                        position: \"absolute\",\n                        bottom: 50,\n                        right: 50,\n                    }}>\n                    <ChatComponent pseudo={pseudo} />\n                </div>\n            </Background>\n        );\n    }\n}\n\nPaperBoardPage.propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object,\n};\n\nexport default withRouter(PaperBoardPage);\n","import React, {Component} from \"react\";\nimport {Route, Switch, withRouter} from \"react-router-dom\";\nimport WelcomePage from \"./pages/WelcomePage\";\nimport LoungePage from \"./pages/LoungePage\";\nimport CreateBoardPage from \"./pages/CreateBoardPage\";\nimport PaperBoardPage from \"./pages/PaperBoardPage\";\nimport Toast from \"light-toast\";\nimport socketClientInstance from \"./services/socket\";\nimport constants from \"./config/constants\";\nimport \"./App.scss\";\nimport PropTypes from \"prop-types\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.componentName = \"App\";\n        this.timeouts = [];\n        if (window.performance) {\n            if (performance.navigation.type === 1 && this.props.location.pathname !== \"/\") {\n                alert(\n                    \"This page is reloaded, you will be disconnected and redirected to the login page\"\n                );\n                this.props.history.push({\n                    pathname: \"/\",\n                });\n            }\n        }\n    }\n\n    componentDidMount() {\n        socketClientInstance.subscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_DISCONNECTED,\n            this.handleDrawerDisconnected,\n            this.componentName\n        );\n    }\n\n    componentWillUnmount() {\n        socketClientInstance.unsubscribeToEvent(\n            constants.SOCKET_MSG.DRAWER_DISCONNECTED,\n            this.handleDrawerDisconnected,\n            this.componentName\n        );\n        while (this.timeouts.length > 0) {\n            const t = this.timeouts.pop();\n            clearTimeout(t);\n        }\n    }\n\n    handleDrawerDisconnected = () => {\n        Toast.fail(\n            \"You have been disconnected from server, you will be redirected to login page\",\n            3000,\n            () => {}\n        );\n        this.timeouts.push(\n            setTimeout(() => {\n                if (this.props.location.pathname !== \"/\") {\n                    this.props.history.push({\n                        pathname: \"/\",\n                    });\n                }\n                Toast.hide();\n            }, 3000)\n        );\n    };\n\n    render() {\n        return (\n            <Switch>\n                <Route exact path=\"/\" component={WelcomePage} />\n                <Route path=\"/lounge\" component={LoungePage} />\n                <Route path=\"/new-board\" component={CreateBoardPage} />\n                <Route path=\"/paperboard/:title\" component={PaperBoardPage} />\n            </Switch>\n        );\n    }\n}\n\nApp.propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object,\n};\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\"No internet connection found. App is running in offline mode.\");\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister();\n        });\n    }\n}\n","import React from \"react\";\nimport {render} from \"react-dom\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nrender(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}