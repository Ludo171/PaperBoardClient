{"version":3,"sources":["assets/welcome.jpg","assets/wood.jpg","assets/Wood-4.jpg","assets/cappuccino2.jpg","assets/fillColor.png","assets/width.png","assets/lineStyle.png","assets/triangle.png","components/Background.js","config/config.js","utils/lineSize.js","config/constants.js","utils/logger.js","services/socket.js","pages/WelcomePage.js","pages/LoungePage.js","components/Picker.js","utils/colors.js","pages/CreateBoardPage.js","components/CanvasObject-Circle.js","components/CanvasManager.js","utils/lineStyle.js","components/EditShapePanel.js","components/ShapePanel.js","components/ListOfUsers.js","components/HeaderMenu.js","components/Chat.js","components/Message.js","components/ChatComponent.js","components/DeletePopUp.js","pages/PaperBoardPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Background","this","backgroundImg","Image","addEventListener","refreshBackground","src","props","imgSrc","window","removeEventListener","pageContainer","document","getElementById","canvas","ctx","getContext","style","width","clientWidth","height","clientHeight","srcX","srcY","srcW","srcH","canvasW","canvasH","canvasProp","img","imgW","imgH","drawImage","defaultStyle","position","overflow","undefined","keys","Object","i","length","hasOwnProperty","customStyle","addMinimumStyleAttributes","id","top","left","zIndex","alt","children","Component","config","hostname","http_port","rest_url","socket_port","socket_url","includes","process","constants","SOCKET_MSG","IDENTIFY","GET_BOARD","GET_ALL_BOARDS","CREATE_BOARD","JOIN_BOARD","LEAVE_BOARD","CREATE_OBJECT","EDIT_OBJECT","LOCK_OBJECT","UNLOCK_OBJECT","CHAT_MESSAGE","DELETE_OBJECT","IDENTIFY_ANSWER","ANSWER_GET_BOARD","ANSWER_GET_ALL_BOARDS","ANSWER_CREATE_BOARD","DRAWER_JOIN_BOARD","DRAWER_LEFT_BOARD","DRAWER_DISCONNECTED","OBJECT_CREATED","OBJECT_EDITED","OBJECT_DELETED","OBJECT_LOCKED","OBJECT_UNLOCKED","Logger","moduleName","subModuleName","commonTypes","endCharacters","environment","args","errors","message","Error","push","charAt","console","log","error","shift","socketClientInstance","SocketClient","instance","componentName","backend_url","socketClient","connected","reconnectionParams","reconnect","reconnectionDelay","maxAttempts","currentAttemps","init","bind","stop","onConnect","onDisconnect","onMessage","sendMessage","handlers","identifiedHandlers","answerGetAllBoardsHandlers","answerGetBoardHandlers","answerCreatePaperBoardHandlers","drawerJoinedBoardHandlers","drawerLeftBoardHandlers","chatMessageHandlers","askDeletionHandlers","objLockedHandlers","objUnlockedHandlers","objCreatedHandlers","objEditedHandlers","objDeletedHandlers","objAskDeleteHandlers","drawerConnectedHandlers","drawerDisconnectedHandlers","logger","socket","WebSocket","onopen","onmessage","onclose","tryToReconnect","close","e","forEach","drawerDisconnectedHandler","code","setTimeout","socketMessage","data","JSON","parse","type","from","identifiedHandler","answerGetAllBoardsHandler","payload","answerGetBoardHandler","answerCreatePaperBoardHandler","drawerJoinedBoardHandler","userlist","drawerLeftBoardHandler","leaver","chatMessageHandler","writer","msg","ASK_DELETION","askDeletionHandler","objLockedHandler","objUnlockedHandler","objCreatedHandler","objEditedHandler","objDeletedHandler","DRAWER_CONNECTED","drawerConnectedHandler","objAskDeleteHandler","json","stringify","to","send","alert","eventName","handler","subscriber","filter","fn","WelcomePage","onLogin","event","preventDefault","pseudo","state","handleServerLoginAnswer","pseudoAvailable","history","pathname","handleChange","setState","target","value","subscribeToEvent","unsubscribeToEvent","display","flexDirection","justifyContent","alignItems","backgroundImage","className","borderRadius","textAlign","onSubmit","placeholder","onChange","marginTop","onClick","withRouter","columns","title","field","LoungePage","paperboards","chosenPaperboard","defaultBoardTitle","getAllPaperBoards","handleAnswerGetAllBoards","loopGetAllPaperBoards","timeout","onCreatePaperBoard","goToPaperBoard","handleAnswerGetBoard","paperboard","board","handleJoinBoardServerResponse","drawers","location","clearTimeout","map","creationDate","moment","format","fontWeight","fontSize","marginBottom","color","toUpperCase","substring","flex","IconButton","marginLeft","Refresh","actions","icon","tooltip","rowData","ColorPicker","hexColorCode","handleClick","listField","aria-haspopup","aria-controls","marginRight","role","list","key","item","getColorList","colors","transparent","antiquewhite","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","CreateBoardPage","isBackgroundColor","isBackgroundImage","isSwitchBgColorDisabled","isSwitchBgImageDisabled","componentDidMount","handleAnswerCreateBoard","handleTitleChanges","handleColor","response","created","handleSwitch","name","checked","FormGroup","row","FormControlLabel","control","Switch","disabled","label","generateCanvasObjectCircle","refX","refY","refW","refH","owner","creationOptions","Circle","X","Y","radius","lineWidth","lineColor","lineStyle","fillColor","isLocked","lockedBy","previousState","editionState","oldDragX","oldDragY","refreshArea","x1","y1","x2","y2","save","beginPath","strokeStyle","arc","Math","PI","setLineDash","stroke","fillStyle","fill","rect","restore","applyModifications","newValue","isNaN","Number","onMouseDown","x","y","myPseudo","movingSquareRadius","resizingSquareRadius","squareDistance","onMouseHover","getElementsByTagName","cursor","onMouseDrag","oldDist","sqrt","newDist","onMouseUp","result","modifications","shouldUnlock","toString","CanvasManager","generateObjectPile","drawings","drawing","createCircle","newCircle","parseFloat","objPile","onObjectLocked","objectId","drawingId","found","refreshCanvasArea","setSelectedDrawing","onObjectUnlocked","onObjectEdited","onObjectDeleted","obj","resolutionWidth","resolutionHeight","handleMouseDown","handleMouseUp","handleMouseMove","handleMouseLeave","maxWidth","parentContainer","maxHeight","parentContainerProp","clearRect","which","getBoundingClientRect","clientX","replace","clientY","collisionIndex","object","report","ref","el","handleWidth","handleHeight","onResize","_onResize","backgroundColor","lineSize","lineStyles","dashed","normal","EditShapePanel","onClickEditObject","editionType","prevState","isLineColorPickerToggled","isLineWidthPickerToggled","isLineStylePickerToggled","isFillColorPickerToggled","resp","selectedDrawing","handleLineWidth","handleLineStyle","handleColorFillColor","handleDeleteObject","nextProps","List","component","aria-label","subheader","ListSubheader","ListItem","button","ListItemIcon","ColorLens","ListItemText","primary","Icon","require","Divider","Delete","ShapePanel","onClickCreateObject","objectType","shape","positionX","positionY","Edit","Maximize","CropLandscape","PanoramaFishEye","Photo","ListOfUsers","users","user","HeaderMenu","onSave","onImport","onQuit","Button","CloudUpload","SaveAlt","ExitToApp","Chat","onCloseChat","messages","innerHeight","borderWidth","borderColor","paddingRight","paddingLeft","borderTopLeftRadius","borderTopRightRadius","Close","Message","isAuthor","ChatComponent","textFieldValue","receiveMessage","catchReturn","handleTextFieldChange","onChat","isChatDisplayed","TextField","margin","variant","onKeyPress","boxShadow","shadowOpacity","DeletePopUp","agreeDeletion","handleObjectDelete","alignContent","paddingTop","paddingBottom","border","startIcon","PaperBoardPage","selected","isDeletePopUpDisplayed","deleteMsg","handleObjectDeleted","toggleShapePanel","bottom","right","App","handleDrawerDisconnected","Toast","fail","hide","performance","navigation","exact","path","Boolean","match","render","basename","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d7d17050.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/welcome.c75afa30.jpg\";","module.exports = __webpack_public_path__ + \"static/media/wood.af6ca17a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Wood-4.2688eadb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cappuccino2.3aad53f5.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxgLKyjx6TefAAAAv0lEQVQ4y+2SMQrCQBBFH2vERiyC2NqICHZewEb0FDYewMJTKNh5DMFWPIGFNuksJU06BQkEsRiLSFQczRzAv8V8/v4HuzBQ54jknisTHhoa6oKwTesOh03ubRjUZs+amh2ImNGi5xAjcGLJmaIj4GYCdunwCGjQzK3HTwBCQvNP8L7kHXwlrZLowJwxsZIf2Gh1n4ApZfszVwjCwlqvkCAIEQUbMMrWratdf67GIHN9G1BS3E8gR38AgIviXnQHGY9Kif3efSAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjRUMTE6NDM6NDArMDA6MDD5p4TZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTI0VDExOjQzOjQwKzAwOjAwiPo8ZQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxITAjGsTBIYAAAA10lEQVRIx93SrUoEcRTG4ec/syCCCILFMFGj0RuwCIK3IlrUS9DiFVi1im1MYrKZTIsigiBMkcUPZGXH4BV4TpF9T37f8/XjzEQfrInTorMorq5Ys2UQtH+7SDSfGhWNg/AfXh1yFaag17utNKkNmtqLDTNB+4fdgtp8MODNODX//1ABS2YD3i/PsOIuTMHQKm0KpJviKYXSqHKZumE7sOPTeojFsWt7qfZTol8SG8uqPzp79x5hznkYo9YCxykSTximArrKe+qGo1plMxFwRLEdXOPBvvoHtiwO3rv4JYwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMThUMTk6MDI6NDkrMDA6MDCdn4KXAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTE4VDE5OjAyOjQ5KzAwOjAw7MI6KwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxgLEyGfqjPAAAAAdElEQVQ4y82RsQmAMBQFDwQLSwvBDQLGYbNAentt4zZKskQsssB/RcBXH5/PHdjnuFntuCdTSfbrL5XC3gWHQCXj7f8PBAXvN8fFbMeb99N+vad3OdOhZpo4/pFpIzIqeKYSrbjjUcw07yJe7CKTmmkhKfgHrwsu/57T6AoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjRUMTE6MTk6MzMrMDA6MDCk/6vWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTI0VDExOjE5OjMzKzAwOjAw1aITagAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxUOGyzdY99DAAABAklEQVQ4y8XTvyvEcRzH8cf3OgNJXOpKidQpg0GSlMVgvonhFsazsrCSjYXCwMh8kpIyWAwGRTYl+e3+AavBj+7c9773PYv39Hm9Pq/n+/Pu0+fDf1VGpj7g0HH4RiLUzUlLycXt3uLBsEFP2uIBm9bAuo048SGPWr9OujdSK550YeJHTbrSEA3MOSrTB2aj4p2KesqcLkXd1YGC+QpvQaFaPOs6ZOKkS9mweJNbY6GNRt1prrRXbVcddcfKb6vfi/aqQMqzgVIj4cxU1PWZdl767macCiKBwIn8t0h71adW9XrT8bncs1gzDkt2CYzbl/ceA2i0JRtYrusz3tSR/WN9AIk1KiapkAmsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTIxVDE0OjI3OjQ0KzAwOjAwi8Ck9gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0yMVQxNDoyNzo0NCswMDowMPqdHEoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Background extends Component {\r\n    componentDidMount() {\r\n        this.backgroundImg = new Image();\r\n        this.backgroundImg.addEventListener(\"load\", () => this.refreshBackground());\r\n        this.backgroundImg.src = this.props.imgSrc;\r\n        window.addEventListener(\"resize\", () => this.refreshBackground());\r\n    }\r\n    componentWillUnmount() {\r\n        this.backgroundImg.removeEventListener(\"load\", () => this.refreshBackground());\r\n        window.removeEventListener(\"resize\", () => this.refreshBackground());\r\n    }\r\n    refreshBackground() {\r\n        const pageContainer = document.getElementById(\"page-container\");\r\n        const canvas = document.getElementById(\"background-canvas\");\r\n        const ctx = canvas.getContext(\"2d\");\r\n        canvas.style.width = `${pageContainer.clientWidth}px`;\r\n        canvas.width = pageContainer.clientWidth;\r\n        canvas.style.height = `${pageContainer.clientHeight}px`;\r\n        canvas.height = pageContainer.clientHeight;\r\n        const canvasW = canvas.width;\r\n        const canvasH = canvas.height;\r\n        const canvasProp = canvasH / canvasW;\r\n\r\n        const img = this.backgroundImg;\r\n        const imgW = img.width;\r\n        const imgH = img.height;\r\n        const imgProp = imgH / imgW;\r\n\r\n        let srcX;\r\n        let srcY;\r\n        let srcW;\r\n        let srcH;\r\n        if (canvasProp > imgProp) {\r\n            srcH = imgH;\r\n            srcW = srcH / canvasProp;\r\n            srcX = (imgW - srcW) / 2;\r\n            srcY = 0;\r\n        } else {\r\n            srcW = imgW;\r\n            srcH = srcW * canvasProp;\r\n            srcX = 0;\r\n            srcY = (imgH - srcH) / 2;\r\n        }\r\n        ctx.drawImage(img, srcX, srcY, srcW, srcH, 0, 0, canvasW, canvasH);\r\n    }\r\n    addMinimumStyleAttributes(style) {\r\n        const defaultStyle = {\r\n            position: \"relative\",\r\n            overflow: \"hidden\",\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n        };\r\n\r\n        if (style === undefined) {\r\n            style = defaultStyle;\r\n        } else {\r\n            const keys = Object.keys(defaultStyle);\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (!style.hasOwnProperty(keys[i])) {\r\n                    style[keys[i]] = defaultStyle[keys[i]];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        const {customStyle} = this.props;\r\n        this.addMinimumStyleAttributes(customStyle);\r\n        return (\r\n            <div id=\"page-container\" style={customStyle}>\r\n                <canvas\r\n                    id=\"background-canvas\"\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: \"0px\",\r\n                        left: \"0px\",\r\n                        height: \"100%\",\r\n                        width: \"100%\",\r\n                        zIndex: -1,\r\n                    }}\r\n                    alt=\"background\"></canvas>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nBackground.propTypes = {\r\n    children: PropTypes.any,\r\n    customStyle: PropTypes.any,\r\n    imgSrc: PropTypes.any,\r\n};\r\nexport default Background;\r\n","const config = {\r\n    hostname: \"http://mydomain.com\",\r\n\r\n    http_port: 1245,\r\n    rest_url: \"http://mydomain.com:1245/REST\",\r\n\r\n    socket_port: 1236,\r\n    socket_url: \"ws://mydomain.com:1236/websockets/sock1\",\r\n};\r\n\r\n// HOSTNAME\r\nif ([\"dev\", \"develop\", \"development\"].includes(process.env.REACT_APP_ENVIRONMENT)) {\r\n    config.hostname = process.env.REACT_APP_HOSTNAME_DEV;\r\n    config.http_port = process.env.REACT_APP_REST_PORT_DEV;\r\n    config.rest_url = `${process.env.REACT_APP_REST_PROTOCOL_DEV}://${process.env.REACT_APP_HOSTNAME_DEV}:${process.env.REACT_APP_REST_PORT_DEV}`;\r\n    config.socket_port = process.env.REACT_APP_SOCKET_PORT_DEV;\r\n    config.socket_url = `${process.env.REACT_APP_SOCKET_PROTOCOL_DEV}://${process.env.REACT_APP_HOSTNAME_DEV}:${process.env.REACT_APP_SOCKET_PORT_DEV}/${process.env.REACT_APP_SOCKET_API_DEV}`;\r\n} else if ([\"prod\", \"production\"].includes(process.env.REACT_APP_ENVIRONMENT)) {\r\n    config.hostname = process.env.REACT_APP_HOSTNAME_PROD;\r\n    config.http_port = process.env.REACT_APP_REST_PORT_PROD; // No port specified on Heroku\r\n    config.rest_url = `${process.env.REACT_APP_REST_PROTOCOL_PROD}://${process.env.REACT_APP_HOSTNAME_PROD}`; // No port specified on Heroku\r\n    config.socket_port = process.env.REACT_APP_SOCKET_PORT_PROD; // No port specified on Heroku\r\n    config.socket_url = `${process.env.REACT_APP_SOCKET_PROTOCOL_PROD}://${process.env.REACT_APP_HOSTNAME_PROD}/${process.env.REACT_APP_SOCKET_API_PROD}`; // No port specified on Heroku\r\n}\r\nexport default config;\r\n","const lineSize = {};\r\n\r\nfor (let i = 1; i <= 50; i++) {\r\n    lineSize[i.toString()] = i;\r\n}\r\nexport {lineSize};\r\n","const constants = {\r\n    SOCKET_MSG: {\r\n        //   CLIENTS ---> SERVER\r\n        IDENTIFY: \"Ask Pseudo\",\r\n        GET_BOARD: \"Get Board\",\r\n        GET_ALL_BOARDS: \"Get All Boards\",\r\n        CREATE_BOARD:\"Create Board\",\r\n        JOIN_BOARD: \"Join Board\",\r\n        LEAVE_BOARD: \"Leave Board\",\r\n        CREATE_OBJECT: \"Create Object\",\r\n        EDIT_OBJECT: \"Edit Object\",\r\n        LOCK_OBJECT: \"Lock Object\",\r\n        UNLOCK_OBJECT: \"Unlock Object\",\r\n\r\n        //   CLIENTS <---> SERVER\r\n        CHAT_MESSAGE: \"Chat Message\",\r\n        DELETE_OBJECT: \"Delete Object\",\r\n\r\n        //   SERVER ---> CLIENTS\r\n        IDENTIFY_ANSWER: \"Pseudo Request Answer\",\r\n        ANSWER_GET_BOARD: \"Answer Get Board\",\r\n        ANSWER_GET_ALL_BOARDS: \"Answer Get All Boards\",\r\n        ANSWER_CREATE_BOARD: \"Answer Create Board\",\r\n        DRAWER_JOIN_BOARD: \"New Drawer Joined Board\",\r\n        DRAWER_LEFT_BOARD: \"Drawer Left Board\",\r\n        DRAWER_DISCONNECTED: \"Drawer Disconnected\",\r\n        OBJECT_CREATED: \"Object Created\",\r\n        OBJECT_EDITED: \"Object Edited\",\r\n        OBJECT_DELETED: \"Object Deleted\",\r\n        OBJECT_LOCKED: \"Object Locked\",\r\n        OBJECT_UNLOCKED: \"Object Unlocked\",\r\n    },\r\n};\r\n\r\nexport default constants;\r\n","class Logger {\r\n    constructor(moduleName, subModuleName = null) {\r\n        this.moduleName = subModuleName === null ? moduleName : moduleName + \"/\" + subModuleName;\r\n        this.commonTypes = [\"number\", \"string\"];\r\n        this.endCharacters = [\".\", \"!\", \"?\", \":\"];\r\n        this.environment = process.env.NODE_ENV;\r\n    }\r\n\r\n    log(...args) {\r\n        // if(this.environment !== 'production' && this.environment !== 'prod'){\r\n\r\n        // In case you want to log an object\r\n        if (args.length === 1 && !this.commonTypes.includes(typeof args[0])) {\r\n            console.log(args[0]);\r\n        } else {\r\n            const errors = [];\r\n            let message = `[${this.moduleName}] -`;\r\n            for (let i = 0; i < args.length; i++) {\r\n                message += \" \" + args[i];\r\n                if (args[i] instanceof Error) {\r\n                    errors.push(args[i]);\r\n                }\r\n            }\r\n\r\n            if (!this.endCharacters.includes(message.charAt(message.length - 1))) {\r\n                message += \".\";\r\n            }\r\n            console.log(message);\r\n            while (errors.length > 0) {\r\n                console.error(errors.shift());\r\n            }\r\n        }\r\n\r\n        // }\r\n    }\r\n}\r\n\r\nexport default Logger;\r\n","import config from \"../config/config\";\r\nimport constants from \"../config/constants\";\r\nimport Logger from \"../utils/logger\";\r\n\r\nclass SocketClient {\r\n    constructor() {\r\n        // SINGLETON PATTERN\r\n        if (!!SocketClient.instance) {\r\n            return SocketClient.instance;\r\n        }\r\n        SocketClient.instance = this;\r\n\r\n        // ATTRIBUTES\r\n        this.componentName = \"Socket Client\";\r\n        this.backend_url = `${config.socket_url}`;\r\n        this.socketClient = null;\r\n        this.connected = false;\r\n        this.reconnectionParams = {\r\n            reconnect: true,\r\n            reconnectionDelay: 1000,\r\n            maxAttempts: 50,\r\n            currentAttemps: 0,\r\n        };\r\n\r\n        // METHODS\r\n        this.init = this.init.bind(this);\r\n        this.stop = this.stop.bind(this);\r\n        this.onConnect = this.onConnect.bind(this);\r\n        this.onDisconnect = this.onDisconnect.bind(this);\r\n        this.onMessage = this.onMessage.bind(this);\r\n        this.sendMessage = this.sendMessage.bind(this);\r\n\r\n        this.handlers = {\r\n            identifiedHandlers: [],\r\n            answerGetAllBoardsHandlers: [],\r\n            answerGetBoardHandlers: [],\r\n            answerCreatePaperBoardHandlers: [],\r\n            drawerJoinedBoardHandlers: [],\r\n            drawerLeftBoardHandlers: [],\r\n            chatMessageHandlers: [],\r\n            askDeletionHandlers: [],\r\n            objLockedHandlers: [],\r\n            objUnlockedHandlers: [],\r\n            objCreatedHandlers: [],\r\n            objEditedHandlers: [],\r\n            objDeletedHandlers: [],\r\n            objAskDeleteHandlers: [],\r\n            drawerConnectedHandlers: [],\r\n            drawerDisconnectedHandlers: [],\r\n        };\r\n        this.logger = new Logger(this.componentName);\r\n\r\n        return this;\r\n    }\r\n\r\n    init() {\r\n        this.logger.log(`Try to connect to WebSocketServer [${this.backend_url}]...`);\r\n        this.reconnectionParams.currentAttemps += 1;\r\n        const socket = new WebSocket(this.backend_url);\r\n        this.socketClient = socket;\r\n        this.socketClient.onopen = this.onConnect;\r\n        this.socketClient.onmessage = this.onMessage;\r\n        this.socketClient.onclose = this.onDisconnect;\r\n    }\r\n    stop() {\r\n        this.tryToReconnect = false;\r\n        this.socketClient.close();\r\n        this.socketClient = null;\r\n    }\r\n\r\n    onConnect() {\r\n        this.logger.log(`Connection successful to [${this.backend_url}]`);\r\n        this.connected = true;\r\n        this.reconnectionParams.currentAttemps = 0;\r\n    }\r\n    onDisconnect(e) {\r\n        if (this.reconnectionParams.currentAttemps < 2) {\r\n            this.handlers.drawerDisconnectedHandlers.forEach((drawerDisconnectedHandler) => {\r\n                drawerDisconnectedHandler();\r\n            });\r\n        }\r\n        switch (e.code) {\r\n            case 1000: // CLOSE_NORMAL\r\n                break;\r\n            default:\r\n                // CLOSE_ABNORMAL\r\n                const {\r\n                    reconnect,\r\n                    maxAttempts,\r\n                    currentAttemps,\r\n                    reconnectionDelay,\r\n                } = this.reconnectionParams;\r\n                if (reconnect && currentAttemps < maxAttempts) {\r\n                    setTimeout(this.init, reconnectionDelay);\r\n                }\r\n                break;\r\n        }\r\n        this.logger.log(`Disconnected from server [${this.backend_url}]`);\r\n    }\r\n    onMessage(socketMessage) {\r\n        let data = null;\r\n        try {\r\n            data = JSON.parse(socketMessage.data);\r\n            this.logger.log(\r\n                `Received ${data.type} from ${data.from === undefined ? \"server\" : data.from}.`\r\n            );\r\n        } catch (error) {\r\n            this.logger.log(\"Invalid message sent through WebSocket. Unable to parse.\", error);\r\n            this.logger.log(socketMessage);\r\n            data = {};\r\n        }\r\n        switch (data.type) {\r\n            case constants.SOCKET_MSG.IDENTIFY_ANSWER:\r\n                this.logger.log(\r\n                    `Trigger identified handlers (${this.handlers.identifiedHandlers.length}).`\r\n                );\r\n                this.handlers.identifiedHandlers.forEach((identifiedHandler) => {\r\n                    identifiedHandler(data);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:\r\n                this.logger.log(\r\n                    `Trigger identified handlers (${this.handlers.answerGetAllBoardsHandlers.length}).`\r\n                );\r\n                this.handlers.answerGetAllBoardsHandlers.forEach((answerGetAllBoardsHandler) => {\r\n                    answerGetAllBoardsHandler(data.payload);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_GET_BOARD:\r\n                this.logger.log(\r\n                    `Trigger identified handlers (${this.handlers.answerGetBoardHandlers.length}).`\r\n                );\r\n                this.handlers.answerGetBoardHandlers.forEach((answerGetBoardHandler) => {\r\n                    answerGetBoardHandler(data.payload);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_CREATE_BOARD:\r\n                this.logger.log(\r\n                    `Trigger identified handlers (${this.handlers.answerCreatePaperBoardHandlers.length}).`\r\n                );\r\n                this.handlers.answerCreatePaperBoardHandlers.forEach((answerCreatePaperBoardHandler) => {\r\n                    answerCreatePaperBoardHandler(data.payload);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_JOIN_BOARD:\r\n                this.logger.log(\r\n                    `Trigger drawer joined board handlers (${this.handlers.drawerJoinedBoardHandlers.length}).`\r\n                );\r\n                this.handlers.drawerJoinedBoardHandlers.forEach((drawerJoinedBoardHandler) => {\r\n                    drawerJoinedBoardHandler(data.payload.userlist);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_LEFT_BOARD:\r\n                this.logger.log(\r\n                    `Trigger drawer left board handlers (${this.handlers.drawerLeftBoardHandlers.length}).`\r\n                );\r\n                this.handlers.drawerLeftBoardHandlers.forEach((drawerLeftBoardHandler) => {\r\n                    drawerLeftBoardHandler(data.payload.leaver, data.payload.userlist);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.CHAT_MESSAGE:\r\n                this.logger.log(\r\n                    `Trigger chat message handlers (${this.handlers.chatMessageHandlers.length}).`\r\n                );\r\n                this.handlers.chatMessageHandlers.forEach((chatMessageHandler) => {\r\n                    chatMessageHandler(data.payload.writer, data.payload.msg);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.ASK_DELETION:\r\n                this.logger.log(\r\n                    `Trigger ask deletion handlers (${this.handlers.askDeletionHandlers.length}).`\r\n                );\r\n                this.handlers.askDeletionHandlers.forEach((askDeletionHandler) =>\r\n                    askDeletionHandler()\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_LOCKED:\r\n                this.logger.log(\r\n                    `Trigger object locked handlers (${this.handlers.objLockedHandlers.length}).`\r\n                );\r\n                this.handlers.objLockedHandlers.forEach((objLockedHandler) =>\r\n                    objLockedHandler(data.payload)\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_UNLOCKED:\r\n                this.logger.log(\r\n                    `Trigger object unlocked handlers (${this.handlers.objUnlockedHandlers.length}).`\r\n                );\r\n                this.handlers.objUnlockedHandlers.forEach((objUnlockedHandler) =>\r\n                    objUnlockedHandler(data.payload)\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_CREATED:\r\n                this.logger.log(\r\n                    `Trigger object created handlers (${this.handlers.objCreatedHandlers.length}).`\r\n                );\r\n                this.handlers.objCreatedHandlers.forEach((objCreatedHandler) =>\r\n                    objCreatedHandler(data.payload)\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_EDITED:\r\n                this.logger.log(\r\n                    `Trigger object edited (${this.handlers.objEditedHandlers.length}).`\r\n                );\r\n                this.handlers.objEditedHandlers.forEach((objEditedHandler) =>\r\n                    objEditedHandler(data.payload)\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_DELETED:\r\n                this.logger.log(\r\n                    `Trigger object deleted (${this.handlers.objDeletedHandlers.length}).`\r\n                );\r\n                this.handlers.objDeletedHandlers.forEach((objDeletedHandler) =>\r\n                    objDeletedHandler(data.payload)\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_CONNECTED:\r\n                this.logger.log(\r\n                    `Trigger drawer connected handlers (${this.handlers.drawerConnectedHandlers.length}).`\r\n                );\r\n                this.handlers.drawerConnectedHandlers.forEach((drawerConnectedHandler) => {\r\n                    drawerConnectedHandler(data.payload.userlist);\r\n                });\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_DISCONNECTED:\r\n                this.logger.log(\r\n                    `Trigger drawer disconnected handlers (${this.handlers.drawerDisconnectedHandlers.length}).`\r\n                );\r\n                this.handlers.drawerDisconnectedHandlers.forEach((drawerDisconnectedHandler) =>\r\n                    drawerDisconnectedHandler(data.from)\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.DELETE_OBJECT:\r\n                this.logger.log(\r\n                    `Trigger delete object handlers (${this.handlers.objAskDeleteHandlers.length}).`\r\n                );\r\n                this.handlers.objAskDeleteHandlers.forEach((objAskDeleteHandler) =>\r\n                    objAskDeleteHandler(data)\r\n                );\r\n                break;\r\n            default:\r\n                this.logger.log(\r\n                    `Unexpected message type received ${data.type} - from ${data.from}.`\r\n                );\r\n        }\r\n    }\r\n    sendMessage(json) {\r\n        let message = null;\r\n        if (!json.type) {\r\n            this.logger.log(\"A message must have a type to be sent !\", json);\r\n        } else {\r\n            try {\r\n                message = JSON.stringify(json);\r\n                this.logger.log(\r\n                    `Sending ${json.type} to ${json.to === undefined ? \"server\" : json.to}.`\r\n                );\r\n            } catch (error) {\r\n                this.logger.log(\r\n                    \"Invalid message sent from the client socket. Unable to parse.\",\r\n                    error\r\n                );\r\n                message = {};\r\n            }\r\n            if (this.socketClient) {\r\n                this.socketClient.send(message);\r\n            } else {\r\n                alert(\"You have been disconnected, don't forgzt to reconnect\");\r\n            }\r\n        }\r\n    }\r\n\r\n    subscribeToEvent(eventName, handler, subscriber) {\r\n        switch (eventName) {\r\n            case constants.SOCKET_MSG.IDENTIFY_ANSWER:\r\n                this.handlers.identifiedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:\r\n                this.handlers.answerGetAllBoardsHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_GET_BOARD:\r\n                this.handlers.answerGetBoardHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_CREATE_BOARD:\r\n                this.handlers.answerCreatePaperBoardHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_JOIN_BOARD:\r\n                this.handlers.drawerJoinedBoardHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_LEFT_BOARD:\r\n                this.handlers.drawerLeftBoardHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.CHAT_MESSAGE:\r\n                this.handlers.chatMessageHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.ASK_DELETION:\r\n                this.handlers.askDeletionHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_LOCKED:\r\n                this.handlers.objLockedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_UNLOCKED:\r\n                this.handlers.objUnlockedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_CREATED:\r\n                this.handlers.objCreatedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_EDITED:\r\n                this.handlers.objEditedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_DELETED:\r\n                this.handlers.objDeletedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_CONNECTED:\r\n                this.handlers.drawerConnectedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_DISCONNECTED:\r\n                this.handlers.drawerDisconnectedHandlers.push(handler);\r\n                break;\r\n            case constants.SOCKET_MSG.DELETE_OBJECT:\r\n                this.handlers.objAskDeleteHandlers.push(handler);\r\n                break;\r\n            default:\r\n                this.logger.log(\r\n                    `Component [${subscriber}] attempted to subscribe to unexpected event [${eventName}].`\r\n                );\r\n        }\r\n        this.logger.log(`Component [${subscriber}] subscribed to ${eventName}.`);\r\n    }\r\n    unsubscribeToEvent(eventName, handler, subscriber) {\r\n        switch (eventName) {\r\n            case constants.SOCKET_MSG.IDENTIFY_ANSWER:\r\n                this.handlers.identifiedHandlers = this.handlers.identifiedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_GET_BOARD:\r\n                this.handlers.answerGetBoardHandlers = this.handlers.answerGetBoardHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:\r\n                this.handlers.answerGetAllBoardsHandlers = this.handlers.answerGetAllBoardsHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.ANSWER_CREATE_BOARD:\r\n                this.handlers.answerCreatePaperBoardHandlers = this.handlers.answerCreatePaperBoardHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_JOIN_BOARD:\r\n                this.handlers.drawerJoinedBoardHandlers = this.handlers.drawerJoinedBoardHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_LEFT_BOARD:\r\n                this.handlers.drawerLeftBoardHandlers = this.handlers.drawerLeftBoardHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.CHAT_MESSAGE:\r\n                this.handlers.chatMessageHandlers = this.handlers.chatMessageHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.ASK_DELETION:\r\n                this.handlers.askDeletionHandlers = this.handlers.askDeletionHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_LOCKED:\r\n                this.handlers.objLockedHandlers = this.handlers.objLockedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_UNLOCKED:\r\n                this.handlers.objUnlockedHandlers = this.handlers.objUnlockedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_CREATED:\r\n                this.handlers.objCreatedHandlers = this.handlers.objCreatedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_EDITED:\r\n                this.handlers.objEditedHandlers = this.handlers.objEditedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.OBJECT_DELETED:\r\n                this.handlers.objDeletedHandlers = this.handlers.objDeletedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_CONNECTED:\r\n                this.handlers.drawerConnectedHandler = this.handlers.drawerConnectedHandler.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            case constants.SOCKET_MSG.DRAWER_DISCONNECTED:\r\n                this.handlers.drawerDisconnectedHandlers = this.handlers.drawerDisconnectedHandlers.filter(\r\n                    (fn) => fn !== handler\r\n                );\r\n                break;\r\n            default:\r\n                this.logger.log(\r\n                    `Component [${subscriber}] attempted to unsubscribe from unexpected event [${eventName}].`\r\n                );\r\n        }\r\n        this.logger.log(`Component [${subscriber}] unsubscribed from ${eventName}.`);\r\n    }\r\n}\r\n\r\nconst socketClientInstance = new SocketClient();\r\nexport default socketClientInstance;\r\n","import React, {Component} from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport \"./WelcomePage.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport Background from \"../components/Background\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\nimport * as backgroundImage from \"../assets/welcome.jpg\";\r\n\r\nclass WelcomePage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {pseudo: \"\"};\r\n        socketClientInstance.init();\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.IDENTIFY_ANSWER,\r\n            this.handleServerLoginAnswer,\r\n            this\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.IDENTIFY_ANSWER,\r\n            this.handleServerLoginAnswer,\r\n            this\r\n        );\r\n    }\r\n\r\n    onLogin = (event) => {\r\n        event.preventDefault();\r\n        socketClientInstance.sendMessage({\r\n            type: constants.SOCKET_MSG.IDENTIFY,\r\n            from: \"client\",\r\n            to: \"server\",\r\n            payload: {pseudo: this.state.pseudo},\r\n        });\r\n    };\r\n\r\n    handleServerLoginAnswer = (data) => {\r\n        if (data.payload.pseudoAvailable && this.state.pseudo) {\r\n            this.props.history.push({\r\n                pathname: \"/lounge\",\r\n                state: {pseudo: this.state.pseudo},\r\n            });\r\n        } else {\r\n            alert(\r\n                \"A user with the pseudo \" +\r\n                    this.state.pseudo +\r\n                    \" is already connected. Please use another name\"\r\n            );\r\n        }\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        this.setState({pseudo: event.target.value});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Background\r\n                customStyle={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                }}\r\n                imgSrc={backgroundImage}>\r\n                <div className=\"card\" style={{width: \"fit-content\", borderRadius: \"10px\"}}>\r\n                    <div\r\n                        className=\"card-content\"\r\n                        style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>\r\n                        <p className=\"title is-1\" style={{textAlign: \"center\"}}>\r\n                            Welcome on PaperBoard !\r\n                        </p>\r\n                        <p className=\"subtitle is-4\" style={{textAlign: \"center\"}}>\r\n                            Don't think too much, draw it !\r\n                        </p>\r\n                        <div className=\"card\" style={{width: \"fit-content\", borderRadius: \"10px\"}}>\r\n                            <div\r\n                                className=\"card-content\"\r\n                                id=\"card-input\"\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    flexDirection: \"column\",\r\n                                    alignItems: \"center\",\r\n                                }}>\r\n                                <p className=\"title is-3\">Your pseudo ?</p>\r\n                                <div className=\"box\">\r\n                                    <form onSubmit={this.onLogin}>\r\n                                        <div className=\"field\">\r\n                                            <p className=\"control has-icons-left\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    className=\"input is-success is-medium\"\r\n                                                    placeholder=\"Pseudo\"\r\n                                                    value={this.state.value}\r\n                                                    onChange={this.handleChange}></input>\r\n                                            </p>\r\n                                        </div>\r\n                                    </form>\r\n                                    <div className=\"field\" style={{marginTop: 15}}>\r\n                                        <p className=\"control\">\r\n                                            <button\r\n                                                className=\"button is-success is-large\"\r\n                                                onClick={this.onLogin}>\r\n                                                Go !\r\n                                            </button>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Background>\r\n        );\r\n    }\r\n}\r\n\r\nWelcomePage.propTypes = {\r\n    history: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(WelcomePage);\r\n","import React, {Component} from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getAllPaperBoards, getPaperBoard} from \"../services/paperboards\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./LoungePage.scss\";\r\nimport Background from \"../components/Background\";\r\nimport MaterialTable from \"material-table\";\r\nimport * as moment from \"moment\";\r\nimport * as backgroundImage from \"../assets/wood.jpg\";\r\nimport {Refresh} from \"@material-ui/icons\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\n\r\nconst columns = [\r\n    {\r\n        title: \"Title\",\r\n        field: \"title\",\r\n    },\r\n    {\r\n        title: \"Nb of participants\",\r\n        field: \"numberOfConnectedUser\",\r\n    },\r\n    {\r\n        title: \"Creation date\",\r\n        field: \"creationDate\",\r\n    },\r\n];\r\n\r\nclass LoungePage extends Component {\r\n    state = {\r\n        pseudo: \"must auth\",\r\n        paperboards: [],\r\n        chosenPaperboard: null,\r\n    };\r\n\r\n    defaultBoardTitle = \"default-paper-board\";\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentName = \"LoungePage\";\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location && this.props.location.state) {\r\n            const {\r\n                location: {\r\n                    state: {pseudo},\r\n                },\r\n            } = this.props;\r\n            this.setState({pseudo});\r\n        }\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_GET_ALL_BOARDS,\r\n            this.handleAnswerGetAllBoards,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\r\n            this.handleAnswerGetBoard,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            this.handleJoinBoardServerResponse,\r\n            this.componentName\r\n        );\r\n        this.getAllPaperBoards();\r\n        this.loopGetAllPaperBoards();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            this.handleJoinBoardServerResponse,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\r\n            this.handleAnswerGetBoard,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            this.handleJoinBoardServerResponse,\r\n            this.componentName\r\n        );\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n    }\r\n\r\n    getAllPaperBoards = () => {\r\n        socketClientInstance.sendMessage({\r\n            type: constants.SOCKET_MSG.GET_ALL_BOARDS,\r\n            from: this.state.pseudo,\r\n            to: \"server\",\r\n            payload: {},\r\n        });\r\n    };\r\n    handleAnswerGetAllBoards = (data) => {\r\n        this.setState({paperboards: data.paperboards});\r\n    };\r\n\r\n    loopGetAllPaperBoards = () => {\r\n        this.timeout = setTimeout(() => {\r\n            this.getAllPaperBoards();\r\n            this.loopGetAllPaperBoards();\r\n        }, 30000);\r\n    };\r\n\r\n    onCreatePaperBoard = () => {\r\n        this.props.history.push({pathname: \"/new-board\", state: {pseudo: this.state.pseudo}});\r\n    };\r\n\r\n    goToPaperBoard = (title) => {\r\n        socketClientInstance.sendMessage({\r\n            type: constants.SOCKET_MSG.GET_BOARD,\r\n            from: this.state.pseudo,\r\n            to: \"server\",\r\n            payload: {title},\r\n        });\r\n    };\r\n\r\n    handleAnswerGetBoard = (data) => {\r\n        this.setState({chosenPaperboard: data.paperboard}, () => {\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.JOIN_BOARD,\r\n                from: this.state.pseudo,\r\n                to: \"server\",\r\n                payload: {board: data.paperboard.title},\r\n            });\r\n        });\r\n    };\r\n\r\n    handleJoinBoardServerResponse = (drawers) => {\r\n        const {pseudo, chosenPaperboard} = this.state;\r\n        if (chosenPaperboard) {\r\n            this.props.history.push({\r\n                pathname: `/paperboard/${chosenPaperboard.title}`,\r\n                state: {paperboard: chosenPaperboard, pseudo, drawers},\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {pseudo, paperboards} = this.state;\r\n        paperboards.map((paperboard) => {\r\n            paperboard.creationDate = moment(paperboard.creationDate).format(\r\n                \"dddd, MMMM Do YYYY, h:mm:ss a\"\r\n            );\r\n            paperboard.drawers = paperboard.drawers.length;\r\n            return paperboard;\r\n        });\r\n        return (\r\n            <Background\r\n                customStyle={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                }}\r\n                imgSrc={backgroundImage}>\r\n                <h1\r\n                    style={{\r\n                        fontWeight: \"bold\",\r\n                        fontSize: \"3em\",\r\n                        marginBottom: 5,\r\n                        color: \"white\",\r\n                        textAlign: \"center\",\r\n                    }}>\r\n                    {`${pseudo.charAt(0).toUpperCase()}${pseudo.substring(\r\n                        1\r\n                    )}, find your place of inspiration !`}\r\n                </h1>\r\n                <div className=\"card\" style={{borderRadius: \"10px\"}}>\r\n                    <div className=\"card-content\">\r\n                        <p className=\"title is-1\" style={{textAlign: \"center\"}}>\r\n                            Join a Board\r\n                        </p>\r\n                        <MaterialTable\r\n                            title={\r\n                                <div\r\n                                    style={{\r\n                                        display: \"flex\",\r\n                                        flex: 1,\r\n                                        justifyContent: \"space-between\",\r\n                                        alignItems: \"center\",\r\n                                    }}>\r\n                                    Boards\r\n                                    <IconButton\r\n                                        onClick={this.getAllPaperBoards}\r\n                                        style={{marginLeft: 30}}>\r\n                                        <Refresh />\r\n                                    </IconButton>\r\n                                </div>\r\n                            }\r\n                            columns={columns}\r\n                            data={paperboards}\r\n                            actions={[\r\n                                {\r\n                                    title: \"Join\",\r\n                                    icon: \"create\",\r\n                                    tooltip: \"Join\",\r\n                                    onClick: (event, rowData) => this.goToPaperBoard(rowData.title),\r\n                                },\r\n                            ]}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"field\" style={{marginTop: 15}}>\r\n                    <p className=\"control\">\r\n                        <button\r\n                            className=\"button is-success is-large\"\r\n                            onClick={this.onCreatePaperBoard}>\r\n                            Create a new Paperboard\r\n                        </button>\r\n                    </p>\r\n                </div>\r\n            </Background>\r\n        );\r\n    }\r\n}\r\n\r\nLoungePage.propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(LoungePage);\r\n","import React, {Component} from \"react\";\r\nimport \"./ColorPicker.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst getColorList = (handleClick, listField, type) => {\r\n    const list = [];\r\n    // eslint-disable-next-line guard-for-in\r\n    for (const key in listField) {\r\n        list.push(\r\n            <div\r\n                className=\"dropdown-item\"\r\n                key={listField[key]}\r\n                onClick={() => handleClick({item: key, value: listField[key]})}>\r\n                <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    {type === \"color\" ? (\r\n                        <p style={{color: listField[key], fontSize: \"3em\"}}>&#9632;</p>\r\n                    ) : (\r\n                        <div style={{fontSize: \"3em\"}}>{listField[key]}</div>\r\n                    )}\r\n                </div>\r\n                <hr className=\"dropdown-divider\"></hr>\r\n            </div>\r\n        );\r\n    }\r\n    return list;\r\n};\r\n// type : color or number\r\nclass ColorPicker extends Component {\r\n    render() {\r\n        const {color, hexColorCode, handleClick, listField, field, type} = this.props;\r\n        return (\r\n            <div className=\"dropdown\">\r\n                <div className=\"dropdown is-hoverable\">\r\n                    <div className=\"dropdown-trigger\">\r\n                        <button\r\n                            className=\"button\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-controls=\"dropdown-menu4\">\r\n                            {type === \"color\" && (\r\n                                <p\r\n                                    style={{\r\n                                        color: hexColorCode,\r\n                                        marginRight: \"5%\",\r\n                                    }}>\r\n                                    &#9632;\r\n                                </p>\r\n                            )}\r\n                            <span>{color ? color : field}</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"dropdown-menu\" id=\"dropdown-menu4\" role=\"menu\">\r\n                        <div className=\"dropdown-content\">\r\n                            {getColorList(handleClick, listField, type)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nColorPicker.propTypes = {\r\n    color: PropTypes.any,\r\n    hexColorCode: PropTypes.any,\r\n    handleClick: PropTypes.any,\r\n    listField: PropTypes.any,\r\n    field: PropTypes.any,\r\n    type: PropTypes.any,\r\n};\r\nexport default ColorPicker;\r\n","const colors = {\r\n    transparent: \"transparent\",\r\n    antiquewhite: \"#faebd7\",\r\n    aquamarine: \"#7fffd4\",\r\n    azure: \"#f0ffff\",\r\n    beige: \"#f5f5dc\",\r\n    bisque: \"#ffe4c4\",\r\n    black: \"#000000\",\r\n    blanchedalmond: \"#ffebcd\",\r\n    blue: \"#0000ff\",\r\n    blueviolet: \"#8a2be2\",\r\n    brown: \"#a52a2a\",\r\n    burlywood: \"#deb887\",\r\n    cadetblue: \"#5f9ea0\",\r\n    chartreuse: \"#7fff00\",\r\n    chocolate: \"#d2691e\",\r\n    coral: \"#ff7f50\",\r\n    cornflowerblue: \"#6495ed\",\r\n    cornsilk: \"#fff8dc\",\r\n    crimson: \"#dc143c\",\r\n    cyan: \"#00ffff\",\r\n    darkblue: \"#00008b\",\r\n    darkcyan: \"#008b8b\",\r\n    darkgoldenrod: \"#b8860b\",\r\n    darkgray: \"#a9a9a9\",\r\n    darkgreen: \"#006400\",\r\n    darkkhaki: \"#bdb76b\",\r\n    darkmagenta: \"#8b008b\",\r\n    darkolivegreen: \"#556b2f\",\r\n    darkorange: \"#ff8c00\",\r\n    darkorchid: \"#9932cc\",\r\n    darkred: \"#8b0000\",\r\n    darksalmon: \"#e9967a\",\r\n    darkseagreen: \"#8fbc8f\",\r\n    darkslateblue: \"#483d8b\",\r\n    darkslategray: \"#2f4f4f\",\r\n    darkturquoise: \"#00ced1\",\r\n    darkviolet: \"#9400d3\",\r\n    deeppink: \"#ff1493\",\r\n    deepskyblue: \"#00bfff\",\r\n    dimgray: \"#696969\",\r\n    dodgerblue: \"#1e90ff\",\r\n    firebrick: \"#b22222\",\r\n    floralwhite: \"#fffaf0\",\r\n    forestgreen: \"#228b22\",\r\n    fuchsia: \"#ff00ff\",\r\n    gainsboro: \"#dcdcdc\",\r\n    ghostwhite: \"#f8f8ff\",\r\n    gold: \"#ffd700\",\r\n    goldenrod: \"#daa520\",\r\n    gray: \"#808080\",\r\n    green: \"#008000\",\r\n    greenyellow: \"#adff2f\",\r\n    honeydew: \"#f0fff0\",\r\n    hotpink: \"#ff69b4\",\r\n    \"indianred \": \"#cd5c5c\",\r\n    indigo: \"#4b0082\",\r\n    ivory: \"#fffff0\",\r\n    khaki: \"#f0e68c\",\r\n    lavender: \"#e6e6fa\",\r\n    lavenderblush: \"#fff0f5\",\r\n    lawngreen: \"#7cfc00\",\r\n    lemonchiffon: \"#fffacd\",\r\n    lightblue: \"#add8e6\",\r\n    lightcoral: \"#f08080\",\r\n    lightcyan: \"#e0ffff\",\r\n    lightgoldenrodyellow: \"#fafad2\",\r\n    lightgrey: \"#d3d3d3\",\r\n    lightgreen: \"#90ee90\",\r\n    lightpink: \"#ffb6c1\",\r\n    lightsalmon: \"#ffa07a\",\r\n    lightseagreen: \"#20b2aa\",\r\n    lightskyblue: \"#87cefa\",\r\n    lightslategray: \"#778899\",\r\n    lightsteelblue: \"#b0c4de\",\r\n    lightyellow: \"#ffffe0\",\r\n    lime: \"#00ff00\",\r\n    limegreen: \"#32cd32\",\r\n    linen: \"#faf0e6\",\r\n    maroon: \"#800000\",\r\n    mediumaquamarine: \"#66cdaa\",\r\n    mediumblue: \"#0000cd\",\r\n    mediumorchid: \"#ba55d3\",\r\n    mediumpurple: \"#9370d8\",\r\n    mediumseagreen: \"#3cb371\",\r\n    mediumslateblue: \"#7b68ee\",\r\n    mediumspringgreen: \"#00fa9a\",\r\n    mediumturquoise: \"#48d1cc\",\r\n    mediumvioletred: \"#c71585\",\r\n    midnightblue: \"#191970\",\r\n    mintcream: \"#f5fffa\",\r\n    mistyrose: \"#ffe4e1\",\r\n    moccasin: \"#ffe4b5\",\r\n    navajowhite: \"#ffdead\",\r\n    navy: \"#000080\",\r\n    oldlace: \"#fdf5e6\",\r\n    olive: \"#808000\",\r\n    olivedrab: \"#6b8e23\",\r\n    orange: \"#ffa500\",\r\n    orangered: \"#ff4500\",\r\n    orchid: \"#da70d6\",\r\n    palegoldenrod: \"#eee8aa\",\r\n    palegreen: \"#98fb98\",\r\n    paleturquoise: \"#afeeee\",\r\n    palevioletred: \"#d87093\",\r\n    papayawhip: \"#ffefd5\",\r\n    peachpuff: \"#ffdab9\",\r\n    peru: \"#cd853f\",\r\n    pink: \"#ffc0cb\",\r\n    plum: \"#dda0dd\",\r\n    powderblue: \"#b0e0e6\",\r\n    purple: \"#800080\",\r\n    rebeccapurple: \"#663399\",\r\n    red: \"#ff0000\",\r\n    rosybrown: \"#bc8f8f\",\r\n    royalblue: \"#4169e1\",\r\n    saddlebrown: \"#8b4513\",\r\n    salmon: \"#fa8072\",\r\n    sandybrown: \"#f4a460\",\r\n    seagreen: \"#2e8b57\",\r\n    seashell: \"#fff5ee\",\r\n    sienna: \"#a0522d\",\r\n    silver: \"#c0c0c0\",\r\n    skyblue: \"#87ceeb\",\r\n    slateblue: \"#6a5acd\",\r\n    slategray: \"#708090\",\r\n    snow: \"#fffafa\",\r\n    springgreen: \"#00ff7f\",\r\n    steelblue: \"#4682b4\",\r\n    tan: \"#d2b48c\",\r\n    teal: \"#008080\",\r\n    thistle: \"#d8bfd8\",\r\n    tomato: \"#ff6347\",\r\n    turquoise: \"#40e0d0\",\r\n    violet: \"#ee82ee\",\r\n    wheat: \"#f5deb3\",\r\n    white: \"#ffffff\",\r\n    whitesmoke: \"#f5f5f5\",\r\n    yellow: \"#ffff00\",\r\n    yellowgreen: \"#9acd32\",\r\n};\r\n\r\nexport {colors};\r\n","import React, {Component} from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {createPaperBoard} from \"../services/paperboards\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./CreateBoardPage.scss\";\r\nimport Background from \"../components/Background\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\nimport * as backgroundImage from \"../assets/Wood-4.jpg\";\r\nimport ColorPicker from \"../components/Picker\";\r\nimport {colors} from \"../utils/colors\";\r\n\r\nclass CreateBoardPage extends Component {\r\n    state = {\r\n        title: \"\",\r\n        color: \"\",\r\n        hexColorCode: \"\",\r\n        isBackgroundColor: false,\r\n        isBackgroundImage: false,\r\n        isSwitchBgColorDisabled: false,\r\n        isSwitchBgImageDisabled: false,\r\n        paperboard: null,\r\n        pseudo: \"\",\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentName = \"CreateBoardPage\";\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        const {\r\n            location: {state},\r\n        } = this.props;\r\n        this.setState({pseudo: state ? state.pseudo : \"\"});\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_CREATE_BOARD,\r\n            this.handleAnswerCreateBoard,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\r\n            this.handleAnswerGetBoard,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            this.handleJoinBoardServerResponse,\r\n            this.componentName\r\n        );\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_CREATE_BOARD,\r\n            this.handleAnswerCreateBoard,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.ANSWER_GET_BOARD,\r\n            this.handleAnswerGetBoard,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            this.handleJoinBoardServerResponse,\r\n            this.componentName\r\n        );\r\n    }\r\n\r\n    defaultBoardTitle = \"default-paper-board\";\r\n\r\n    handleTitleChanges = (event) => {\r\n        this.setState({title: event.target.value});\r\n    };\r\n\r\n    handleColor = (response) => {\r\n        const {item: color, value: hexColorCode} = response;\r\n        this.setState({color, hexColorCode});\r\n    };\r\n\r\n    onCreatePaperBoard = () => {\r\n        const {title} = this.state;\r\n        socketClientInstance.sendMessage({\r\n            type: constants.SOCKET_MSG.CREATE_BOARD,\r\n            from: this.state.pseudo,\r\n            to: \"server\",\r\n            payload: {\r\n                title,\r\n            },\r\n        });\r\n    };\r\n\r\n    handleAnswerCreateBoard = (data) => {\r\n        const {title} = this.state;\r\n        if (data.created === true) {\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.GET_BOARD,\r\n                from: this.state.pseudo,\r\n                to: \"server\",\r\n                payload: {title},\r\n            });\r\n        } else {\r\n            alert(\r\n                \"A board with the name \" + title + \" already exists. Plesae consider another name\"\r\n            );\r\n        }\r\n    };\r\n\r\n    handleAnswerGetBoard = (data) => {\r\n        this.setState({paperboard: data.paperboard}, () => {\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.JOIN_BOARD,\r\n                from: this.state.pseudo,\r\n                to: \"server\",\r\n                payload: {board: data.paperboard.title},\r\n            });\r\n        });\r\n    };\r\n\r\n    handleJoinBoardServerResponse = (drawers) => {\r\n        const {pseudo, paperboard} = this.state;\r\n        this.props.history.push({\r\n            pathname: `/paperboard/${paperboard.title}`,\r\n            state: {paperboard, pseudo, drawers},\r\n        });\r\n    };\r\n\r\n    handleSwitch = (name) => (event) => {\r\n        if (name === \"bgColor\") {\r\n            this.setState({\r\n                isBackgroundColor: event.target.checked,\r\n                isBackgroundImage: false,\r\n                isSwitchBgColorDisabled: false,\r\n                isSwitchBgImageDisabled: event.target.checked,\r\n            });\r\n        } else {\r\n            this.setState({\r\n                isBackgroundColor: false,\r\n                isBackgroundImage: event.target.checked,\r\n                isSwitchBgColorDisabled: event.target.checked,\r\n                isSwitchBgImageDisabled: false,\r\n            });\r\n        }\r\n        this.setState({color: \"\", hexColorCode: \"\"});\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            color,\r\n            hexColorCode,\r\n            isBackgroundColor,\r\n            isSwitchBgImageDisabled,\r\n            isSwitchBgColorDisabled,\r\n            isBackgroundImage,\r\n        } = this.state;\r\n        return (\r\n            <Background\r\n                customStyle={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                }}\r\n                imgSrc={backgroundImage}>\r\n                <div className=\"card\" style={{borderRadius: \"10px\"}}>\r\n                    <div className=\"card-content\">\r\n                        <p className=\"title is-1\" style={{textAlign: \"center\"}}>\r\n                            Set up your board and create it !\r\n                        </p>\r\n                        <div className=\"field\">\r\n                            <p className=\"control has-icons-left\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"input is-large is-success\"\r\n                                    placeholder=\"Title - required\"\r\n                                    value={this.state.title}\r\n                                    onChange={this.handleTitleChanges}></input>\r\n                                <span className=\"icon is-small is-left\">\r\n                                    <i className=\"fas fa-lock\"></i>\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <FormGroup row>\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Switch\r\n                                            checked={isBackgroundColor}\r\n                                            onChange={this.handleSwitch(\"bgColor\")}\r\n                                            value=\"checkedA\"\r\n                                        />\r\n                                    }\r\n                                    disabled={isSwitchBgColorDisabled}\r\n                                    label=\"Background Color\"\r\n                                />\r\n                                <FormControlLabel\r\n                                    control={\r\n                                        <Switch\r\n                                            checked={isBackgroundImage}\r\n                                            onChange={this.handleSwitch(\"bgImage\")}\r\n                                            value=\"checkedB\"\r\n                                            color=\"primary\"\r\n                                        />\r\n                                    }\r\n                                    disabled={isSwitchBgImageDisabled}\r\n                                    label=\"Background Image\"\r\n                                />\r\n                            </FormGroup>\r\n                        </div>\r\n                        <div className=\"empty-div\">\r\n                            {isBackgroundColor ? (\r\n                                <ColorPicker\r\n                                    color={color}\r\n                                    hexColorCode={hexColorCode}\r\n                                    handleClick={this.handleColor}\r\n                                    listField={colors}\r\n                                    field={\"Background color\"}\r\n                                    type={\"color\"}\r\n                                />\r\n                            ) : null}\r\n                            {isBackgroundImage ? <div>todo</div> : null}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"field\" style={{marginTop: 15}}>\r\n                    <p className=\"control\">\r\n                        <button\r\n                            className=\"button is-success is-large\"\r\n                            onClick={this.onCreatePaperBoard}>\r\n                            Create !\r\n                        </button>\r\n                    </p>\r\n                </div>\r\n            </Background>\r\n        );\r\n    }\r\n}\r\n\r\nCreateBoardPage.propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(CreateBoardPage);\r\n","import * as color from \"string-to-color\";\r\n\r\nconst generateCanvasObjectCircle = function(\r\n    ctx,\r\n    refX,\r\n    refY,\r\n    refW,\r\n    refH,\r\n    id,\r\n    owner,\r\n    creationOptions = {}\r\n) {\r\n    const Circle = {\r\n        type: \"circle\",\r\n        id,\r\n        name: `circle-${id}`,\r\n        owner,\r\n\r\n        ctx: ctx,\r\n        refX: refX,\r\n        refY: refY,\r\n        refW: refW,\r\n        refH: refH,\r\n\r\n        X: creationOptions.X || (refX + refW) / 2,\r\n        Y: creationOptions.Y || (refY + refH) / 2,\r\n        radius: creationOptions.radius || 50,\r\n        lineWidth: creationOptions.lineWidth || 10,\r\n        lineColor: creationOptions.lineColor || \"red\",\r\n        lineStyle: creationOptions.lineStyle || \"normal\",\r\n        fillColor: creationOptions.fillColor || \"transparent\",\r\n\r\n        isLocked: creationOptions.isLocked || false,\r\n        lockedBy: creationOptions.lockedBy || \"\",\r\n        previousState: {\r\n            X: creationOptions.X || (refX + refW) / 2,\r\n            Y: creationOptions.Y || (refY + refH) / 2,\r\n            radius: creationOptions.radius || 50,\r\n            lineWidth: creationOptions.lineWidth || 10,\r\n            lineColor: creationOptions.lineColor || \"red\",\r\n            lineStyle: creationOptions.lineStyle || \"normal\",\r\n            fillColor: creationOptions.fillColor || \"transparent\",\r\n        },\r\n        editionState: null, // null | \"Resizing radius\" | \"Moving\" | ...\r\n        oldDragX: null,\r\n        oldDragY: null,\r\n\r\n        refreshArea: function(x1, y1, x2, y2) {\r\n            this.ctx.save();\r\n\r\n            this.ctx.beginPath();\r\n            this.ctx.lineWidth = this.lineWidth;\r\n            this.ctx.strokeStyle = this.lineColor;\r\n            this.ctx.arc(this.X, this.Y, this.radius, 0, 2 * Math.PI, true);\r\n            if (this.lineStyle === \"dashed\") {\r\n                this.ctx.setLineDash([8, 8]);\r\n            }\r\n            this.ctx.stroke();\r\n\r\n            if (this.fillColor !== \"transparent\") {\r\n                this.ctx.fillStyle = this.fillColor;\r\n                this.ctx.fill();\r\n            }\r\n\r\n            if (this.isLocked) {\r\n                const margin = 15;\r\n\r\n                // Dashed selection rectangle\r\n                this.ctx.beginPath();\r\n                this.ctx.strokeStyle = color(this.lockedBy);\r\n                this.ctx.lineWidth = 5;\r\n                this.ctx.setLineDash([8, 8]);\r\n                this.ctx.rect(\r\n                    this.X - this.radius - margin,\r\n                    this.Y - this.radius - margin,\r\n                    2 * (this.radius + margin),\r\n                    2 * (this.radius + margin)\r\n                );\r\n                this.ctx.stroke();\r\n\r\n                // NorthWest Corner\r\n                this.ctx.strokeStyle = color(this.lockedBy);\r\n                this.ctx.setLineDash([]);\r\n                this.ctx.beginPath();\r\n                this.ctx.arc(\r\n                    this.X - this.radius - margin,\r\n                    this.Y - this.radius - margin,\r\n                    10,\r\n                    0,\r\n                    2 * Math.PI\r\n                );\r\n                this.ctx.stroke();\r\n                this.ctx.fillStyle = color(this.lockedBy);\r\n                this.ctx.fill();\r\n\r\n                // SouthEast Corner\r\n                this.ctx.beginPath();\r\n                this.ctx.arc(\r\n                    this.X + this.radius + margin,\r\n                    this.Y + this.radius + margin,\r\n                    10,\r\n                    0,\r\n                    2 * Math.PI\r\n                );\r\n                this.ctx.stroke();\r\n                this.ctx.fillStyle = color(this.lockedBy);\r\n                this.ctx.fill();\r\n            }\r\n\r\n            this.ctx.restore();\r\n        },\r\n\r\n        applyModifications: function(payload) {\r\n            const keys = Object.keys(this.previousState);\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (payload.hasOwnProperty(keys[i])) {\r\n                    const newValue = isNaN(this.previousState[keys[i]])\r\n                        ? payload[keys[i]]\r\n                        : Number(payload[keys[i]]);\r\n                    this[keys[i]] = newValue;\r\n                    this.previousState[keys[i]] = newValue;\r\n                }\r\n            }\r\n        },\r\n\r\n        onMouseDown: function(x, y, myPseudo) {\r\n            const movingSquareRadius = this.radius * this.radius;\r\n            const resizingSquareRadius =\r\n                (this.radius + this.lineWidth + 10) * (this.radius + this.lineWidth + 10);\r\n            const squareDistance = (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y);\r\n            if (!this.isLocked && squareDistance < resizingSquareRadius) {\r\n                return true;\r\n            } else if (this.lockedBy === myPseudo && squareDistance < movingSquareRadius) {\r\n                this.editionState = \"Moving\";\r\n                this.oldDragX = x;\r\n                this.oldDragY = y;\r\n                return true;\r\n            } else if (this.lockedBy === myPseudo && squareDistance < resizingSquareRadius) {\r\n                this.editionState = \"Resizing radius\";\r\n                this.oldDragX = x;\r\n                this.oldDragY = y;\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseHover: function(x, y, myPseudo) {\r\n            const movingSquareRadius = this.radius * this.radius;\r\n            const resizingSquareRadius =\r\n                (this.radius + this.lineWidth + 10) * (this.radius + this.lineWidth + 10);\r\n            const squareDistance = (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y);\r\n            if (!this.isLocked && squareDistance < resizingSquareRadius) {\r\n                const elementToChange = document.getElementsByTagName(\"body\")[0];\r\n                elementToChange.style.cursor = \"url('cursor url with protocol'), pointer\";\r\n                return true;\r\n            } else if (this.lockedBy === myPseudo && squareDistance < movingSquareRadius) {\r\n                const elementToChange = document.getElementsByTagName(\"body\")[0];\r\n                elementToChange.style.cursor = \"url('cursor url with protocol'), move\";\r\n                return true;\r\n            } else if (this.lockedBy === myPseudo && squareDistance < resizingSquareRadius) {\r\n                const elementToChange = document.getElementsByTagName(\"body\")[0];\r\n                elementToChange.style.cursor = \"url('cursor url with protocol'), grab\";\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseDrag: function(x, y, myPseudo) {\r\n            if (this.lockedBy === myPseudo && this.editionState === \"Resizing radius\") {\r\n                const oldDist = Math.sqrt(\r\n                    (this.oldDragX - this.X) * (this.oldDragX - this.X) +\r\n                        (this.oldDragY - this.Y) * (this.oldDragY - this.Y)\r\n                );\r\n                const newDist = Math.sqrt(\r\n                    (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y)\r\n                );\r\n                this.radius += newDist - oldDist;\r\n                this.oldDragX = x;\r\n                this.oldDragY = y;\r\n                return true;\r\n            } else if (this.lockedBy === myPseudo && this.editionState === \"Moving\") {\r\n                this.X += x - this.oldDragX;\r\n                this.Y += y - this.oldDragY;\r\n                this.oldDragX = x;\r\n                this.oldDragY = y;\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n\r\n        onMouseUp: function(x, y, myPseudo) {\r\n            this.editionState = null;\r\n            this.oldDragX = null;\r\n            this.oldDragY = null;\r\n            const result = {modifications: {}, shouldUnlock: false};\r\n            const keys = Object.keys(this.previousState);\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (this.previousState[keys[i]] !== this[keys[i]]) {\r\n                    result.modifications[keys[i]] = this[keys[i]].toString();\r\n                    this.previousState[keys[i]] = this[keys[i]];\r\n                }\r\n            }\r\n\r\n            const resizingSquareRadius =\r\n                (this.radius + this.lineWidth + 10) * (this.radius + this.lineWidth + 10);\r\n            const squareDistance = (x - this.X) * (x - this.X) + (y - this.Y) * (y - this.Y);\r\n            if (this.lockedBy === myPseudo && squareDistance > resizingSquareRadius) {\r\n                result.shouldUnlock = true;\r\n            }\r\n            return result;\r\n        },\r\n    };\r\n    return Circle;\r\n};\r\n\r\nexport default generateCanvasObjectCircle;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactResizeDetector from \"react-resize-detector\";\r\nimport generateCanvasObjectCircle from \"./CanvasObject-Circle\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\n\r\nclass CanvasManager extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.componentName = \"CanvasManager\";\r\n        this.objPile = [];\r\n        this.state = {\r\n            ctx: null,\r\n            width: this.props.resolutionWidth,\r\n            height: this.props.resolutionHeight,\r\n        };\r\n        this.ctx = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ctx: this.canvas.getContext(\"2d\")}, () => {\r\n            this.objPile = this.generateObjectPile(this.props.drawings);\r\n        });\r\n        this.canvas.addEventListener(\"mousedown\", (e) => this.handleMouseDown(e));\r\n        this.canvas.addEventListener(\"mouseup\", (e) => this.handleMouseUp(e));\r\n        this.canvas.addEventListener(\"mousemove\", (e) => this.handleMouseMove(e));\r\n        this.canvas.addEventListener(\"mouseleave\", () => this.handleMouseLeave());\r\n\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_CREATED,\r\n            this.createCircle,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_EDITED,\r\n            this.onObjectEdited,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_LOCKED,\r\n            this.onObjectLocked,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_UNLOCKED,\r\n            this.onObjectUnlocked,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_DELETED,\r\n            this.onObjectDeleted,\r\n            this.componentName\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.canvas.removeEventListener(\"mousedown\", (e) => this.handleMouseDown(e));\r\n        this.canvas.removeEventListener(\"mouseup\", (e) => this.handleMouseUp(e));\r\n        this.canvas.removeEventListener(\"mousemove\", (e) => this.handleMouseMove(e));\r\n        this.canvas.removeEventListener(\"mouseleave\", () => this.handleMouseLeave());\r\n\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_CREATED,\r\n            this.createCircle,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_EDITED,\r\n            this.onObjectEdited,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_LOCKED,\r\n            this.onObjectLocked,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_UNLOCKED,\r\n            this.onObjectUnlocked,\r\n            this.componentName\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_DELETED,\r\n            this.onObjectDeleted,\r\n            this.componentName\r\n        );\r\n    }\r\n\r\n    generateObjectPile = (drawings) => {\r\n        const {ctx, width, height} = this.state;\r\n        const keys = Object.keys(drawings);\r\n        if (keys.length > 0) {\r\n            return keys.map((key) => {\r\n                const drawing = drawings[key];\r\n                switch (drawing.type) {\r\n                    case \"circle\":\r\n                        return generateCanvasObjectCircle(\r\n                            ctx,\r\n                            0,\r\n                            0,\r\n                            width,\r\n                            height,\r\n                            drawing.id,\r\n                            drawing.owner.pseudo,\r\n                            {\r\n                                X: drawing.position.x,\r\n                                Y: drawing.position.y,\r\n                                radius: drawing.radius,\r\n                                lineWidth: drawing.lineWidth,\r\n                                lineColor: drawing.lineColor,\r\n                                fillColor: drawing.fillColor,\r\n                                lineStyle: drawing.lineStyle,\r\n                                isLocked: drawing.isLocked,\r\n                                lockedBy: drawing.lockedBy,\r\n                            }\r\n                        );\r\n                }\r\n            });\r\n        } else {\r\n            return [];\r\n        }\r\n    };\r\n\r\n    // --- INTERACTIONS WITH OTHER COMPONENTS\r\n    createCircle = (data) => {\r\n        const newCircle = generateCanvasObjectCircle(\r\n            this.state.ctx,\r\n            0,\r\n            0,\r\n            this.state.width,\r\n            this.state.height,\r\n            data.id,\r\n            data.pseudo,\r\n            {\r\n                X: parseFloat(data.X),\r\n                Y: parseFloat(data.Y),\r\n                radius: parseFloat(data.radius),\r\n                lineWidth: parseFloat(data.lineWidth),\r\n                lineColor: data.lineColor,\r\n            }\r\n        );\r\n        this.objPile.push(newCircle);\r\n        newCircle.refreshArea(0, 0, this.state.width, this.state.height);\r\n    };\r\n\r\n    onObjectLocked = (payload) => {\r\n        const objectId = payload.drawingId;\r\n        const lockedBy = payload.pseudo;\r\n        let found = false;\r\n        let i = 0;\r\n        while (i < this.objPile.length && !found) {\r\n            if (this.objPile[i].id === objectId) {\r\n                found = true;\r\n            } else {\r\n                i += 1;\r\n            }\r\n        }\r\n        if (found) {\r\n            this.objPile[i].isLocked = true;\r\n            this.objPile[i].lockedBy = lockedBy;\r\n            this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\r\n            if (this.props.pseudo === lockedBy) {\r\n                const {\r\n                    pseudo,\r\n                    board: {title},\r\n                    setSelectedDrawing,\r\n                } = this.props;\r\n                setSelectedDrawing({pseudo, board: title, drawingId: objectId});\r\n            }\r\n        }\r\n    };\r\n    onObjectUnlocked = (payload) => {\r\n        const objectId = payload.drawingId;\r\n        let found = false;\r\n        let i = 0;\r\n        while (i < this.objPile.length && !found) {\r\n            if (this.objPile[i].id === objectId) {\r\n                found = true;\r\n            } else {\r\n                i += 1;\r\n            }\r\n        }\r\n        if (found) {\r\n            if (this.props.pseudo === this.objPile[i].lockedBy) {\r\n                const {setSelectedDrawing} = this.props;\r\n                setSelectedDrawing(null);\r\n            }\r\n            this.objPile[i].isLocked = false;\r\n            this.objPile[i].lockedBy = \"\";\r\n            this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\r\n        }\r\n    };\r\n    onObjectEdited = (payload) => {\r\n        for (let i = 0; i < this.objPile.length; i++) {\r\n            if (this.objPile[i].id === payload.drawingId) {\r\n                this.objPile[i].applyModifications(payload);\r\n            }\r\n        }\r\n        this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\r\n    };\r\n\r\n    onObjectDeleted = (payload) => {\r\n        this.objPile = this.objPile.filter((obj) => obj.id !== payload.drawingId);\r\n        this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\r\n    };\r\n\r\n    // --- CANVAS MANAGEMENT\r\n    _onResize() {\r\n        const margin = 20;\r\n        const maxWidth = this.parentContainer.clientWidth - margin;\r\n        const maxHeight = this.parentContainer.clientHeight - margin;\r\n        const parentContainerProp = maxHeight / maxWidth;\r\n\r\n        const canvasProp = this.props.resolutionHeight / this.props.resolutionWidth;\r\n\r\n        if (canvasProp > parentContainerProp) {\r\n            this.canvas.height = this.props.resolutionHeight;\r\n            this.canvas.style.height = `${maxHeight}px`;\r\n            this.canvas.width = this.props.resolutionWidth;\r\n            this.canvas.style.width = `${maxHeight / canvasProp}px`;\r\n        } else {\r\n            this.canvas.width = this.props.resolutionWidth;\r\n            this.canvas.style.width = `${maxWidth}px`;\r\n            this.canvas.height = this.props.resolutionHeight;\r\n            this.canvas.style.height = `${maxWidth * canvasProp}px`;\r\n        }\r\n\r\n        this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\r\n    }\r\n\r\n    refreshCanvasArea(x1, y1, x2, y2) {\r\n        this.state.ctx.clearRect(x1, y1, x2, y2);\r\n        for (let i = 0; i < this.objPile.length; i++) {\r\n            this.objPile[i].refreshArea(x1, y1, x2, y2);\r\n        }\r\n    }\r\n\r\n    // --- GESTURES MANAGEMENT\r\n    handleMouseDown(e) {\r\n        // Handle left click down\r\n        if (e.which === 1) {\r\n            const rect = this.canvas.getBoundingClientRect();\r\n            const x =\r\n                ((e.clientX - rect.left) * this.state.width) /\r\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\r\n            const y =\r\n                ((e.clientY - rect.top) * this.state.height) /\r\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\r\n            console.log(`Click !! x:${x}, y:${y}`);\r\n\r\n            let i = this.objPile.length;\r\n            let collisionIndex = null;\r\n            while (i--) {\r\n                if (\r\n                    this.objPile[i].onMouseDown &&\r\n                    this.objPile[i].onMouseDown(x, y, this.props.pseudo)\r\n                ) {\r\n                    collisionIndex = i;\r\n                    i = 0; // end of collision detection\r\n                }\r\n            }\r\n\r\n            // Unlock any other object not selected on this click\r\n            for (let i = 0; i < this.objPile.length; i++) {\r\n                if (i !== collisionIndex && this.objPile[i].lockedBy === this.props.pseudo) {\r\n                    // Unlock any object that has been previously locked\r\n                    socketClientInstance.sendMessage({\r\n                        type: constants.SOCKET_MSG.UNLOCK_OBJECT,\r\n                        from: this.props.pseudo,\r\n                        to: \"server\",\r\n                        payload: {\r\n                            drawingId: this.objPile[i].id,\r\n                        },\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Try to lock the selected object\r\n            if (collisionIndex !== null && !this.objPile[collisionIndex].isLocked) {\r\n                const object = this.objPile[collisionIndex];\r\n                socketClientInstance.sendMessage({\r\n                    type: constants.SOCKET_MSG.LOCK_OBJECT,\r\n                    from: this.props.pseudo,\r\n                    to: \"server\",\r\n                    payload: {\r\n                        drawingId: object.id,\r\n                    },\r\n                });\r\n            }\r\n\r\n            if (collisionIndex === null) {\r\n                console.log(this.objPile);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseMove(e) {\r\n        // Handle Move over canvas\r\n        if (e.which === 0) {\r\n            const rect = this.canvas.getBoundingClientRect();\r\n            const x =\r\n                ((e.clientX - rect.left) * this.state.width) /\r\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\r\n            const y =\r\n                ((e.clientY - rect.top) * this.state.height) /\r\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\r\n\r\n            let i = this.objPile.length;\r\n            let collisionIndex = null;\r\n            while (i--) {\r\n                if (\r\n                    this.objPile[i].onMouseHover &&\r\n                    this.objPile[i].onMouseHover(x, y, this.props.pseudo)\r\n                ) {\r\n                    collisionIndex = i;\r\n                    i = 0; // end of collision detection\r\n                }\r\n            }\r\n            if (collisionIndex === null) {\r\n                const elementToChange = document.getElementsByTagName(\"body\")[0];\r\n                elementToChange.style.cursor = \"url('cursor url with protocol'), default\";\r\n            }\r\n        } else if (e.which === 1) {\r\n            const rect = this.canvas.getBoundingClientRect();\r\n            const x =\r\n                ((e.clientX - rect.left) * this.state.width) /\r\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\r\n            const y =\r\n                ((e.clientY - rect.top) * this.state.height) /\r\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\r\n\r\n            let i = this.objPile.length;\r\n            let collisionIndex = null;\r\n            while (i--) {\r\n                if (\r\n                    this.objPile[i].onMouseDrag &&\r\n                    this.objPile[i].onMouseDrag(x, y, this.props.pseudo)\r\n                ) {\r\n                    collisionIndex = i;\r\n                    i = 0; // end of collision detection\r\n                }\r\n            }\r\n            if (collisionIndex !== null) {\r\n                this.refreshCanvasArea(0, 0, this.state.width, this.state.height);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseUp(e) {\r\n        const {\r\n            pseudo,\r\n            board: {title},\r\n        } = this.props;\r\n        // Handle left click up\r\n        if (e.which === 1) {\r\n            const rect = this.canvas.getBoundingClientRect();\r\n            const x =\r\n                ((e.clientX - rect.left) * this.state.width) /\r\n                Number(this.canvas.style.width.replace(\"px\", \"\"));\r\n            const y =\r\n                ((e.clientY - rect.top) * this.state.height) /\r\n                Number(this.canvas.style.height.replace(\"px\", \"\"));\r\n\r\n            for (let i = 0; i < this.objPile.length; i++) {\r\n                const report = this.objPile[i].onMouseUp(x, y, this.props.pseudo);\r\n                if (Object.keys(report.modifications).length > 0) {\r\n                    const payload = report.modifications;\r\n                    payload.pseudo = pseudo;\r\n                    payload.board = title;\r\n                    payload.drawingId = this.objPile[i].id;\r\n                    socketClientInstance.sendMessage({\r\n                        type: constants.SOCKET_MSG.EDIT_OBJECT,\r\n                        from: this.props.pseudo,\r\n                        to: \"server\",\r\n                        payload,\r\n                    });\r\n                }\r\n\r\n                if (report.shouldUnlock) {\r\n                    socketClientInstance.sendMessage({\r\n                        type: constants.SOCKET_MSG.UNLOCK_OBJECT,\r\n                        from: this.props.pseudo,\r\n                        to: \"server\",\r\n                        payload: {\r\n                            drawingId: this.objPile[i].id,\r\n                        },\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseLeave() {\r\n        const elementToChange = document.getElementsByTagName(\"body\")[0];\r\n        elementToChange.style.cursor = \"url('cursor url with protocol'), default\";\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                ref={(el) => (this.parentContainer = el)}\r\n                id=\"paperboard-canvas\"\r\n                style={{\r\n                    flex: 1,\r\n                    display: \"flex\",\r\n                    height: \"100%\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                }}>\r\n                <ReactResizeDetector handleWidth handleHeight onResize={() => this._onResize()} />\r\n                <canvas\r\n                    ref={(el) => (this.canvas = el)}\r\n                    id=\"canvascanvas\"\r\n                    style={{\r\n                        backgroundColor: \"white\",\r\n                        borderRadius: \"10px\",\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nCanvasManager.propTypes = {\r\n    resolutionWidth: PropTypes.any,\r\n    resolutionHeight: PropTypes.any,\r\n    toggleShapePanel: PropTypes.any,\r\n    board: PropTypes.any,\r\n    pseudo: PropTypes.any,\r\n    drawings: PropTypes.any,\r\n    setSelectedDrawing: PropTypes.any,\r\n};\r\nexport default CanvasManager;\r\n","const lineStyles = {\r\n    dashed: \"---\",\r\n    normal: \"\",\r\n};\r\n\r\nexport {lineStyles};\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport {ColorLens, Delete} from \"@material-ui/icons\";\r\nimport {Icon, Divider, ListSubheader} from \"@material-ui/core\";\r\nimport ColorPicker from \"./Picker\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\nimport {colors} from \"../utils/colors\";\r\nimport {lineSize} from \"../utils/lineSize\";\r\nimport {lineStyles} from \"../utils/lineStyle\";\r\n\r\nclass EditShapePanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLineColorPickerToggled: false,\r\n            isLineWidthPickerToggled: false,\r\n            isLineStylePickerToggled: false,\r\n            isFillColorPickerToggled: false,\r\n        };\r\n    }\r\n\r\n    // eslint-disable-next-line react/no-deprecated\r\n    componentWillReceiveProps(nextProps) {\r\n        if (\r\n            nextProps.selectedDrawing !== this.props.selectedDrawing &&\r\n            !nextProps.selectedDrawing\r\n        ) {\r\n            this.setState({\r\n                isLineColorPickerToggled: false,\r\n                isLineWidthPickerToggled: false,\r\n                isLineStylePickerToggled: false,\r\n                isFillColorPickerToggled: false,\r\n            });\r\n        }\r\n    }\r\n\r\n    onClickEditObject = (editionType) => {\r\n        switch (editionType) {\r\n            case \"Color\":\r\n                this.setState((prevState) => ({\r\n                    isLineColorPickerToggled: !prevState.isLineColorPickerToggled,\r\n                }));\r\n                break;\r\n            case \"Width\":\r\n                this.setState((prevState) => ({\r\n                    isLineWidthPickerToggled: !prevState.isLineWidthPickerToggled,\r\n                }));\r\n                break;\r\n            case \"LineStyle\":\r\n                this.setState((prevState) => ({\r\n                    isLineStylePickerToggled: !prevState.isLineStylePickerToggled,\r\n                }));\r\n                break;\r\n            case \"FillColor\":\r\n                this.setState((prevState) => ({\r\n                    isFillColorPickerToggled: !prevState.isFillColorPickerToggled,\r\n                }));\r\n                break;\r\n            default:\r\n                alert(editionType + \" not handled\");\r\n        }\r\n    };\r\n\r\n    handleColor = (resp) => {\r\n        const {selectedDrawing} = this.props;\r\n        const {value} = resp;\r\n        const payload = selectedDrawing;\r\n        if (payload) {\r\n            payload.lineColor = value;\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\r\n                from: payload.pseudo,\r\n                to: \"server\",\r\n                payload: payload,\r\n            });\r\n        }\r\n    };\r\n\r\n    handleLineWidth = (resp) => {\r\n        const {selectedDrawing} = this.props;\r\n        const {item} = resp;\r\n        const payload = selectedDrawing;\r\n        if (payload) {\r\n            payload.lineWidth = item;\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\r\n                from: payload.pseudo,\r\n                to: \"server\",\r\n                payload: payload,\r\n            });\r\n        }\r\n    };\r\n\r\n    handleLineStyle = (resp) => {\r\n        const {selectedDrawing} = this.props;\r\n        const {item} = resp;\r\n        const payload = selectedDrawing;\r\n        if (payload) {\r\n            payload.lineStyle = item;\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\r\n                from: payload.pseudo,\r\n                to: \"server\",\r\n                payload: payload,\r\n            });\r\n        }\r\n    };\r\n    handleColorFillColor = (resp) => {\r\n        const {selectedDrawing} = this.props;\r\n        const {value} = resp;\r\n        const payload = selectedDrawing;\r\n        if (payload) {\r\n            payload.fillColor = value;\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.EDIT_OBJECT,\r\n                from: payload.pseudo,\r\n                to: \"server\",\r\n                payload: payload,\r\n            });\r\n        }\r\n    };\r\n\r\n    handleDeleteObject = () => {\r\n        const {selectedDrawing} = this.props;\r\n        const payload = selectedDrawing;\r\n        if (payload) {\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.DELETE_OBJECT,\r\n                from: payload.pseudo,\r\n                to: \"server\",\r\n                payload: payload,\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            isLineColorPickerToggled,\r\n            isLineWidthPickerToggled,\r\n            isLineStylePickerToggled,\r\n            isFillColorPickerToggled,\r\n        } = this.state;\r\n        const {selectedDrawing} = this.props;\r\n        return (\r\n            <div style={{maxWidth: 360, backgroundColor: \"white\"}}>\r\n                <List\r\n                    component=\"nav\"\r\n                    aria-label=\"main mailbox folders\"\r\n                    subheader={\r\n                        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                            <div\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    alignItems: \"center\",\r\n                                    fontSize: \"2em\",\r\n                                }}>\r\n                                Edit\r\n                            </div>\r\n                        </ListSubheader>\r\n                    }>\r\n                    <ListItem\r\n                        button\r\n                        key={\"Color\"}\r\n                        onClick={() => this.onClickEditObject(\"Color\")}\r\n                        disabled={!selectedDrawing}>\r\n                        <ListItemIcon>\r\n                            <ColorLens />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Color\"} />\r\n                    </ListItem>\r\n                </List>\r\n                {isLineColorPickerToggled && (\r\n                    <>\r\n                        <ColorPicker\r\n                            color={\"\"}\r\n                            hexColorCode={\"\"}\r\n                            handleClick={this.handleColor}\r\n                            listField={colors}\r\n                            field={\"Line color\"}\r\n                            type={\"color\"}\r\n                        />\r\n                    </>\r\n                )}\r\n                <List>\r\n                    <ListItem\r\n                        button\r\n                        key={\"FillColor\"}\r\n                        onClick={() => this.onClickEditObject(\"FillColor\")}\r\n                        disabled={!selectedDrawing}>\r\n                        <ListItemIcon>\r\n                            <Icon>\r\n                                <img src={require(\"../assets/fillColor.png\")} alt=\"\" />\r\n                            </Icon>\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Fill Color\"} />\r\n                    </ListItem>\r\n                </List>\r\n                {isFillColorPickerToggled && (\r\n                    <>\r\n                        <ColorPicker\r\n                            color={\"\"}\r\n                            hexColorCode={\"\"}\r\n                            handleClick={this.handleColorFillColor}\r\n                            listField={colors}\r\n                            field={\"Fill color\"}\r\n                            type={\"color\"}\r\n                        />\r\n                    </>\r\n                )}\r\n                <List>\r\n                    <ListItem\r\n                        button\r\n                        key={\"Width\"}\r\n                        onClick={() => this.onClickEditObject(\"Width\")}\r\n                        disabled={!selectedDrawing}>\r\n                        <ListItemIcon>\r\n                            <Icon>\r\n                                <img src={require(\"../assets/width.png\")} alt=\"\" />\r\n                            </Icon>\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Width\"} />\r\n                    </ListItem>\r\n                </List>\r\n                {isLineWidthPickerToggled && (\r\n                    <>\r\n                        <ColorPicker\r\n                            color={\"\"}\r\n                            hexColorCode={\"\"}\r\n                            handleClick={this.handleLineWidth}\r\n                            listField={lineSize}\r\n                            field={\"Line width\"}\r\n                        />\r\n                    </>\r\n                )}\r\n                <List>\r\n                    <ListItem\r\n                        button\r\n                        key={\"LineStyle\"}\r\n                        onClick={() => this.onClickEditObject(\"LineStyle\")}\r\n                        disabled={!selectedDrawing}>\r\n                        <ListItemIcon>\r\n                            <Icon>\r\n                                <img src={require(\"../assets/lineStyle.png\")} alt=\"\" />\r\n                            </Icon>\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Line Style\"} />\r\n                    </ListItem>\r\n                </List>\r\n                {isLineStylePickerToggled && (\r\n                    <>\r\n                        <ColorPicker\r\n                            color={\"\"}\r\n                            hexColorCode={\"\"}\r\n                            handleClick={this.handleLineStyle}\r\n                            listField={lineStyles}\r\n                            field={\"Line style\"}\r\n                        />\r\n                    </>\r\n                )}\r\n                <Divider />\r\n                <List>\r\n                    <ListItem\r\n                        button\r\n                        key={\"Delete\"}\r\n                        onClick={this.handleDeleteObject}\r\n                        disabled={!selectedDrawing}>\r\n                        <ListItemIcon>\r\n                            <Delete />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Delete\"} />\r\n                    </ListItem>\r\n                </List>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nEditShapePanel.propTypes = {\r\n    onClickEditObject: PropTypes.any,\r\n    selectedDrawing: PropTypes.any,\r\n};\r\nexport default EditShapePanel;\r\n","import React, {Component} from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\nimport PropTypes from \"prop-types\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport {\r\n    TextFields as TextFieldIcon,\r\n    Photo,\r\n    Maximize,\r\n    CropLandscape,\r\n    Edit,\r\n    PanoramaFishEye,\r\n} from \"@material-ui/icons\";\r\nimport {Icon, ListSubheader} from \"@material-ui/core\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\n\r\nclass ShapePanel extends Component {\r\n    onClickCreateObject = (objectType) => {\r\n        const {pseudo, resolutionHeight, resolutionWidth} = this.props;\r\n        socketClientInstance.sendMessage({\r\n            type: constants.SOCKET_MSG.CREATE_OBJECT,\r\n            from: pseudo,\r\n            to: \"server\",\r\n            payload: {\r\n                shape: objectType,\r\n                positionX: (resolutionWidth / 2).toString(),\r\n                positionY: (resolutionHeight / 2).toString(),\r\n            },\r\n        });\r\n    };\r\n    render() {\r\n        return (\r\n            <div style={{maxWidth: 250, backgroundColor: \"white\"}}>\r\n                <List\r\n                    component=\"nav\"\r\n                    aria-label=\"main mailbox folders\"\r\n                    subheader={\r\n                        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                            <div\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    alignItems: \"center\",\r\n                                    fontSize: \"2em\",\r\n                                }}>\r\n                                Tools\r\n                            </div>\r\n                        </ListSubheader>\r\n                    }>\r\n                    <ListItem button key={\"Text\"} onClick={() => this.onClickCreateObject(\"Text\")}>\r\n                        <ListItemIcon>\r\n                            <TextFieldIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Text\"} />\r\n                    </ListItem>\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    {[\r\n                        {\r\n                            title: \"Draw\",\r\n                            component: <Edit />,\r\n                        },\r\n                        {title: \"Line\", component: <Maximize />},\r\n                        {title: \"Rectangle\", component: <CropLandscape />},\r\n                        {title: \"Circle\", component: <PanoramaFishEye />},\r\n                        {\r\n                            title: \"Triangle\",\r\n                            component: (\r\n                                <Icon>\r\n                                    <img src={require(\"../assets/triangle.png\")} alt=\"\" />\r\n                                </Icon>\r\n                            ),\r\n                        },\r\n                    ].map((item) => (\r\n                        <ListItem\r\n                            button\r\n                            key={item.title}\r\n                            onClick={() => this.onClickCreateObject(item.title)}>\r\n                            <ListItemIcon>{item.component}</ListItemIcon>\r\n                            <ListItemText primary={item.title} />\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem button key={\"Picture\"}>\r\n                        <ListItemIcon>\r\n                            <Photo />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Picture\"} />\r\n                    </ListItem>\r\n                </List>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nShapePanel.propTypes = {\r\n    pseudo: PropTypes.any,\r\n    resolutionWidth: PropTypes.any,\r\n    resolutionHeight: PropTypes.any,\r\n};\r\nexport default ShapePanel;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nconst color = require(\"string-to-color\");\r\n\r\nclass ListOfUsers extends Component {\r\n    render() {\r\n        const {users} = this.props;\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                }}>\r\n                {users &&\r\n                    users.map((user, id) => (\r\n                        <div\r\n                            key={id}\r\n                            style={{\r\n                                backgroundColor: color(user),\r\n                                width: 30,\r\n                                height: 30,\r\n                                borderRadius: \"50%\",\r\n                                display: \"flex\",\r\n                                justifyContent: \"center\",\r\n                                alignItems: \"center\",\r\n                                color: \"white\",\r\n                            }}>\r\n                            {user[0]}\r\n                        </div>\r\n                    ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nListOfUsers.propTypes = {\r\n    users: PropTypes.any,\r\n};\r\nexport default ListOfUsers;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {ExitToApp, SaveAlt, CloudUpload} from \"@material-ui/icons\";\r\nimport ListOfUsers from \"../components/ListOfUsers\";\r\nclass HeaderMenu extends Component {\r\n    onSave = () => {\r\n        alert(\"TODO SAVE\");\r\n        // TODO\r\n    };\r\n\r\n    onImport = () => {\r\n        alert(\"TODO IMPORT\");\r\n        // TODO\r\n    };\r\n\r\n    render() {\r\n        const {paperboard, drawers, onQuit} = this.props;\r\n        return (\r\n            <>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"row\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        backgroundColor: \"#f9a322\",\r\n                    }}>\r\n                    {/* PAPERBOARD TITLE */}\r\n                    <p\r\n                        className=\"title is-1\"\r\n                        style={{\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            color: \"black\",\r\n                            marginLeft: \"15px\",\r\n                            marginTop: \"5px\",\r\n                            marginBottom: \"5px\",\r\n                        }}>\r\n                        {paperboard && `-- ${paperboard.title.toString().toUpperCase()} --`}\r\n                    </p>\r\n                    {/* LIST OF CONNECTED USERS */}\r\n                    <ListOfUsers users={drawers} />\r\n                    {/* BOARD ACTION BUTTONS */}\r\n                    <div style={{display: \"flex\"}}>\r\n                        <Button onClick={this.onImport}>\r\n                            <CloudUpload />\r\n                        </Button>\r\n                        <Button onClick={this.onSave}>\r\n                            <SaveAlt />\r\n                        </Button>\r\n                        <Button onClick={onQuit}>\r\n                            <ExitToApp />\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\nHeaderMenu.propTypes = {\r\n    paperboard: PropTypes.any,\r\n    drawers: PropTypes.any,\r\n    onQuit: PropTypes.any,\r\n};\r\nexport default HeaderMenu;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Close} from \"@material-ui/icons\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nclass Chat extends Component {\r\n    render() {\r\n        const {onCloseChat, messages} = this.props;\r\n        return (\r\n            <div\r\n                id=\"page\"\r\n                style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"flex-start\",\r\n                    width: \"100%\",\r\n                    backgroundColor: \"#e8e8e8\",\r\n                    height: window.innerHeight / 3,\r\n                    borderRadius: 10,\r\n                    borderWidth: 1,\r\n                    borderColor: \"#e8e8e8\",\r\n                }}>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"horizontal\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"center\",\r\n                        paddingRight: \"5%\",\r\n                        paddingLeft: \"5%\",\r\n                        backgroundColor: \"rgb(168, 202, 255)\",\r\n                        width: \"100%\",\r\n                        borderTopLeftRadius: 10,\r\n                        borderTopRightRadius: 10,\r\n                        marginBottom: 10,\r\n                    }}>\r\n                    <div> Chat</div>\r\n                    <IconButton onClick={() => onCloseChat()}>\r\n                        <Close />\r\n                    </IconButton>\r\n                </div>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flex: 1,\r\n                        width: \"100%\",\r\n                        overflow: \"scroll\",\r\n                        flexDirection: \"column\",\r\n                    }}>\r\n                    {messages}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nChat.propTypes = {\r\n    onCloseChat: PropTypes.any,\r\n    messages: PropTypes.any,\r\n};\r\nexport default Chat;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Message extends Component {\r\n    render() {\r\n        const {color, name, message, isAuthor} = this.props;\r\n        return (\r\n            <div\r\n                style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    width: \"100%\",\r\n                    paddingRight: \"10%\",\r\n                    paddingLeft: \"10%\",\r\n                }}>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"flex-end\",\r\n                        flexDirection: isAuthor ? \"row\" : \"row-reverse\",\r\n                    }}>\r\n                    {name}\r\n                    <div\r\n                        style={{\r\n                            backgroundColor: color,\r\n                            width: 24,\r\n                            height: 24,\r\n                            borderRadius: 12,\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            alignItems: \"center\",\r\n                            color: \"white\",\r\n                            marginLeft: isAuthor ? 10 : 0,\r\n                            marginRight: isAuthor ? 0 : 10,\r\n                        }}>\r\n                        {name[0]}\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        color: \"black\",\r\n                        justifyContent: isAuthor ? \"flex-end\" : \"flex-start\",\r\n                    }}>\r\n                    {message}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nMessage.propTypes = {\r\n    color: PropTypes.string,\r\n    name: PropTypes.string,\r\n    message: PropTypes.string,\r\n    isAuthor: PropTypes.bool,\r\n};\r\nexport default Message;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Message as MessageIcon} from \"@material-ui/icons\";\r\nimport Chat from \"../components/Chat\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Message from \"../components/Message\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\n\r\nconst color = require(\"string-to-color\");\r\n\r\nclass ChatComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isChatDisplayed: false,\r\n            textFieldValue: \"\",\r\n            messages: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.CHAT_MESSAGE,\r\n            this.receiveMessage,\r\n            this\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.CHAT_MESSAGE,\r\n            this.receiveMessage,\r\n            this\r\n        );\r\n    }\r\n\r\n    sendMessage = () => {\r\n        const {pseudo} = this.props;\r\n        const {textFieldValue} = this.state;\r\n        if (textFieldValue !== \"\") {\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.CHAT_MESSAGE,\r\n                from: pseudo,\r\n                to: \"server\",\r\n                payload: {\r\n                    msg: textFieldValue,\r\n                },\r\n            });\r\n            this.setState({textFieldValue: \"\"});\r\n        }\r\n    };\r\n\r\n    receiveMessage = (writer, msg) => {\r\n        const {pseudo} = this.props;\r\n        const {messages} = this.state;\r\n        messages.push(\r\n            <Message\r\n                key={messages.length}\r\n                color={color(writer)}\r\n                name={writer}\r\n                message={msg}\r\n                isAuthor={writer === pseudo}\r\n            />\r\n        );\r\n        this.setState({\r\n            messages,\r\n        });\r\n    };\r\n\r\n    catchReturn = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            this.sendMessage();\r\n        }\r\n    };\r\n\r\n    handleTextFieldChange = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            this.sendMessage();\r\n        }\r\n        this.setState({\r\n            textFieldValue: e.target.value,\r\n        });\r\n    };\r\n\r\n    onChat = () => {\r\n        this.setState((prevState) => ({\r\n            isChatDisplayed: !prevState.isChatDisplayed,\r\n        }));\r\n    };\r\n\r\n    render() {\r\n        const {isChatDisplayed, messages, textFieldValue} = this.state;\r\n        return (\r\n            <>\r\n                {/* CHAT MESSAGE PANEL */}\r\n                {isChatDisplayed && <Chat onCloseChat={this.onChat} messages={messages} />}\r\n\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"center\",\r\n                    }}>\r\n                    {/* MESSAGE INPUT */}\r\n                    {isChatDisplayed && (\r\n                        <div style={{paddingRight: \"15%\"}}>\r\n                            <TextField\r\n                                id=\"outlined-basic\"\r\n                                label=\"Message\"\r\n                                margin=\"normal\"\r\n                                variant=\"outlined\"\r\n                                style={{backgroundColor: \"white\", borderRadius: 5}}\r\n                                onChange={this.handleTextFieldChange}\r\n                                onKeyPress={this.catchReturn}\r\n                                value={textFieldValue}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    {/* CHAT PANEL BUTTON */}\r\n                    <div\r\n                        onClick={() => (isChatDisplayed ? this.sendMessage() : this.onChat())}\r\n                        style={{\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            backgroundColor: \"white\",\r\n                            width: isChatDisplayed ? 50 : 100,\r\n                            height: isChatDisplayed ? 50 : 100,\r\n                            borderRadius: isChatDisplayed ? 25 : 50,\r\n                            boxShadow: \"6px 6px 6px #9E9E9E\",\r\n                            shadowOpacity: 0.5,\r\n                        }}>\r\n                        <MessageIcon\r\n                            style={{\r\n                                width: isChatDisplayed ? 20 : 60,\r\n                                height: isChatDisplayed ? 20 : 60,\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\nChatComponent.propTypes = {\r\n    pseudo: PropTypes.any,\r\n};\r\nexport default ChatComponent;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\n\r\nclass DeletePopUp extends Component {\r\n    agreeDeletion = () => {\r\n        const {msg, handleObjectDelete} = this.props;\r\n        handleObjectDelete();\r\n        const payload = {};\r\n        payload.pseudo = msg.to;\r\n        payload.board = msg.payload.board;\r\n        payload.drawingId = msg.payload.drawingId;\r\n        if (payload) {\r\n            socketClientInstance.sendMessage({\r\n                type: constants.SOCKET_MSG.DELETE_OBJECT,\r\n                from: msg.to,\r\n                to: \"server\",\r\n                payload: payload,\r\n            });\r\n        }\r\n    };\r\n    render() {\r\n        const {msg, handleObjectDelete} = this.props;\r\n        return (\r\n            <div\r\n                style={{\r\n                    display: \"flex\",\r\n                    width: \"70%\",\r\n                    flexDirection: \"column\",\r\n                    alignContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    backgroundColor: \"white\",\r\n                    paddingTop: \"1em\",\r\n                    paddingBottom: \"1em\",\r\n                    border: \"2px solid #f9a322\",\r\n                }}>\r\n                <div\r\n                    style={{\r\n                        fontSize: \"2em\",\r\n                        textAlign: \"center\",\r\n                    }}>{`${msg.from} want to delete one ${msg.payload.type} you have created`}</div>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"row\",\r\n                        justifyContent: \"space-around\",\r\n                        width: \"100%\",\r\n                    }}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        startIcon={<CancelIcon />}\r\n                        onClick={handleObjectDelete}>\r\n                        Disagree\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<DeleteIcon />}\r\n                        onClick={this.agreeDeletion}>\r\n                        Agree\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nDeletePopUp.propTypes = {\r\n    msg: PropTypes.any,\r\n    handleObjectDelete: PropTypes.any,\r\n};\r\nexport default DeletePopUp;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport Background from \"../components/Background\";\r\nimport socketClientInstance from \"../services/socket\";\r\nimport constants from \"../config/constants\";\r\nimport CanvasManager from \"../components/CanvasManager\";\r\nimport EditShapePanel from \"../components/EditShapePanel\";\r\nimport * as backgroundImage from \"../assets/cappuccino2.jpg\";\r\nimport ShapePanel from \"../components/ShapePanel\";\r\nimport HeaderMenu from \"../components/HeaderMenu\";\r\nimport ChatComponent from \"../components/ChatComponent\";\r\nimport DeletePopUp from \"../components/DeletePopUp\";\r\n\r\nclass PaperBoardPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const {\r\n            location: {\r\n                state: {paperboard, pseudo, drawers},\r\n            },\r\n        } = props;\r\n        this.state = {\r\n            paperboard,\r\n            pseudo,\r\n            drawers,\r\n            selectedDrawing: null,\r\n            isDeletePopUpDisplayed: false,\r\n            deleteMsg: null,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_LEFT_BOARD,\r\n            (leaver, drawers) => {\r\n                this.setState({drawers});\r\n                const {pseudo} = this.state;\r\n                if (pseudo === leaver) {\r\n                    this.props.history.push({pathname: \"/lounge\", state: {pseudo}});\r\n                }\r\n            },\r\n            this\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            (drawers) => {\r\n                this.setState({drawers});\r\n            },\r\n            this\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.DELETE_OBJECT,\r\n            this.handleObjectDelete,\r\n            this\r\n        );\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_DELETED,\r\n            this.handleObjectDeleted,\r\n            this\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_LEFT_BOARD,\r\n            (leaver, drawers) => {\r\n                this.setState({drawers});\r\n                const {pseudo} = this.state;\r\n                if (pseudo === leaver) {\r\n                    this.props.history.push({pathname: \"/lounge\", state: {pseudo}});\r\n                }\r\n            },\r\n            this\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_JOIN_BOARD,\r\n            (drawers) => {\r\n                this.setState({drawers});\r\n            },\r\n            this\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DELETE_OBJECT,\r\n            this.handleObjectDelete,\r\n            this\r\n        );\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.OBJECT_DELETED,\r\n            this.handleObjectDeleted,\r\n            this\r\n        );\r\n    }\r\n\r\n    onQuit = () => {\r\n        const {pseudo} = this.state;\r\n        socketClientInstance.sendMessage({\r\n            type: constants.SOCKET_MSG.LEAVE_BOARD,\r\n            from: pseudo,\r\n            to: \"server\",\r\n            payload: {},\r\n        });\r\n    };\r\n\r\n    setSelectedDrawing = (selected) => {\r\n        this.setState({selectedDrawing: selected});\r\n    };\r\n\r\n    handleObjectDelete = (msg) => {\r\n        this.setState((prevState) => ({\r\n            isDeletePopUpDisplayed: !prevState.isDeletePopUpDisplayed,\r\n            deleteMsg: !prevState.isDeletePopUpDisplayed ? msg : null,\r\n        }));\r\n    };\r\n\r\n    handleObjectDeleted = (msg) => {\r\n        const {selectedDrawing} = this.state;\r\n        if (selectedDrawing && selectedDrawing.drawingId === msg.drawingId) {\r\n            this.setState({selectedDrawing: null});\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            paperboard,\r\n            drawers,\r\n            pseudo,\r\n            selectedDrawing,\r\n            isDeletePopUpDisplayed,\r\n            deleteMsg,\r\n        } = this.state;\r\n        const resolutionHeight = 720;\r\n        const resolutionWidth = 1080;\r\n        return (\r\n            <Background\r\n                customStyle={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                }}\r\n                imgSrc={backgroundImage}>\r\n                {/* TITLE BAR (ON THE TOP) */}\r\n                <HeaderMenu paperboard={paperboard} drawers={drawers} onQuit={this.onQuit} />\r\n                {/* PAPERBOARD PAGE */}\r\n                {isDeletePopUpDisplayed && deleteMsg && (\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            width: \"100%\",\r\n                            height: \"100%\",\r\n                            position: \"absolute\",\r\n                            justifyContent: \"center\",\r\n                            alignItems: \"center\",\r\n                        }}>\r\n                        <DeletePopUp msg={deleteMsg} handleObjectDelete={this.handleObjectDelete} />\r\n                    </div>\r\n                )}\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        width: \"100%\",\r\n                        flexDirection: \"row\",\r\n                        alignItems: \"center\",\r\n                        // justifyContent: \"space-between\",\r\n                        flex: 1,\r\n                    }}>\r\n                    {/* ACTION BUTTONS NAV BAR */}\r\n                    <ShapePanel\r\n                        pseudo={pseudo}\r\n                        resolutionWidth={resolutionWidth}\r\n                        resolutionHeight={resolutionHeight}\r\n                    />\r\n\r\n                    {/* CANVAS MANAGER */}\r\n                    <CanvasManager\r\n                        ref={(el) => (this.canvas = el)}\r\n                        resolutionWidth={resolutionWidth}\r\n                        resolutionHeight={resolutionHeight}\r\n                        toggleShapePanel={this.toggleShapePanel}\r\n                        board={paperboard}\r\n                        pseudo={pseudo}\r\n                        drawings={paperboard.drawings}\r\n                        setSelectedDrawing={this.setSelectedDrawing}\r\n                    />\r\n\r\n                    {/* SHAPE OPTIONS PANEL */}\r\n                    <EditShapePanel selectedDrawing={selectedDrawing} />\r\n                </div>\r\n                {/* CHAT */}\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        flexDirection: \"column\",\r\n                        position: \"absolute\",\r\n                        bottom: 50,\r\n                        right: 50,\r\n                    }}>\r\n                    <ChatComponent pseudo={pseudo} />\r\n                </div>\r\n            </Background>\r\n        );\r\n    }\r\n}\r\n\r\nPaperBoardPage.propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(PaperBoardPage);\r\n","import React, {Component} from \"react\";\r\nimport {Route, Switch, withRouter} from \"react-router-dom\";\r\nimport WelcomePage from \"./pages/WelcomePage\";\r\nimport LoungePage from \"./pages/LoungePage\";\r\nimport CreateBoardPage from \"./pages/CreateBoardPage\";\r\nimport PaperBoardPage from \"./pages/PaperBoardPage\";\r\nimport Toast from \"light-toast\";\r\nimport socketClientInstance from \"./services/socket\";\r\nimport constants from \"./config/constants\";\r\nimport \"./App.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (window.performance) {\r\n            if (performance.navigation.type === 1 && this.props.location.pathname !== \"/\") {\r\n                alert(\r\n                    \"This page is reloaded, you will be disconnected and redirected to the login page\"\r\n                );\r\n                this.props.history.push({\r\n                    pathname: \"/\",\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        socketClientInstance.subscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_DISCONNECTED,\r\n            this.handleDrawerDisconnected,\r\n            this\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socketClientInstance.unsubscribeToEvent(\r\n            constants.SOCKET_MSG.DRAWER_DISCONNECTED,\r\n            this.handleDrawerDisconnected,\r\n            this\r\n        );\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n    }\r\n\r\n    handleDrawerDisconnected = () => {\r\n        Toast.fail(\r\n            \"You have been disconnected from server, you will be redirected to login page\",\r\n            3000,\r\n            () => {}\r\n        );\r\n        this.timeout = setTimeout(() => {\r\n            if (this.props.location.pathname !== \"/\") {\r\n                this.props.history.push({\r\n                    pathname: \"/\",\r\n                });\r\n            }\r\n            Toast.hide();\r\n        }, 3000);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\" component={WelcomePage} />\r\n                <Route path=\"/lounge\" component={LoungePage} />\r\n                <Route path=\"/new-board\" component={CreateBoardPage} />\r\n                <Route path=\"/paperboard/:title\" component={PaperBoardPage} />\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nApp.propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n};\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === \"localhost\" ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === \"[::1]\" ||\r\n        // 127.0.0.1/8 is considered localhost for IPv4.\r\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener(\"load\", () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        \"This web app is being served cache-first by a service \" +\r\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === \"installed\") {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                \"New content is available and will be used when all \" +\r\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log(\"Content is cached for offline use.\");\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error during service worker registration:\", error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then((response) => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get(\"content-type\");\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then((registration) => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\"No internet connection found. App is running in offline mode.\");\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if (\"serviceWorker\" in navigator) {\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {render} from \"react-dom\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nrender(\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <App />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}