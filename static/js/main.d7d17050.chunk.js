(this["webpackJsonppaperboard-client"]=this["webpackJsonppaperboard-client"]||[]).push([[0],{199:function(e,t,a){e.exports=a.p+"static/media/welcome.c75afa30.jpg"},211:function(e,t,a){e.exports=a.p+"static/media/wood.af6ca17a.jpg"},212:function(e,t,a){e.exports=a.p+"static/media/Wood-4.2688eadb.jpg"},215:function(e,t,a){e.exports=a.p+"static/media/cappuccino2.3aad53f5.jpg"},238:function(e,t,a){e.exports=a(366)},243:function(e,t,a){},244:function(e,t,a){},266:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},361:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxgLKyjx6TefAAAAv0lEQVQ4y+2SMQrCQBBFH2vERiyC2NqICHZewEb0FDYewMJTKNh5DMFWPIGFNuksJU06BQkEsRiLSFQczRzAv8V8/v4HuzBQ54jknisTHhoa6oKwTesOh03ubRjUZs+amh2ImNGi5xAjcGLJmaIj4GYCdunwCGjQzK3HTwBCQvNP8L7kHXwlrZLowJwxsZIf2Gh1n4ApZfszVwjCwlqvkCAIEQUbMMrWratdf67GIHN9G1BS3E8gR38AgIviXnQHGY9Kif3efSAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjRUMTE6NDM6NDArMDA6MDD5p4TZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTI0VDExOjQzOjQwKzAwOjAwiPo8ZQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxITAjGsTBIYAAAA10lEQVRIx93SrUoEcRTG4ec/syCCCILFMFGj0RuwCIK3IlrUS9DiFVi1im1MYrKZTIsigiBMkcUPZGXH4BV4TpF9T37f8/XjzEQfrInTorMorq5Ys2UQtH+7SDSfGhWNg/AfXh1yFaag17utNKkNmtqLDTNB+4fdgtp8MODNODX//1ABS2YD3i/PsOIuTMHQKm0KpJviKYXSqHKZumE7sOPTeojFsWt7qfZTol8SG8uqPzp79x5hznkYo9YCxykSTximArrKe+qGo1plMxFwRLEdXOPBvvoHtiwO3rv4JYwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMThUMTk6MDI6NDkrMDA6MDCdn4KXAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTE4VDE5OjAyOjQ5KzAwOjAw7MI6KwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxgLEyGfqjPAAAAAdElEQVQ4y82RsQmAMBQFDwQLSwvBDQLGYbNAentt4zZKskQsssB/RcBXH5/PHdjnuFntuCdTSfbrL5XC3gWHQCXj7f8PBAXvN8fFbMeb99N+vad3OdOhZpo4/pFpIzIqeKYSrbjjUcw07yJe7CKTmmkhKfgHrwsu/57T6AoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTEtMjRUMTE6MTk6MzMrMDA6MDCk/6vWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTExLTI0VDExOjE5OjMzKzAwOjAw1aITagAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},364:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCxUOGyzdY99DAAABAklEQVQ4y8XTvyvEcRzH8cf3OgNJXOpKidQpg0GSlMVgvonhFsazsrCSjYXCwMh8kpIyWAwGRTYl+e3+AavBj+7c9773PYv39Hm9Pq/n+/Pu0+fDf1VGpj7g0HH4RiLUzUlLycXt3uLBsEFP2uIBm9bAuo048SGPWr9OujdSK550YeJHTbrSEA3MOSrTB2aj4p2KesqcLkXd1YGC+QpvQaFaPOs6ZOKkS9mweJNbY6GNRt1prrRXbVcddcfKb6vfi/aqQMqzgVIj4cxU1PWZdl767macCiKBwIn8t0h71adW9XrT8bncs1gzDkt2CYzbl/ceA2i0JRtYrusz3tSR/WN9AIk1KiapkAmsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTIxVDE0OjI3OjQ0KzAwOjAwi8Ck9gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0yMVQxNDoyNzo0NCswMDowMPqdHEoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},365:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a(80),i=(a(243),a(13)),l=a(10),c=a(14),d=a(15),h=a(16),u=a(74),p=a(53),m=(a(244),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.backgroundImg=new Image,this.backgroundImg.addEventListener("load",(function(){return e.refreshBackground()})),this.backgroundImg.src=this.props.imgSrc,window.addEventListener("resize",(function(){return e.refreshBackground()}))}},{key:"componentWillUnmount",value:function(){var e=this;this.backgroundImg.removeEventListener("load",(function(){return e.refreshBackground()})),window.removeEventListener("resize",(function(){return e.refreshBackground()}))}},{key:"refreshBackground",value:function(){var e=document.getElementById("page-container"),t=document.getElementById("background-canvas"),a=t.getContext("2d");t.style.width="".concat(e.clientWidth,"px"),t.width=e.clientWidth,t.style.height="".concat(e.clientHeight,"px"),t.height=e.clientHeight;var n,r,s,o,i=t.width,l=t.height,c=l/i,d=this.backgroundImg,h=d.width,u=d.height;c>u/h?(n=(h-(s=(o=u)/c))/2,r=0):(n=0,r=(u-(o=(s=h)*c))/2),a.drawImage(d,n,r,s,o,0,0,i,l)}},{key:"addMinimumStyleAttributes",value:function(e){var t={position:"relative",overflow:"hidden",width:"100%",height:"100%"};if(void 0===e)e=t;else for(var a=Object.keys(t),n=0;n<a.length;n++)e.hasOwnProperty(a[n])||(e[a[n]]=t[a[n]])}},{key:"render",value:function(){var e=this.props.customStyle;return this.addMinimumStyleAttributes(e),r.a.createElement("div",{id:"page-container",style:e},r.a.createElement("canvas",{id:"background-canvas",style:{position:"absolute",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:-1},alt:"background"}),this.props.children)}}]),t}(n.Component)),f={hostname:"http://mydomain.com",http_port:1245,rest_url:"http://mydomain.com:1245/REST",socket_port:1236,socket_url:"ws://mydomain.com:1236/websockets/sock1"};["dev","develop","development"].includes("prod")?(f.hostname="localhost",f.http_port="8081",f.rest_url="".concat("http","://").concat("localhost",":").concat("8081"),f.socket_port="8025",f.socket_url="".concat("ws","://").concat("localhost",":").concat("8025","/").concat("websocket/v1/paperboard")):["prod","production"].includes("prod")&&(f.hostname="just-draw-it.herokuapp.com",f.http_port="8081",f.rest_url="".concat("http","://").concat("just-draw-it.herokuapp.com"),f.socket_port="8025",f.socket_url="".concat("ws","://").concat("just-draw-it.herokuapp.com","/").concat("websocket/v1/paperboard"));for(var E=f,g={SOCKET_MSG:{IDENTIFY:"Ask Pseudo",GET_BOARD:"Get Board",GET_ALL_BOARDS:"Get All Boards",CREATE_BOARD:"Create Board",JOIN_BOARD:"Join Board",LEAVE_BOARD:"Leave Board",CREATE_OBJECT:"Create Object",EDIT_OBJECT:"Edit Object",LOCK_OBJECT:"Lock Object",UNLOCK_OBJECT:"Unlock Object",CHAT_MESSAGE:"Chat Message",DELETE_OBJECT:"Delete Object",IDENTIFY_ANSWER:"Pseudo Request Answer",ANSWER_GET_BOARD:"Answer Get Board",ANSWER_GET_ALL_BOARDS:"Answer Get All Boards",ANSWER_CREATE_BOARD:"Answer Create Board",DRAWER_JOIN_BOARD:"New Drawer Joined Board",DRAWER_LEFT_BOARD:"Drawer Left Board",DRAWER_DISCONNECTED:"Drawer Disconnected",OBJECT_CREATED:"Object Created",OBJECT_EDITED:"Object Edited",OBJECT_DELETED:"Object Deleted",OBJECT_LOCKED:"Object Locked",OBJECT_UNLOCKED:"Object Unlocked"}},b=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(i.a)(this,e),this.moduleName=null===a?t:t+"/"+a,this.commonTypes=["number","string"],this.endCharacters=[".","!","?",":"],this.environment="production"}return Object(l.a)(e,[{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(1!==t.length||this.commonTypes.includes(typeof t[0])){for(var n=[],r="[".concat(this.moduleName,"] -"),s=0;s<t.length;s++)r+=" "+t[s],t[s]instanceof Error&&n.push(t[s]);for(this.endCharacters.includes(r.charAt(r.length-1))||(r+="."),console.log(r);n.length>0;)console.error(n.shift())}else console.log(t[0])}}]),e}(),A=new(function(){function e(){return Object(i.a)(this,e),e.instance?e.instance:(e.instance=this,this.componentName="Socket Client",this.backend_url="".concat(E.socket_url),this.socketClient=null,this.connected=!1,this.reconnectionParams={reconnect:!0,reconnectionDelay:1e3,maxAttempts:50,currentAttemps:0},this.init=this.init.bind(this),this.stop=this.stop.bind(this),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.onMessage=this.onMessage.bind(this),this.sendMessage=this.sendMessage.bind(this),this.handlers={identifiedHandlers:[],answerGetAllBoardsHandlers:[],answerGetBoardHandlers:[],answerCreatePaperBoardHandlers:[],drawerJoinedBoardHandlers:[],drawerLeftBoardHandlers:[],chatMessageHandlers:[],askDeletionHandlers:[],objLockedHandlers:[],objUnlockedHandlers:[],objCreatedHandlers:[],objEditedHandlers:[],objDeletedHandlers:[],objAskDeleteHandlers:[],drawerConnectedHandlers:[],drawerDisconnectedHandlers:[]},this.logger=new b(this.componentName),this)}return Object(l.a)(e,[{key:"init",value:function(){this.logger.log("Try to connect to WebSocketServer [".concat(this.backend_url,"]...")),this.reconnectionParams.currentAttemps+=1;var e=new WebSocket(this.backend_url);this.socketClient=e,this.socketClient.onopen=this.onConnect,this.socketClient.onmessage=this.onMessage,this.socketClient.onclose=this.onDisconnect}},{key:"stop",value:function(){this.tryToReconnect=!1,this.socketClient.close(),this.socketClient=null}},{key:"onConnect",value:function(){this.logger.log("Connection successful to [".concat(this.backend_url,"]")),this.connected=!0,this.reconnectionParams.currentAttemps=0}},{key:"onDisconnect",value:function(e){switch(this.reconnectionParams.currentAttemps<2&&this.handlers.drawerDisconnectedHandlers.forEach((function(e){e()})),e.code){case 1e3:break;default:var t=this.reconnectionParams,a=t.reconnect,n=t.maxAttempts,r=t.currentAttemps,s=t.reconnectionDelay;a&&r<n&&setTimeout(this.init,s)}this.logger.log("Disconnected from server [".concat(this.backend_url,"]"))}},{key:"onMessage",value:function(e){var t=null;try{t=JSON.parse(e.data),this.logger.log("Received ".concat(t.type," from ").concat(void 0===t.from?"server":t.from,"."))}catch(a){this.logger.log("Invalid message sent through WebSocket. Unable to parse.",a),this.logger.log(e),t={}}switch(t.type){case g.SOCKET_MSG.IDENTIFY_ANSWER:this.logger.log("Trigger identified handlers (".concat(this.handlers.identifiedHandlers.length,").")),this.handlers.identifiedHandlers.forEach((function(e){e(t)}));break;case g.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:this.logger.log("Trigger identified handlers (".concat(this.handlers.answerGetAllBoardsHandlers.length,").")),this.handlers.answerGetAllBoardsHandlers.forEach((function(e){e(t.payload)}));break;case g.SOCKET_MSG.ANSWER_GET_BOARD:this.logger.log("Trigger identified handlers (".concat(this.handlers.answerGetBoardHandlers.length,").")),this.handlers.answerGetBoardHandlers.forEach((function(e){e(t.payload)}));break;case g.SOCKET_MSG.ANSWER_CREATE_BOARD:this.logger.log("Trigger identified handlers (".concat(this.handlers.answerCreatePaperBoardHandlers.length,").")),this.handlers.answerCreatePaperBoardHandlers.forEach((function(e){e(t.payload)}));break;case g.SOCKET_MSG.DRAWER_JOIN_BOARD:this.logger.log("Trigger drawer joined board handlers (".concat(this.handlers.drawerJoinedBoardHandlers.length,").")),this.handlers.drawerJoinedBoardHandlers.forEach((function(e){e(t.payload.userlist)}));break;case g.SOCKET_MSG.DRAWER_LEFT_BOARD:this.logger.log("Trigger drawer left board handlers (".concat(this.handlers.drawerLeftBoardHandlers.length,").")),this.handlers.drawerLeftBoardHandlers.forEach((function(e){e(t.payload.leaver,t.payload.userlist)}));break;case g.SOCKET_MSG.CHAT_MESSAGE:this.logger.log("Trigger chat message handlers (".concat(this.handlers.chatMessageHandlers.length,").")),this.handlers.chatMessageHandlers.forEach((function(e){e(t.payload.writer,t.payload.msg)}));break;case g.SOCKET_MSG.ASK_DELETION:this.logger.log("Trigger ask deletion handlers (".concat(this.handlers.askDeletionHandlers.length,").")),this.handlers.askDeletionHandlers.forEach((function(e){return e()}));break;case g.SOCKET_MSG.OBJECT_LOCKED:this.logger.log("Trigger object locked handlers (".concat(this.handlers.objLockedHandlers.length,").")),this.handlers.objLockedHandlers.forEach((function(e){return e(t.payload)}));break;case g.SOCKET_MSG.OBJECT_UNLOCKED:this.logger.log("Trigger object unlocked handlers (".concat(this.handlers.objUnlockedHandlers.length,").")),this.handlers.objUnlockedHandlers.forEach((function(e){return e(t.payload)}));break;case g.SOCKET_MSG.OBJECT_CREATED:this.logger.log("Trigger object created handlers (".concat(this.handlers.objCreatedHandlers.length,").")),this.handlers.objCreatedHandlers.forEach((function(e){return e(t.payload)}));break;case g.SOCKET_MSG.OBJECT_EDITED:this.logger.log("Trigger object edited (".concat(this.handlers.objEditedHandlers.length,").")),this.handlers.objEditedHandlers.forEach((function(e){return e(t.payload)}));break;case g.SOCKET_MSG.OBJECT_DELETED:this.logger.log("Trigger object deleted (".concat(this.handlers.objDeletedHandlers.length,").")),this.handlers.objDeletedHandlers.forEach((function(e){return e(t.payload)}));break;case g.SOCKET_MSG.DRAWER_CONNECTED:this.logger.log("Trigger drawer connected handlers (".concat(this.handlers.drawerConnectedHandlers.length,").")),this.handlers.drawerConnectedHandlers.forEach((function(e){e(t.payload.userlist)}));break;case g.SOCKET_MSG.DRAWER_DISCONNECTED:this.logger.log("Trigger drawer disconnected handlers (".concat(this.handlers.drawerDisconnectedHandlers.length,").")),this.handlers.drawerDisconnectedHandlers.forEach((function(e){return e(t.from)}));break;case g.SOCKET_MSG.DELETE_OBJECT:this.logger.log("Trigger delete object handlers (".concat(this.handlers.objAskDeleteHandlers.length,").")),this.handlers.objAskDeleteHandlers.forEach((function(e){return e(t)}));break;default:this.logger.log("Unexpected message type received ".concat(t.type," - from ").concat(t.from,"."))}}},{key:"sendMessage",value:function(e){var t=null;if(e.type){try{t=JSON.stringify(e),this.logger.log("Sending ".concat(e.type," to ").concat(void 0===e.to?"server":e.to,"."))}catch(a){this.logger.log("Invalid message sent from the client socket. Unable to parse.",a),t={}}this.socketClient?this.socketClient.send(t):alert("You have been disconnected, don't forgzt to reconnect")}else this.logger.log("A message must have a type to be sent !",e)}},{key:"subscribeToEvent",value:function(e,t,a){switch(e){case g.SOCKET_MSG.IDENTIFY_ANSWER:this.handlers.identifiedHandlers.push(t);break;case g.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:this.handlers.answerGetAllBoardsHandlers.push(t);break;case g.SOCKET_MSG.ANSWER_GET_BOARD:this.handlers.answerGetBoardHandlers.push(t);break;case g.SOCKET_MSG.ANSWER_CREATE_BOARD:this.handlers.answerCreatePaperBoardHandlers.push(t);break;case g.SOCKET_MSG.DRAWER_JOIN_BOARD:this.handlers.drawerJoinedBoardHandlers.push(t);break;case g.SOCKET_MSG.DRAWER_LEFT_BOARD:this.handlers.drawerLeftBoardHandlers.push(t);break;case g.SOCKET_MSG.CHAT_MESSAGE:this.handlers.chatMessageHandlers.push(t);break;case g.SOCKET_MSG.ASK_DELETION:this.handlers.askDeletionHandlers.push(t);break;case g.SOCKET_MSG.OBJECT_LOCKED:this.handlers.objLockedHandlers.push(t);break;case g.SOCKET_MSG.OBJECT_UNLOCKED:this.handlers.objUnlockedHandlers.push(t);break;case g.SOCKET_MSG.OBJECT_CREATED:this.handlers.objCreatedHandlers.push(t);break;case g.SOCKET_MSG.OBJECT_EDITED:this.handlers.objEditedHandlers.push(t);break;case g.SOCKET_MSG.OBJECT_DELETED:this.handlers.objDeletedHandlers.push(t);break;case g.SOCKET_MSG.DRAWER_CONNECTED:this.handlers.drawerConnectedHandlers.push(t);break;case g.SOCKET_MSG.DRAWER_DISCONNECTED:this.handlers.drawerDisconnectedHandlers.push(t);break;case g.SOCKET_MSG.DELETE_OBJECT:this.handlers.objAskDeleteHandlers.push(t);break;default:this.logger.log("Component [".concat(a,"] attempted to subscribe to unexpected event [").concat(e,"]."))}this.logger.log("Component [".concat(a,"] subscribed to ").concat(e,"."))}},{key:"unsubscribeToEvent",value:function(e,t,a){switch(e){case g.SOCKET_MSG.IDENTIFY_ANSWER:this.handlers.identifiedHandlers=this.handlers.identifiedHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.ANSWER_GET_BOARD:this.handlers.answerGetBoardHandlers=this.handlers.answerGetBoardHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.ANSWER_GET_ALL_BOARDS:this.handlers.answerGetAllBoardsHandlers=this.handlers.answerGetAllBoardsHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.ANSWER_CREATE_BOARD:this.handlers.answerCreatePaperBoardHandlers=this.handlers.answerCreatePaperBoardHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.DRAWER_JOIN_BOARD:this.handlers.drawerJoinedBoardHandlers=this.handlers.drawerJoinedBoardHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.DRAWER_LEFT_BOARD:this.handlers.drawerLeftBoardHandlers=this.handlers.drawerLeftBoardHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.CHAT_MESSAGE:this.handlers.chatMessageHandlers=this.handlers.chatMessageHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.ASK_DELETION:this.handlers.askDeletionHandlers=this.handlers.askDeletionHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.OBJECT_LOCKED:this.handlers.objLockedHandlers=this.handlers.objLockedHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.OBJECT_UNLOCKED:this.handlers.objUnlockedHandlers=this.handlers.objUnlockedHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.OBJECT_CREATED:this.handlers.objCreatedHandlers=this.handlers.objCreatedHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.OBJECT_EDITED:this.handlers.objEditedHandlers=this.handlers.objEditedHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.OBJECT_DELETED:this.handlers.objDeletedHandlers=this.handlers.objDeletedHandlers.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.DRAWER_CONNECTED:this.handlers.drawerConnectedHandler=this.handlers.drawerConnectedHandler.filter((function(e){return e!==t}));break;case g.SOCKET_MSG.DRAWER_DISCONNECTED:this.handlers.drawerDisconnectedHandlers=this.handlers.drawerDisconnectedHandlers.filter((function(e){return e!==t}));break;default:this.logger.log("Component [".concat(a,"] attempted to unsubscribe from unexpected event [").concat(e,"]."))}this.logger.log("Component [".concat(a,"] unsubscribed from ").concat(e,"."))}}]),e}()),C=a(199),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onLogin=function(e){e.preventDefault(),A.sendMessage({type:g.SOCKET_MSG.IDENTIFY,from:"client",to:"server",payload:{pseudo:a.state.pseudo}})},a.handleServerLoginAnswer=function(e){e.payload.pseudoAvailable&&a.state.pseudo?a.props.history.push({pathname:"/lounge",state:{pseudo:a.state.pseudo}}):alert("A user with the pseudo "+a.state.pseudo+" is already connected. Please use another name")},a.handleChange=function(e){a.setState({pseudo:e.target.value})},a.state={pseudo:""},A.init(),A.subscribeToEvent(g.SOCKET_MSG.IDENTIFY_ANSWER,a.handleServerLoginAnswer,Object(p.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){A.unsubscribeToEvent(g.SOCKET_MSG.IDENTIFY_ANSWER,this.handleServerLoginAnswer,this)}},{key:"render",value:function(){return r.a.createElement(m,{customStyle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},imgSrc:C},r.a.createElement("div",{className:"card",style:{width:"fit-content",borderRadius:"10px"}},r.a.createElement("div",{className:"card-content",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("p",{className:"title is-1",style:{textAlign:"center"}},"Welcome on PaperBoard !"),r.a.createElement("p",{className:"subtitle is-4",style:{textAlign:"center"}},"Don't think too much, draw it !"),r.a.createElement("div",{className:"card",style:{width:"fit-content",borderRadius:"10px"}},r.a.createElement("div",{className:"card-content",id:"card-input",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("p",{className:"title is-3"},"Your pseudo ?"),r.a.createElement("div",{className:"box"},r.a.createElement("form",{onSubmit:this.onLogin},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{type:"text",className:"input is-success is-medium",placeholder:"Pseudo",value:this.state.value,onChange:this.handleChange})))),r.a.createElement("div",{className:"field",style:{marginTop:15}},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-success is-large",onClick:this.onLogin},"Go !")))))))))}}]),t}(n.Component),y=Object(u.f)(v),O=(a(103),a(266),a(201)),S=a.n(O),T=a(210),k=a(211),D=a(411),w=a(145),B=[{title:"Title",field:"title"},{title:"Nb of participants",field:"numberOfConnectedUser"},{title:"Creation date",field:"creationDate"}],j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={pseudo:"must auth",paperboards:[],chosenPaperboard:null},a.defaultBoardTitle="default-paper-board",a.getAllPaperBoards=function(){A.sendMessage({type:g.SOCKET_MSG.GET_ALL_BOARDS,from:a.state.pseudo,to:"server",payload:{}})},a.handleAnswerGetAllBoards=function(e){a.setState({paperboards:e.paperboards})},a.loopGetAllPaperBoards=function(){a.timeout=setTimeout((function(){a.getAllPaperBoards(),a.loopGetAllPaperBoards()}),3e4)},a.onCreatePaperBoard=function(){a.props.history.push({pathname:"/new-board",state:{pseudo:a.state.pseudo}})},a.goToPaperBoard=function(e){A.sendMessage({type:g.SOCKET_MSG.GET_BOARD,from:a.state.pseudo,to:"server",payload:{title:e}})},a.handleAnswerGetBoard=function(e){a.setState({chosenPaperboard:e.paperboard},(function(){A.sendMessage({type:g.SOCKET_MSG.JOIN_BOARD,from:a.state.pseudo,to:"server",payload:{board:e.paperboard.title}})}))},a.handleJoinBoardServerResponse=function(e){var t=a.state,n=t.pseudo,r=t.chosenPaperboard;r&&a.props.history.push({pathname:"/paperboard/".concat(r.title),state:{paperboard:r,pseudo:n,drawers:e}})},a.componentName="LoungePage",a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location&&this.props.location.state){var e=this.props.location.state.pseudo;this.setState({pseudo:e})}A.subscribeToEvent(g.SOCKET_MSG.ANSWER_GET_ALL_BOARDS,this.handleAnswerGetAllBoards,this.componentName),A.subscribeToEvent(g.SOCKET_MSG.ANSWER_GET_BOARD,this.handleAnswerGetBoard,this.componentName),A.subscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,this.handleJoinBoardServerResponse,this.componentName),this.getAllPaperBoards(),this.loopGetAllPaperBoards()}},{key:"componentWillUnmount",value:function(){A.unsubscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,this.handleJoinBoardServerResponse,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.ANSWER_GET_BOARD,this.handleAnswerGetBoard,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,this.handleJoinBoardServerResponse,this.componentName),this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.state,a=t.pseudo,n=t.paperboards;return n.map((function(e){return e.creationDate=T(e.creationDate).format("dddd, MMMM Do YYYY, h:mm:ss a"),e.drawers=e.drawers.length,e})),r.a.createElement(m,{customStyle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},imgSrc:k},r.a.createElement("h1",{style:{fontWeight:"bold",fontSize:"3em",marginBottom:5,color:"white",textAlign:"center"}},"".concat(a.charAt(0).toUpperCase()).concat(a.substring(1),", find your place of inspiration !")),r.a.createElement("div",{className:"card",style:{borderRadius:"10px"}},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-1",style:{textAlign:"center"}},"Join a Board"),r.a.createElement(S.a,{title:r.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"space-between",alignItems:"center"}},"Boards",r.a.createElement(w.a,{onClick:this.getAllPaperBoards,style:{marginLeft:30}},r.a.createElement(D.a,null))),columns:B,data:n,actions:[{title:"Join",icon:"create",tooltip:"Join",onClick:function(t,a){return e.goToPaperBoard(a.title)}}]}))),r.a.createElement("div",{className:"field",style:{marginTop:15}},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-success is-large",onClick:this.onCreatePaperBoard},"Create a new Paperboard"))))}}]),t}(n.Component),_=Object(u.f)(j),M=(a(352),a(413)),R=a(412),N=a(192),G=a(212),x=(a(353),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.hexColorCode,n=e.handleClick,s=e.listField,o=e.field,i=e.type;return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropdown is-hoverable"},r.a.createElement("div",{className:"dropdown-trigger"},r.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu4"},"color"===i&&r.a.createElement("p",{style:{color:a,marginRight:"5%"}},"\u25a0"),r.a.createElement("span",null,t||o))),r.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu4",role:"menu"},r.a.createElement("div",{className:"dropdown-content"},function(e,t,a){var n=[],s=function(s){n.push(r.a.createElement("div",{className:"dropdown-item",key:t[s],onClick:function(){return e({item:s,value:t[s]})}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},"color"===a?r.a.createElement("p",{style:{color:t[s],fontSize:"3em"}},"\u25a0"):r.a.createElement("div",{style:{fontSize:"3em"}},t[s])),r.a.createElement("hr",{className:"dropdown-divider"})))};for(var o in t)s(o);return n}(n,s,i)))))}}]),t}(n.Component)),L={transparent:"transparent",antiquewhite:"#faebd7",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={title:"",color:"",hexColorCode:"",isBackgroundColor:!1,isBackgroundImage:!1,isSwitchBgColorDisabled:!1,isSwitchBgImageDisabled:!1,paperboard:null,pseudo:""},a.componentDidMount=function(){var e=a.props.location.state;a.setState({pseudo:e?e.pseudo:""}),A.subscribeToEvent(g.SOCKET_MSG.ANSWER_CREATE_BOARD,a.handleAnswerCreateBoard,a.componentName),A.subscribeToEvent(g.SOCKET_MSG.ANSWER_GET_BOARD,a.handleAnswerGetBoard,a.componentName),A.subscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,a.handleJoinBoardServerResponse,a.componentName)},a.defaultBoardTitle="default-paper-board",a.handleTitleChanges=function(e){a.setState({title:e.target.value})},a.handleColor=function(e){var t=e.item,n=e.value;a.setState({color:t,hexColorCode:n})},a.onCreatePaperBoard=function(){var e=a.state.title;A.sendMessage({type:g.SOCKET_MSG.CREATE_BOARD,from:a.state.pseudo,to:"server",payload:{title:e}})},a.handleAnswerCreateBoard=function(e){var t=a.state.title;!0===e.created?A.sendMessage({type:g.SOCKET_MSG.GET_BOARD,from:a.state.pseudo,to:"server",payload:{title:t}}):alert("A board with the name "+t+" already exists. Plesae consider another name")},a.handleAnswerGetBoard=function(e){a.setState({paperboard:e.paperboard},(function(){A.sendMessage({type:g.SOCKET_MSG.JOIN_BOARD,from:a.state.pseudo,to:"server",payload:{board:e.paperboard.title}})}))},a.handleJoinBoardServerResponse=function(e){var t=a.state,n=t.pseudo,r=t.paperboard;a.props.history.push({pathname:"/paperboard/".concat(r.title),state:{paperboard:r,pseudo:n,drawers:e}})},a.handleSwitch=function(e){return function(t){"bgColor"===e?a.setState({isBackgroundColor:t.target.checked,isBackgroundImage:!1,isSwitchBgColorDisabled:!1,isSwitchBgImageDisabled:t.target.checked}):a.setState({isBackgroundColor:!1,isBackgroundImage:t.target.checked,isSwitchBgColorDisabled:t.target.checked,isSwitchBgImageDisabled:!1}),a.setState({color:"",hexColorCode:""})}},a.componentName="CreateBoardPage",a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){A.unsubscribeToEvent(g.SOCKET_MSG.ANSWER_CREATE_BOARD,this.handleAnswerCreateBoard,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.ANSWER_GET_BOARD,this.handleAnswerGetBoard,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,this.handleJoinBoardServerResponse,this.componentName)}},{key:"render",value:function(){var e=this.state,t=e.color,a=e.hexColorCode,n=e.isBackgroundColor,s=e.isSwitchBgImageDisabled,o=e.isSwitchBgColorDisabled,i=e.isBackgroundImage;return r.a.createElement(m,{customStyle:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},imgSrc:G},r.a.createElement("div",{className:"card",style:{borderRadius:"10px"}},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-1",style:{textAlign:"center"}},"Set up your board and create it !"),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{type:"text",className:"input is-large is-success",placeholder:"Title - required",value:this.state.title,onChange:this.handleTitleChanges}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),r.a.createElement("div",{className:"field"},r.a.createElement(R.a,{row:!0},r.a.createElement(N.a,{control:r.a.createElement(M.a,{checked:n,onChange:this.handleSwitch("bgColor"),value:"checkedA"}),disabled:o,label:"Background Color"}),r.a.createElement(N.a,{control:r.a.createElement(M.a,{checked:i,onChange:this.handleSwitch("bgImage"),value:"checkedB",color:"primary"}),disabled:s,label:"Background Image"}))),r.a.createElement("div",{className:"empty-div"},n?r.a.createElement(x,{color:t,hexColorCode:a,handleClick:this.handleColor,listField:L,field:"Background color",type:"color"}):null,i?r.a.createElement("div",null,"todo"):null))),r.a.createElement("div",{className:"field",style:{marginTop:15}},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-success is-large",onClick:this.onCreatePaperBoard},"Create !"))))}}]),t}(n.Component),K=Object(u.f)(I),H=a(218),P=a(82),W=function(e,t,a,n,r,s,o){var i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l={type:"circle",id:s,name:"circle-".concat(s),owner:o,ctx:e,refX:t,refY:a,refW:n,refH:r,X:i.X||(t+n)/2,Y:i.Y||(a+r)/2,radius:i.radius||50,lineWidth:i.lineWidth||10,lineColor:i.lineColor||"red",lineStyle:i.lineStyle||"normal",fillColor:i.fillColor||"transparent",isLocked:i.isLocked||!1,lockedBy:i.lockedBy||"",previousState:{X:i.X||(t+n)/2,Y:i.Y||(a+r)/2,radius:i.radius||50,lineWidth:i.lineWidth||10,lineColor:i.lineColor||"red",lineStyle:i.lineStyle||"normal",fillColor:i.fillColor||"transparent"},editionState:null,oldDragX:null,oldDragY:null,refreshArea:function(e,t,a,n){if(this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.lineColor,this.ctx.arc(this.X,this.Y,this.radius,0,2*Math.PI,!0),"dashed"===this.lineStyle&&this.ctx.setLineDash([8,8]),this.ctx.stroke(),"transparent"!==this.fillColor&&(this.ctx.fillStyle=this.fillColor,this.ctx.fill()),this.isLocked){this.ctx.beginPath(),this.ctx.strokeStyle=P(this.lockedBy),this.ctx.lineWidth=5,this.ctx.setLineDash([8,8]),this.ctx.rect(this.X-this.radius-15,this.Y-this.radius-15,2*(this.radius+15),2*(this.radius+15)),this.ctx.stroke(),this.ctx.strokeStyle=P(this.lockedBy),this.ctx.setLineDash([]),this.ctx.beginPath(),this.ctx.arc(this.X-this.radius-15,this.Y-this.radius-15,10,0,2*Math.PI),this.ctx.stroke(),this.ctx.fillStyle=P(this.lockedBy),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(this.X+this.radius+15,this.Y+this.radius+15,10,0,2*Math.PI),this.ctx.stroke(),this.ctx.fillStyle=P(this.lockedBy),this.ctx.fill()}this.ctx.restore()},applyModifications:function(e){for(var t=Object.keys(this.previousState),a=0;a<t.length;a++)if(e.hasOwnProperty(t[a])){var n=isNaN(this.previousState[t[a]])?e[t[a]]:Number(e[t[a]]);this[t[a]]=n,this.previousState[t[a]]=n}},onMouseDown:function(e,t,a){var n=this.radius*this.radius,r=(this.radius+this.lineWidth+10)*(this.radius+this.lineWidth+10),s=(e-this.X)*(e-this.X)+(t-this.Y)*(t-this.Y);return!this.isLocked&&s<r||(this.lockedBy===a&&s<n?(this.editionState="Moving",this.oldDragX=e,this.oldDragY=t,!0):this.lockedBy===a&&s<r&&(this.editionState="Resizing radius",this.oldDragX=e,this.oldDragY=t,!0))},onMouseHover:function(e,t,a){var n=this.radius*this.radius,r=(this.radius+this.lineWidth+10)*(this.radius+this.lineWidth+10),s=(e-this.X)*(e-this.X)+(t-this.Y)*(t-this.Y);return!this.isLocked&&s<r?(document.getElementsByTagName("body")[0].style.cursor="url('cursor url with protocol'), pointer",!0):this.lockedBy===a&&s<n?(document.getElementsByTagName("body")[0].style.cursor="url('cursor url with protocol'), move",!0):this.lockedBy===a&&s<r&&(document.getElementsByTagName("body")[0].style.cursor="url('cursor url with protocol'), grab",!0)},onMouseDrag:function(e,t,a){if(this.lockedBy===a&&"Resizing radius"===this.editionState){var n=Math.sqrt((this.oldDragX-this.X)*(this.oldDragX-this.X)+(this.oldDragY-this.Y)*(this.oldDragY-this.Y)),r=Math.sqrt((e-this.X)*(e-this.X)+(t-this.Y)*(t-this.Y));return this.radius+=r-n,this.oldDragX=e,this.oldDragY=t,!0}return this.lockedBy===a&&"Moving"===this.editionState&&(this.X+=e-this.oldDragX,this.Y+=t-this.oldDragY,this.oldDragX=e,this.oldDragY=t,!0)},onMouseUp:function(e,t,a){this.editionState=null,this.oldDragX=null,this.oldDragY=null;for(var n={modifications:{},shouldUnlock:!1},r=Object.keys(this.previousState),s=0;s<r.length;s++)this.previousState[r[s]]!==this[r[s]]&&(n.modifications[r[s]]=this[r[s]].toString(),this.previousState[r[s]]=this[r[s]]);var o=(this.radius+this.lineWidth+10)*(this.radius+this.lineWidth+10),i=(e-this.X)*(e-this.X)+(t-this.Y)*(t-this.Y);return this.lockedBy===a&&i>o&&(n.shouldUnlock=!0),n}};return l},J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).generateObjectPile=function(e){var t=a.state,n=t.ctx,r=t.width,s=t.height,o=Object.keys(e);return o.length>0?o.map((function(t){var a=e[t];switch(a.type){case"circle":return W(n,0,0,r,s,a.id,a.owner.pseudo,{X:a.position.x,Y:a.position.y,radius:a.radius,lineWidth:a.lineWidth,lineColor:a.lineColor,fillColor:a.fillColor,lineStyle:a.lineStyle,isLocked:a.isLocked,lockedBy:a.lockedBy})}})):[]},a.createCircle=function(e){var t=W(a.state.ctx,0,0,a.state.width,a.state.height,e.id,e.pseudo,{X:parseFloat(e.X),Y:parseFloat(e.Y),radius:parseFloat(e.radius),lineWidth:parseFloat(e.lineWidth),lineColor:e.lineColor});a.objPile.push(t),t.refreshArea(0,0,a.state.width,a.state.height)},a.onObjectLocked=function(e){for(var t=e.drawingId,n=e.pseudo,r=!1,s=0;s<a.objPile.length&&!r;)a.objPile[s].id===t?r=!0:s+=1;if(r&&(a.objPile[s].isLocked=!0,a.objPile[s].lockedBy=n,a.refreshCanvasArea(0,0,a.state.width,a.state.height),a.props.pseudo===n)){var o=a.props,i=o.pseudo,l=o.board.title;(0,o.setSelectedDrawing)({pseudo:i,board:l,drawingId:t})}},a.onObjectUnlocked=function(e){for(var t=e.drawingId,n=!1,r=0;r<a.objPile.length&&!n;)a.objPile[r].id===t?n=!0:r+=1;if(n){if(a.props.pseudo===a.objPile[r].lockedBy)(0,a.props.setSelectedDrawing)(null);a.objPile[r].isLocked=!1,a.objPile[r].lockedBy="",a.refreshCanvasArea(0,0,a.state.width,a.state.height)}},a.onObjectEdited=function(e){for(var t=0;t<a.objPile.length;t++)a.objPile[t].id===e.drawingId&&a.objPile[t].applyModifications(e);a.refreshCanvasArea(0,0,a.state.width,a.state.height)},a.onObjectDeleted=function(e){a.objPile=a.objPile.filter((function(t){return t.id!==e.drawingId})),a.refreshCanvasArea(0,0,a.state.width,a.state.height)},a.componentName="CanvasManager",a.objPile=[],a.state={ctx:null,width:a.props.resolutionWidth,height:a.props.resolutionHeight},a.ctx=null,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({ctx:this.canvas.getContext("2d")},(function(){e.objPile=e.generateObjectPile(e.props.drawings)})),this.canvas.addEventListener("mousedown",(function(t){return e.handleMouseDown(t)})),this.canvas.addEventListener("mouseup",(function(t){return e.handleMouseUp(t)})),this.canvas.addEventListener("mousemove",(function(t){return e.handleMouseMove(t)})),this.canvas.addEventListener("mouseleave",(function(){return e.handleMouseLeave()})),A.subscribeToEvent(g.SOCKET_MSG.OBJECT_CREATED,this.createCircle,this.componentName),A.subscribeToEvent(g.SOCKET_MSG.OBJECT_EDITED,this.onObjectEdited,this.componentName),A.subscribeToEvent(g.SOCKET_MSG.OBJECT_LOCKED,this.onObjectLocked,this.componentName),A.subscribeToEvent(g.SOCKET_MSG.OBJECT_UNLOCKED,this.onObjectUnlocked,this.componentName),A.subscribeToEvent(g.SOCKET_MSG.OBJECT_DELETED,this.onObjectDeleted,this.componentName)}},{key:"componentWillUnmount",value:function(){var e=this;this.canvas.removeEventListener("mousedown",(function(t){return e.handleMouseDown(t)})),this.canvas.removeEventListener("mouseup",(function(t){return e.handleMouseUp(t)})),this.canvas.removeEventListener("mousemove",(function(t){return e.handleMouseMove(t)})),this.canvas.removeEventListener("mouseleave",(function(){return e.handleMouseLeave()})),A.unsubscribeToEvent(g.SOCKET_MSG.OBJECT_CREATED,this.createCircle,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.OBJECT_EDITED,this.onObjectEdited,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.OBJECT_LOCKED,this.onObjectLocked,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.OBJECT_UNLOCKED,this.onObjectUnlocked,this.componentName),A.unsubscribeToEvent(g.SOCKET_MSG.OBJECT_DELETED,this.onObjectDeleted,this.componentName)}},{key:"_onResize",value:function(){var e=this.parentContainer.clientWidth-20,t=this.parentContainer.clientHeight-20,a=t/e,n=this.props.resolutionHeight/this.props.resolutionWidth;n>a?(this.canvas.height=this.props.resolutionHeight,this.canvas.style.height="".concat(t,"px"),this.canvas.width=this.props.resolutionWidth,this.canvas.style.width="".concat(t/n,"px")):(this.canvas.width=this.props.resolutionWidth,this.canvas.style.width="".concat(e,"px"),this.canvas.height=this.props.resolutionHeight,this.canvas.style.height="".concat(e*n,"px")),this.refreshCanvasArea(0,0,this.state.width,this.state.height)}},{key:"refreshCanvasArea",value:function(e,t,a,n){this.state.ctx.clearRect(e,t,a,n);for(var r=0;r<this.objPile.length;r++)this.objPile[r].refreshArea(e,t,a,n)}},{key:"handleMouseDown",value:function(e){if(1===e.which){var t=this.canvas.getBoundingClientRect(),a=(e.clientX-t.left)*this.state.width/Number(this.canvas.style.width.replace("px","")),n=(e.clientY-t.top)*this.state.height/Number(this.canvas.style.height.replace("px",""));console.log("Click !! x:".concat(a,", y:").concat(n));for(var r=this.objPile.length,s=null;r--;)this.objPile[r].onMouseDown&&this.objPile[r].onMouseDown(a,n,this.props.pseudo)&&(s=r,r=0);for(var o=0;o<this.objPile.length;o++)o!==s&&this.objPile[o].lockedBy===this.props.pseudo&&A.sendMessage({type:g.SOCKET_MSG.UNLOCK_OBJECT,from:this.props.pseudo,to:"server",payload:{drawingId:this.objPile[o].id}});if(null!==s&&!this.objPile[s].isLocked){var i=this.objPile[s];A.sendMessage({type:g.SOCKET_MSG.LOCK_OBJECT,from:this.props.pseudo,to:"server",payload:{drawingId:i.id}})}null===s&&console.log(this.objPile)}}},{key:"handleMouseMove",value:function(e){if(0===e.which){for(var t=this.canvas.getBoundingClientRect(),a=(e.clientX-t.left)*this.state.width/Number(this.canvas.style.width.replace("px","")),n=(e.clientY-t.top)*this.state.height/Number(this.canvas.style.height.replace("px","")),r=this.objPile.length,s=null;r--;)this.objPile[r].onMouseHover&&this.objPile[r].onMouseHover(a,n,this.props.pseudo)&&(s=r,r=0);if(null===s)document.getElementsByTagName("body")[0].style.cursor="url('cursor url with protocol'), default"}else if(1===e.which){for(var o=this.canvas.getBoundingClientRect(),i=(e.clientX-o.left)*this.state.width/Number(this.canvas.style.width.replace("px","")),l=(e.clientY-o.top)*this.state.height/Number(this.canvas.style.height.replace("px","")),c=this.objPile.length,d=null;c--;)this.objPile[c].onMouseDrag&&this.objPile[c].onMouseDrag(i,l,this.props.pseudo)&&(d=c,c=0);null!==d&&this.refreshCanvasArea(0,0,this.state.width,this.state.height)}}},{key:"handleMouseUp",value:function(e){var t=this.props,a=t.pseudo,n=t.board.title;if(1===e.which)for(var r=this.canvas.getBoundingClientRect(),s=(e.clientX-r.left)*this.state.width/Number(this.canvas.style.width.replace("px","")),o=(e.clientY-r.top)*this.state.height/Number(this.canvas.style.height.replace("px","")),i=0;i<this.objPile.length;i++){var l=this.objPile[i].onMouseUp(s,o,this.props.pseudo);if(Object.keys(l.modifications).length>0){var c=l.modifications;c.pseudo=a,c.board=n,c.drawingId=this.objPile[i].id,A.sendMessage({type:g.SOCKET_MSG.EDIT_OBJECT,from:this.props.pseudo,to:"server",payload:c})}l.shouldUnlock&&A.sendMessage({type:g.SOCKET_MSG.UNLOCK_OBJECT,from:this.props.pseudo,to:"server",payload:{drawingId:this.objPile[i].id}})}}},{key:"handleMouseLeave",value:function(){document.getElementsByTagName("body")[0].style.cursor="url('cursor url with protocol'), default"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.parentContainer=t},id:"paperboard-canvas",style:{flex:1,display:"flex",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(H.a,{handleWidth:!0,handleHeight:!0,onResize:function(){return e._onResize()}}),r.a.createElement("canvas",{ref:function(t){return e.canvas=t},id:"canvascanvas",style:{backgroundColor:"white",borderRadius:"10px"}}))}}]),t}(n.Component),Y=a(409),U=a(379),F=a(415),X=a(190),Q=a(416),z=a(418),V=a(414),Z=a(170),q=a(417),$={},ee=1;ee<=50;ee++)$[ee.toString()]=ee;var te={dashed:"---",normal:"\u2014"},ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onClickEditObject=function(e){switch(e){case"Color":a.setState((function(e){return{isLineColorPickerToggled:!e.isLineColorPickerToggled}}));break;case"Width":a.setState((function(e){return{isLineWidthPickerToggled:!e.isLineWidthPickerToggled}}));break;case"LineStyle":a.setState((function(e){return{isLineStylePickerToggled:!e.isLineStylePickerToggled}}));break;case"FillColor":a.setState((function(e){return{isFillColorPickerToggled:!e.isFillColorPickerToggled}}));break;default:alert(e+" not handled")}},a.handleColor=function(e){var t=a.props.selectedDrawing,n=e.value,r=t;r&&(r.lineColor=n,A.sendMessage({type:g.SOCKET_MSG.EDIT_OBJECT,from:r.pseudo,to:"server",payload:r}))},a.handleLineWidth=function(e){var t=a.props.selectedDrawing,n=e.item,r=t;r&&(r.lineWidth=n,A.sendMessage({type:g.SOCKET_MSG.EDIT_OBJECT,from:r.pseudo,to:"server",payload:r}))},a.handleLineStyle=function(e){var t=a.props.selectedDrawing,n=e.item,r=t;r&&(r.lineStyle=n,A.sendMessage({type:g.SOCKET_MSG.EDIT_OBJECT,from:r.pseudo,to:"server",payload:r}))},a.handleColorFillColor=function(e){var t=a.props.selectedDrawing,n=e.value,r=t;r&&(r.fillColor=n,A.sendMessage({type:g.SOCKET_MSG.EDIT_OBJECT,from:r.pseudo,to:"server",payload:r}))},a.handleDeleteObject=function(){var e=a.props.selectedDrawing;e&&A.sendMessage({type:g.SOCKET_MSG.DELETE_OBJECT,from:e.pseudo,to:"server",payload:e})},a.state={isLineColorPickerToggled:!1,isLineWidthPickerToggled:!1,isLineStylePickerToggled:!1,isFillColorPickerToggled:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.selectedDrawing===this.props.selectedDrawing||e.selectedDrawing||this.setState({isLineColorPickerToggled:!1,isLineWidthPickerToggled:!1,isLineStylePickerToggled:!1,isFillColorPickerToggled:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLineColorPickerToggled,s=t.isLineWidthPickerToggled,o=t.isLineStylePickerToggled,i=t.isFillColorPickerToggled,l=this.props.selectedDrawing;return r.a.createElement("div",{style:{maxWidth:360,backgroundColor:"white"}},r.a.createElement(Y.a,{component:"nav","aria-label":"main mailbox folders",subheader:r.a.createElement(V.a,{component:"div",id:"nested-list-subheader"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2em"}},"Edit"))},r.a.createElement(U.a,{button:!0,key:"Color",onClick:function(){return e.onClickEditObject("Color")},disabled:!l},r.a.createElement(F.a,null,r.a.createElement(Q.a,null)),r.a.createElement(X.a,{primary:"Color"}))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{color:"",hexColorCode:"",handleClick:this.handleColor,listField:L,field:"Line color",type:"color"})),r.a.createElement(Y.a,null,r.a.createElement(U.a,{button:!0,key:"FillColor",onClick:function(){return e.onClickEditObject("FillColor")},disabled:!l},r.a.createElement(F.a,null,r.a.createElement(Z.a,null,r.a.createElement("img",{src:a(361),alt:""}))),r.a.createElement(X.a,{primary:"Fill Color"}))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{color:"",hexColorCode:"",handleClick:this.handleColorFillColor,listField:L,field:"Fill color",type:"color"})),r.a.createElement(Y.a,null,r.a.createElement(U.a,{button:!0,key:"Width",onClick:function(){return e.onClickEditObject("Width")},disabled:!l},r.a.createElement(F.a,null,r.a.createElement(Z.a,null,r.a.createElement("img",{src:a(362),alt:""}))),r.a.createElement(X.a,{primary:"Width"}))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{color:"",hexColorCode:"",handleClick:this.handleLineWidth,listField:$,field:"Line width"})),r.a.createElement(Y.a,null,r.a.createElement(U.a,{button:!0,key:"LineStyle",onClick:function(){return e.onClickEditObject("LineStyle")},disabled:!l},r.a.createElement(F.a,null,r.a.createElement(Z.a,null,r.a.createElement("img",{src:a(363),alt:""}))),r.a.createElement(X.a,{primary:"Line Style"}))),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{color:"",hexColorCode:"",handleClick:this.handleLineStyle,listField:te,field:"Line style"})),r.a.createElement(q.a,null),r.a.createElement(Y.a,null,r.a.createElement(U.a,{button:!0,key:"Delete",onClick:this.handleDeleteObject,disabled:!l},r.a.createElement(F.a,null,r.a.createElement(z.a,null)),r.a.createElement(X.a,{primary:"Delete"}))))}}]),t}(n.Component),ne=a(215),re=a(419),se=a(420),oe=a(421),ie=a(422),le=a(423),ce=a(424),de=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onClickCreateObject=function(e){var t=a.props,n=t.pseudo,r=t.resolutionHeight,s=t.resolutionWidth;A.sendMessage({type:g.SOCKET_MSG.CREATE_OBJECT,from:n,to:"server",payload:{shape:e,positionX:(s/2).toString(),positionY:(r/2).toString()}})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{maxWidth:250,backgroundColor:"white"}},r.a.createElement(Y.a,{component:"nav","aria-label":"main mailbox folders",subheader:r.a.createElement(V.a,{component:"div",id:"nested-list-subheader"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2em"}},"Tools"))},r.a.createElement(U.a,{button:!0,key:"Text",onClick:function(){return e.onClickCreateObject("Text")}},r.a.createElement(F.a,null,r.a.createElement(re.a,null)),r.a.createElement(X.a,{primary:"Text"}))),r.a.createElement(q.a,null),r.a.createElement(Y.a,null,[{title:"Draw",component:r.a.createElement(se.a,null)},{title:"Line",component:r.a.createElement(oe.a,null)},{title:"Rectangle",component:r.a.createElement(ie.a,null)},{title:"Circle",component:r.a.createElement(le.a,null)},{title:"Triangle",component:r.a.createElement(Z.a,null,r.a.createElement("img",{src:a(364),alt:""}))}].map((function(t){return r.a.createElement(U.a,{button:!0,key:t.title,onClick:function(){return e.onClickCreateObject(t.title)}},r.a.createElement(F.a,null,t.component),r.a.createElement(X.a,{primary:t.title}))}))),r.a.createElement(q.a,null),r.a.createElement(Y.a,null,r.a.createElement(U.a,{button:!0,key:"Picture"},r.a.createElement(F.a,null,r.a.createElement(ce.a,null)),r.a.createElement(X.a,{primary:"Picture"}))))}}]),t}(n.Component),he=a(187),ue=a(425),pe=a(426),me=a(427),fe=a(82),Ee=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.users;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},e&&e.map((function(e,t){return r.a.createElement("div",{key:t,style:{backgroundColor:fe(e),width:30,height:30,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",color:"white"}},e[0])})))}}]),t}(n.Component),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onSave=function(){alert("TODO SAVE")},a.onImport=function(){alert("TODO IMPORT")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.paperboard,a=e.drawers,n=e.onQuit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"#f9a322"}},r.a.createElement("p",{className:"title is-1",style:{display:"flex",alignItems:"center",color:"black",marginLeft:"15px",marginTop:"5px",marginBottom:"5px"}},t&&"-- ".concat(t.title.toString().toUpperCase()," --")),r.a.createElement(Ee,{users:a}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(he.a,{onClick:this.onImport},r.a.createElement(ue.a,null)),r.a.createElement(he.a,{onClick:this.onSave},r.a.createElement(pe.a,null)),r.a.createElement(he.a,{onClick:n},r.a.createElement(me.a,null)))))}}]),t}(n.Component),be=a(429),Ae=a(428),Ce=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCloseChat,a=e.messages;return r.a.createElement("div",{id:"page",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",backgroundColor:"#e8e8e8",height:window.innerHeight/3,borderRadius:10,borderWidth:1,borderColor:"#e8e8e8"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"horizontal",justifyContent:"space-between",alignItems:"center",paddingRight:"5%",paddingLeft:"5%",backgroundColor:"rgb(168, 202, 255)",width:"100%",borderTopLeftRadius:10,borderTopRightRadius:10,marginBottom:10}},r.a.createElement("div",null," Chat"),r.a.createElement(w.a,{onClick:function(){return t()}},r.a.createElement(Ae.a,null))),r.a.createElement("div",{style:{display:"flex",flex:1,width:"100%",overflow:"scroll",flexDirection:"column"}},a))}}]),t}(n.Component),ve=a(197),ye=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.name,n=e.message,s=e.isAuthor;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingRight:"10%",paddingLeft:"10%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:s?"row":"row-reverse"}},a,r.a.createElement("div",{style:{backgroundColor:t,width:24,height:24,borderRadius:12,display:"flex",justifyContent:"center",alignItems:"center",color:"white",marginLeft:s?10:0,marginRight:s?0:10}},a[0])),r.a.createElement("div",{style:{display:"flex",color:"black",justifyContent:s?"flex-end":"flex-start"}},n))}}]),t}(n.Component),Oe=a(82),Se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).sendMessage=function(){var e=a.props.pseudo,t=a.state.textFieldValue;""!==t&&(A.sendMessage({type:g.SOCKET_MSG.CHAT_MESSAGE,from:e,to:"server",payload:{msg:t}}),a.setState({textFieldValue:""}))},a.receiveMessage=function(e,t){var n=a.props.pseudo,s=a.state.messages;s.push(r.a.createElement(ye,{key:s.length,color:Oe(e),name:e,message:t,isAuthor:e===n})),a.setState({messages:s})},a.catchReturn=function(e){"Enter"===e.key&&a.sendMessage()},a.handleTextFieldChange=function(e){"Enter"===e.key&&a.sendMessage(),a.setState({textFieldValue:e.target.value})},a.onChat=function(){a.setState((function(e){return{isChatDisplayed:!e.isChatDisplayed}}))},a.state={isChatDisplayed:!1,textFieldValue:"",messages:[]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){A.subscribeToEvent(g.SOCKET_MSG.CHAT_MESSAGE,this.receiveMessage,this)}},{key:"componentWillUnmount",value:function(){A.unsubscribeToEvent(g.SOCKET_MSG.CHAT_MESSAGE,this.receiveMessage,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isChatDisplayed,n=t.messages,s=t.textFieldValue;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(Ce,{onCloseChat:this.onChat,messages:n}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a&&r.a.createElement("div",{style:{paddingRight:"15%"}},r.a.createElement(ve.a,{id:"outlined-basic",label:"Message",margin:"normal",variant:"outlined",style:{backgroundColor:"white",borderRadius:5},onChange:this.handleTextFieldChange,onKeyPress:this.catchReturn,value:s})),r.a.createElement("div",{onClick:function(){return a?e.sendMessage():e.onChat()},style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",width:a?50:100,height:a?50:100,borderRadius:a?25:50,boxShadow:"6px 6px 6px #9E9E9E",shadowOpacity:.5}},r.a.createElement(be.a,{style:{width:a?20:60,height:a?20:60}}))))}}]),t}(n.Component),Te=a(217),ke=a.n(Te),De=a(216),we=a.n(De),Be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).agreeDeletion=function(){var e=a.props,t=e.msg;(0,e.handleObjectDelete)();var n={};n.pseudo=t.to,n.board=t.payload.board,n.drawingId=t.payload.drawingId,n&&A.sendMessage({type:g.SOCKET_MSG.DELETE_OBJECT,from:t.to,to:"server",payload:n})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.handleObjectDelete;return r.a.createElement("div",{style:{display:"flex",width:"70%",flexDirection:"column",alignContent:"center",alignItems:"center",backgroundColor:"white",paddingTop:"1em",paddingBottom:"1em",border:"2px solid #f9a322"}},r.a.createElement("div",{style:{fontSize:"2em",textAlign:"center"}},"".concat(t.from," want to delete one ").concat(t.payload.type," you have created")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"}},r.a.createElement(he.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(we.a,null),onClick:a},"Disagree"),r.a.createElement(he.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(ke.a,null),onClick:this.agreeDeletion},"Agree")))}}]),t}(n.Component),je=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onQuit=function(){var e=a.state.pseudo;A.sendMessage({type:g.SOCKET_MSG.LEAVE_BOARD,from:e,to:"server",payload:{}})},a.setSelectedDrawing=function(e){a.setState({selectedDrawing:e})},a.handleObjectDelete=function(e){a.setState((function(t){return{isDeletePopUpDisplayed:!t.isDeletePopUpDisplayed,deleteMsg:t.isDeletePopUpDisplayed?null:e}}))},a.handleObjectDeleted=function(e){var t=a.state.selectedDrawing;t&&t.drawingId===e.drawingId&&a.setState({selectedDrawing:null})};var n=e.location.state,r=n.paperboard,s=n.pseudo,o=n.drawers;return a.state={paperboard:r,pseudo:s,drawers:o,selectedDrawing:null,isDeletePopUpDisplayed:!1,deleteMsg:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.subscribeToEvent(g.SOCKET_MSG.DRAWER_LEFT_BOARD,(function(t,a){e.setState({drawers:a});var n=e.state.pseudo;n===t&&e.props.history.push({pathname:"/lounge",state:{pseudo:n}})}),this),A.subscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,(function(t){e.setState({drawers:t})}),this),A.subscribeToEvent(g.SOCKET_MSG.DELETE_OBJECT,this.handleObjectDelete,this),A.subscribeToEvent(g.SOCKET_MSG.OBJECT_DELETED,this.handleObjectDeleted,this)}},{key:"componentWillUnmount",value:function(){var e=this;A.unsubscribeToEvent(g.SOCKET_MSG.DRAWER_LEFT_BOARD,(function(t,a){e.setState({drawers:a});var n=e.state.pseudo;n===t&&e.props.history.push({pathname:"/lounge",state:{pseudo:n}})}),this),A.unsubscribeToEvent(g.SOCKET_MSG.DRAWER_JOIN_BOARD,(function(t){e.setState({drawers:t})}),this),A.unsubscribeToEvent(g.SOCKET_MSG.DELETE_OBJECT,this.handleObjectDelete,this),A.unsubscribeToEvent(g.SOCKET_MSG.OBJECT_DELETED,this.handleObjectDeleted,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.paperboard,n=t.drawers,s=t.pseudo,o=t.selectedDrawing,i=t.isDeletePopUpDisplayed,l=t.deleteMsg;return r.a.createElement(m,{customStyle:{display:"flex",flexDirection:"column"},imgSrc:ne},r.a.createElement(ge,{paperboard:a,drawers:n,onQuit:this.onQuit}),i&&l&&r.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",justifyContent:"center",alignItems:"center"}},r.a.createElement(Be,{msg:l,handleObjectDelete:this.handleObjectDelete})),r.a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",flex:1}},r.a.createElement(de,{pseudo:s,resolutionWidth:1080,resolutionHeight:720}),r.a.createElement(J,{ref:function(t){return e.canvas=t},resolutionWidth:1080,resolutionHeight:720,toggleShapePanel:this.toggleShapePanel,board:a,pseudo:s,drawings:a.drawings,setSelectedDrawing:this.setSelectedDrawing}),r.a.createElement(ae,{selectedDrawing:o})),r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",position:"absolute",bottom:50,right:50}},r.a.createElement(Se,{pseudo:s})))}}]),t}(n.Component),_e=Object(u.f)(je),Me=a(152),Re=(a(365),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleDrawerDisconnected=function(){Me.a.fail("You have been disconnected from server, you will be redirected to login page",3e3,(function(){})),a.timeout=setTimeout((function(){"/"!==a.props.location.pathname&&a.props.history.push({pathname:"/"}),Me.a.hide()}),3e3)},window.performance&&1===performance.navigation.type&&"/"!==a.props.location.pathname&&(alert("This page is reloaded, you will be disconnected and redirected to the login page"),a.props.history.push({pathname:"/"})),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){A.subscribeToEvent(g.SOCKET_MSG.DRAWER_DISCONNECTED,this.handleDrawerDisconnected,this)}},{key:"componentWillUnmount",value:function(){A.unsubscribeToEvent(g.SOCKET_MSG.DRAWER_DISCONNECTED,this.handleDrawerDisconnected,this),this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:y}),r.a.createElement(u.a,{path:"/lounge",component:_}),r.a.createElement(u.a,{path:"/new-board",component:K}),r.a.createElement(u.a,{path:"/paperboard/:title",component:_e}))}}]),t}(n.Component)),Ne=Object(u.f)(Re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(s.render)(r.a.createElement(o.a,{basename:"/PaperBoardClient"},r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[238,1,2]]]);
//# sourceMappingURL=main.d7d17050.chunk.js.map